<!doctype html>
<html>
  <head>
    <title>Details toggle animation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="icon" href="data:," />
  </head>
  <body>
    <style>
      * {
        box-sizing: border-box;
      }

      #app {
        display: flex;
        flex-direction: row;
      }

      main {
        min-width: 200px;
        padding-bottom: 0;
        min-width: 200px; /* Prevents content area from becoming too narrow */
        box-sizing: border-box;
        min-height: 80vh; /* Ensures content area is at least viewport height */
        overflow-x: auto; /* Horizontal scrollbar appears when content is wider than available space */
        scrollbar-gutter: stable; /* Reserves space for scrollbar to prevent layout shifts */

        width: 100px;
      }

      details {
        width: 100%;
        overflow: hidden;
      }

      details > summary {
        user-select: none;
        background: lightblue;
      }

      details > summary + * {
        background: lightgreen;
      }

      * {
        box-sizing: border-box;
      }
    </style>

    <div id="app"></div>

    <script type="module" jsenv-type="module/jsx">
      import "../details_toggle_animation.js";
      import { render } from "preact";

      // eslint-disable-next-line no-unused-vars
      const App = () => {
        return (
          <main>
            <Details summary={"First summary"} />
            <Details summary={"Second summary"} />
            <Details summary={"Third summary"} />
          </main>
        );
      };

      // eslint-disable-next-line no-unused-vars
      const Details = ({ summary }) => {
        return (
          <details data-details-toggle-animation>
            <summary>{summary}</summary>
            <div style="padding: 20px; width: 100%">
              This is the main content area. Lorem ipsum dolor sit amet,
              consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut
              labore et dolore magna aliqua. Ut enim ad minim veniam, quis
              nostrud exercitation
              <button id="add">Add content</button>
            </div>
          </details>
        );
      };

      render(<App />, document.querySelector("#app"));
    </script>
  </body>
</html>
