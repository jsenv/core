# [step precision edge cases](../../state_signal_step.test.js)

```js
try {
  const signal = stateSignal(0, { type: "number", step: 0.1 });

  const results = [];

  // Test values near zero
  signal.value = 0.05; // Should round to 0.1
  results.push({ description: "0.05 -> 0.1", value: signal.value });

  signal.value = 0.04; // Should round to 0.0
  results.push({ description: "0.04 -> 0.0", value: signal.value });

  signal.value = -0.05; // Should round to -0.1
  results.push({ description: "-0.05 -> -0.1", value: signal.value });

  signal.value = -0.04; // Should round to 0.0
  results.push({ description: "-0.04 -> 0.0", value: signal.value });

  // Test larger values
  signal.value = 99.97; // Should round to 100.0
  results.push({ description: "99.97 -> 100.0", value: signal.value });

  signal.value = 99.93; // Should round to 99.9
  results.push({ description: "99.93 -> 99.9", value: signal.value });

  return { results };
} finally {
  globalSignalRegistry.clear();
}
```

```js
{
  "results": [
    {
      "description": "0.05 -> 0.1",
      "value": 0.1
    },
    {
      "description": "0.04 -> 0.0",
      "value": 0
    },
    {
      "description": "-0.05 -> -0.1",
      "value": -0.05
    },
    {
      "description": "-0.04 -> 0.0",
      "value": -0.04
    },
    {
      "description": "99.97 -> 100.0",
      "value": 100
    },
    {
      "description": "99.93 -> 99.9",
      "value": 99.9
    }
  ]
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
