# [8_static_fallback_dynamic_changes](../../state_signal.test.js)

```js
clearSignalRegistry();
const dynamicDefault = signal("initial_dynamic");
const sig = stateSignal(dynamicDefault, { default: "fallback_value" });

// Initially uses dynamic (not fallback since dynamic is defined)
const initialValue = sig.value;

// Dynamic becomes undefined - should use fallback
dynamicDefault.value = undefined;
const valueAfterDynamicUndefined = sig.value;

// Dynamic gets new value - should follow dynamic again
dynamicDefault.value = "new_dynamic";
const valueAfterNewDynamic = sig.value;

// User sets custom value
sig.value = "custom";
const valueAfterCustom = sig.value;

// Dynamic changes while custom - should keep custom
dynamicDefault.value = "another_dynamic";
const valueAfterDynamicChangeWithCustom = sig.value;

// Dynamic becomes undefined while custom - should keep custom
dynamicDefault.value = undefined;
const valueAfterDynamicUndefinedWithCustom = sig.value;

return {
  initialValue,
  valueAfterDynamicUndefined,
  valueAfterNewDynamic,
  valueAfterCustom,
  valueAfterDynamicChangeWithCustom,
  valueAfterDynamicUndefinedWithCustom,
};
```

```js
{
  "initialValue": "initial_dynamic",
  "valueAfterDynamicUndefined": "fallback_value",
  "valueAfterNewDynamic": "new_dynamic",
  "valueAfterCustom": "custom",
  "valueAfterDynamicChangeWithCustom": "custom",
  "valueAfterDynamicUndefinedWithCustom": "custom"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
