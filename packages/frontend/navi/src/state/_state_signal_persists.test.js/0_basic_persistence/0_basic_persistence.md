# [0_basic_persistence](../../state_signal_persists.test.js)

```js
clearAll();
const results = [];

// Create persisting signal with default
const sig = stateSignal("default", {
  id: "persist_basic",
  persists: true,
});

results.push({
  step: "initial value",
  value: sig.value,
  storageSize: mockLocalStorage.length,
});

// Set explicit value - should persist
sig.value = "stored";
results.push({
  step: "after setting explicit value",
  value: sig.value,
  storageSize: mockLocalStorage.length,
  storageValue: mockLocalStorage.getItem("persist_basic"),
});

// Reset to default - should clear from storage
sig.value = undefined;
results.push({
  step: "after reset to default",
  value: sig.value,
  storageSize: mockLocalStorage.length,
  storageValue: mockLocalStorage.getItem("persist_basic"),
});

return { results };
```

```js
{
  "results": [
    {
      "step": "initial value",
      "value": "default",
      "storageSize": 0
    },
    {
      "step": "after setting explicit value",
      "value": "stored",
      "storageSize": 1,
      "storageValue": '"stored"'
    },
    {
      "step": "after reset to default",
      "value": "default",
      "storageSize": 0,
      "storageValue": null
    }
  ]
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
