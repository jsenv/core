# [1_persistence_with_existing_storage](../../state_signal_persists.test.js)

```js
clearAll();

// Pre-populate storage
mockLocalStorage.setItem("existing", "pre_existing_value");

// Create signal - should use stored value
const sig = stateSignal("default", {
  id: "existing",
  persists: true,
});

const valueFromStorage = sig.value;
const defaultWouldBe = "default";

return {
  valueFromStorage,
  defaultWouldBe,
};
```

# 1/2 console.error

```console
Error decoding localStorage "existing" value:
```

# 2/2 return

```js
{
  "valueFromStorage": "default",
  "defaultWouldBe": "default"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
