<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>withPropsStyle Demo - Minimalist</title>
    <style>
      button {
        padding: 12px 20px;
        font-family: system-ui, sans-serif;
        border: 1px solid #ccc;
        border-radius: 4px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" jsenv-type="module/jsx">
      /* eslint-disable no-unused-vars */
      import { render } from "preact";
      import { withPropsStyle } from "../with_props_style.js";

      const Button = ({ style, children, ...rest }) => (
        <button
          style={withPropsStyle(
            {
              backgroundColor: "var(--background-color, #f8f9fa)",
            },
            style,
          )}
          {...rest}
        >
          {children}
        </button>
      );

      const Demo = () => {
        return (
          <div style={{ padding: "20px", fontFamily: "system-ui, sans-serif" }}>
            <h1>withPropsStyle Demo</h1>

            <section style={{ marginBottom: "30px" }}>
              <h2>1. Default Button</h2>
              <div>
                <Button>Default</Button>
              </div>
            </section>

            <section style={{ marginBottom: "30px" }}>
              <h2>2. Override via style + background-color</h2>
              <div style={{ display: "flex", gap: "10px", flexWrap: "wrap" }}>
                <Button style={{ backgroundColor: "#007bff" }}>
                  Object notation
                </Button>

                <Button style="background-color: #28a745;">
                  String notation
                </Button>
              </div>
            </section>

            <section>
              <h2>3. Override via style + CSS var</h2>
              <div style={{ display: "flex", gap: "10px", flexWrap: "wrap" }}>
                <Button style={{ "--background-color": "#dc3545" }}>
                  Object notation
                </Button>

                <Button style="--background-color: #ffc107;">
                  String notation
                </Button>
              </div>
            </section>
          </div>
        );
      };

      render(<Demo />, document.getElementById("app"));
    </script>
  </body>
</html>
