<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Link Demo</title>
    <style>
      body {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: #f5f5f5;
      }

      h1 {
        margin-bottom: 30px;
        color: #333;
        font-size: 2rem;
        text-align: center;
      }

      .demo-section {
        margin-bottom: 40px;
        padding: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .demo-section h2 {
        margin: 0 0 20px 0;
        padding-bottom: 10px;
        color: #333;
        font-size: 1.4rem;
        border-bottom: 2px solid #ddd;
      }

      fieldset {
        margin: 15px 0;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 6px;
      }

      legend {
        padding: 0 10px;
        color: #555;
        font-weight: 500;
        white-space: nowrap;
      }

      .states-section {
        margin: 20px 0;
      }

      .states-title {
        margin: 0 0 15px 0;
        padding: 8px 12px;
        color: #495057;
        font-weight: 600;
        font-size: 0.95rem;
        text-align: center;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border: 1px solid #dee2e6;
        border-radius: 6px;
      }

      .enhanced-states-title {
        color: #1565c0;
        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
        border-color: #2196f3;
      }

      .states-description {
        margin: 10px 0 15px 0;
        padding: 10px 15px;
        color: #666;
        font-style: italic;
        font-size: 0.9rem;
        background: #f8f9fa;
        border-left: 4px solid #007bff;
        border-radius: 0 4px 4px 0;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" jsenv-type="module/jsx">
      import { render } from "preact";
      import { Text, Link, Icon, Box, Title, Layout } from "@jsenv/navi";

      const Demo = () => {
        return (
          <div
            style={{
              padding: "20px",
              fontFamily: "system-ui, sans-serif",
              maxWidth: "1000px",
              lineHeight: "1.6",
            }}
          >
            <Title as="h1">Link States and Variations</Title>

            <div className="demo-section">
              <h2>Link States</h2>

              <div className="states-section">
                <div className="states-title">Standard HTML Link States</div>
                <p className="states-description">
                  These states work exactly like user agent HTML links, with
                  enhanced styling and consistent behavior.
                </p>

                <Layout column contentSpacing="sm">
                  <fieldset>
                    <legend>Default</legend>
                    <Layout row contentSpacing="sm" contentAlignX="start">
                      <Link href="./default" preventDefault>
                        Navi
                      </Link>
                      <a href="./default" onClick={(e) => e.preventDefault()}>
                        User Agent
                      </a>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:focus-visible</legend>
                    <Layout row contentSpacing="sm" contentAlignX="start">
                      <Link
                        href="./focus"
                        pseudoState={{ ":focus-visible": true }}
                        preventDefault
                      >
                        Link text
                      </Link>
                      <a
                        href="./focus"
                        autoFocus
                        onClick={(e) => e.preventDefault()}
                      >
                        Link text
                      </a>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:active</legend>
                    <Layout row contentSpacing="sm" contentAlignX="start">
                      <Link
                        href="./active"
                        pseudoState={{ ":active": true }}
                        preventDefault
                      >
                        Link text
                      </Link>
                      <a href="./active" onClick={(e) => e.preventDefault()}>
                        Link text
                      </a>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:visited</legend>
                    <Layout row contentSpacing="sm" contentAlignX="start">
                      <Link
                        href="./visited"
                        pseudoState={{ ":visited": true }}
                        preventDefault
                      >
                        Link text
                      </Link>
                      <a href="./visited" onClick={(e) => e.preventDefault()}>
                        Link text
                      </a>
                    </Layout>
                  </fieldset>
                </Layout>

                <div
                  style={{
                    marginTop: "15px",
                    padding: "10px",
                    background: "#f8f9fa",
                    borderRadius: "4px",
                    fontSize: "0.85rem",
                    color: "#666",
                  }}
                >
                  <strong>Note about :active and :visited states:</strong>
                  <p style={{ margin: "5px 0", paddingLeft: "0" }}>
                    In real browsers, :active and :visited states cannot be
                    forced through JavaScript for security reasons. The examples
                    above use pseudoState for demonstration in Navi links, while
                    user agent links show these states only when actually
                    clicked or visited.
                  </p>
                </div>
              </div>

              <div className="states-section">
                <div className="states-title enhanced-states-title">
                  Enhanced Navi States
                </div>
                <p className="states-description">
                  These additional states provide enhanced UX patterns not
                  available in standard HTML links.
                </p>

                <Layout column contentSpacing="sm">
                  <fieldset>
                    <legend>:read-only</legend>
                    <Layout row contentSpacing="sm" contentAlignX="start">
                      <Link href="./readonly" readOnly preventDefault>
                        Link text
                      </Link>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:disabled</legend>
                    <Layout row contentSpacing="sm" contentAlignX="start">
                      <Link href="./disabled" disabled preventDefault>
                        Link text
                      </Link>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:-navi-loading</legend>
                    <Layout row contentSpacing="sm" contentAlignX="start">
                      <Link href="./loading" loading readOnly preventDefault>
                        Link text
                      </Link>
                    </Layout>
                  </fieldset>
                </Layout>

                <div
                  style={{
                    marginTop: "15px",
                    padding: "10px",
                    background: "#f8f9fa",
                    borderRadius: "4px",
                    fontSize: "0.85rem",
                    color: "#666",
                  }}
                >
                  <strong>Enhanced State Explanations:</strong>
                  <ul style={{ margin: "5px 0", paddingLeft: "20px" }}>
                    <li>
                      <strong>Read-only:</strong> Visually indicates the link
                      cannot be clicked, but remains focusable for accessibility
                    </li>
                    <li>
                      <strong>Disabled:</strong> Prevents all interaction and
                      removes from tab order
                    </li>
                    <li>
                      <strong>Loading:</strong> Shows a spinner while
                      maintaining the link's accessibility and preventing
                      navigation
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            {/* Automatic Icon Behavior */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Automatic Icon Behavior</Title>
              <p>
                Links automatically add icons based on their target and
                behavior. This provides visual cues to users about what to
                expect when clicking the link.
              </p>

              <Layout row contentSpacing="lg">
                <div>
                  <h3>External Links</h3>
                  <Layout column contentSpacing="sm">
                    <Link href="https://example.com">Documentation</Link>
                  </Layout>
                  <p style={{ fontSize: "14px", color: "#666" }}>
                    External links get an icon by default.
                  </p>
                  <p
                    style={{
                      fontSize: "12px",
                      color: "#888",
                      fontStyle: "italic",
                    }}
                  >
                    Opt-out: Use target="_self" to disable the icon
                  </p>
                  <Layout column contentSpacing="xs">
                    <Link href="https://example.com" target="_self">
                      Documentation (no icon)
                    </Link>
                  </Layout>
                </div>

                <div>
                  <h3>Internal Links</h3>
                  <Layout column contentSpacing="sm">
                    <Link href="/settings">Settings</Link>
                  </Layout>
                  <p style={{ fontSize: "14px", color: "#666" }}>
                    Internal links have no icon by default.
                  </p>
                  <p
                    style={{
                      fontSize: "12px",
                      color: "#888",
                      fontStyle: "italic",
                    }}
                  >
                    Opt-in: Use target="_blank" to add an icon
                  </p>
                  <Layout column contentSpacing="xs">
                    <Link href="/settings" target="_blank">
                      Settings (new tab)
                    </Link>
                  </Layout>

                  <p
                    style={{
                      fontSize: "14px",
                      color: "#666",
                      marginTop: "12px",
                    }}
                  >
                    Same-document anchors get an anchor icon.
                  </p>
                  <Layout column contentSpacing="xs">
                    <Link href="#section">Go to section</Link>
                  </Layout>
                  <p
                    style={{
                      fontSize: "12px",
                      color: "#888",
                      fontStyle: "italic",
                    }}
                  >
                    Opt-out: Use anchorIcon={false} to disable
                  </p>
                  <Layout column contentSpacing="xs">
                    <Link href="#section" anchorIcon={false}>
                      Go to section (no icon)
                    </Link>
                  </Layout>
                </div>

                <div>
                  <h3>Special Protocol Icons</h3>
                  <Layout column contentSpacing="sm">
                    <Link href="tel:+1234567890">Call now</Link>
                    <Link href="sms:+1234567890">Send message</Link>
                    <Link href="mailto:test@example.com">Contact us</Link>
                    <Link href="https://github.com/jsenv/core">
                      View source
                    </Link>
                  </Layout>
                  <p style={{ fontSize: "14px", color: "#666" }}>
                    Special protocols and GitHub automatically get custom icons
                  </p>
                </div>
              </Layout>
            </Box>

            {/* Colors and Sizes Combined */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Colors and Sizes</Title>
              <p>
                Links with different color schemes, styling variations, and size
                options.
              </p>

              <Layout row contentSpacing="lg">
                <div>
                  <h3>Colors and Sizes</h3>
                  <Layout column contentSpacing="sm">
                    <Link href="./blue" preventDefault color="blue" size="sm">
                      Small blue
                    </Link>
                    <Link href="./green" preventDefault color="green">
                      Normal green
                    </Link>
                    <Link
                      href="./orange"
                      preventDefault
                      color="orange"
                      size="lg"
                    >
                      Large orange
                    </Link>
                    <Link
                      href="./purple"
                      preventDefault
                      color="purple"
                      size="xl"
                    >
                      Extra large purple
                    </Link>
                  </Layout>
                </div>
              </Layout>
            </Box>

            {/* Interactive States */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Interactive States</Title>
              <p>
                Links demonstrating different interactive behaviors and states.
              </p>

              <Layout row contentSpacing="lg">
                <div>
                  <h3>Hover Effects</h3>
                  <Layout column contentSpacing="sm">
                    <Link
                      href="./hover"
                      color="blue"
                      pseudoStyle={{ ":hover": { color: "green" } }}
                      preventDefault
                    >
                      Hover becomes green
                    </Link>
                    <Link
                      href="./hover"
                      color="green"
                      underline={false}
                      pseudoStyle={{ ":hover": { underline: true } }}
                      preventDefault
                    >
                      Hover shows underline
                    </Link>
                    <Link
                      href="./hover"
                      preventDefault
                      style={"--color-hover: yellow;"}
                    >
                      Hover color (using css vars)
                    </Link>
                  </Layout>
                </div>
              </Layout>
            </Box>
          </div>
        );
      };

      render(<Demo />, document.getElementById("app"));
    </script>
  </body>
</html>
