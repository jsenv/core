<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Link Demo</title>
    <style>
      body {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: #f5f5f5;
      }

      h1 {
        margin-bottom: 30px;
        color: #333;
        font-size: 2rem;
        text-align: center;
      }

      .demo-section {
        margin-bottom: 40px;
        padding: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .demo-section h2 {
        margin: 0 0 20px 0;
        padding-bottom: 10px;
        color: #333;
        font-size: 1.4rem;
        border-bottom: 2px solid #ddd;
      }

      fieldset {
        margin: 15px 0;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 6px;
      }

      legend {
        padding: 0 10px;
        color: #555;
        font-weight: 500;
        white-space: nowrap;
      }

      .states-section {
        margin: 20px 0;
      }

      .states-title {
        margin: 0 0 15px 0;
        padding: 8px 12px;
        color: #495057;
        font-weight: 600;
        font-size: 0.95rem;
        text-align: center;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border: 1px solid #dee2e6;
        border-radius: 6px;
      }

      .enhanced-states-title {
        color: #1565c0;
        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
        border-color: #2196f3;
      }

      .states-description {
        margin: 10px 0 15px 0;
        padding: 10px 15px;
        color: #666;
        font-style: italic;
        font-size: 0.9rem;
        background: #f8f9fa;
        border-left: 4px solid #007bff;
        border-radius: 0 4px 4px 0;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" jsenv-type="module/jsx">
      import { render } from "preact";
      import {
        Text,
        Link,
        Icon,
        Box,
        Title,
        Layout,
        Caption,
      } from "@jsenv/navi";

      const Demo = () => {
        return (
          <div
            style={{
              padding: "20px",
              fontFamily: "system-ui, sans-serif",
              maxWidth: "1000px",
              lineHeight: "1.6",
            }}
          >
            <Title as="h1">Link States and Variations</Title>

            <div className="demo-section">
              <h2>Link States</h2>

              <div className="states-section">
                <div className="states-title">Standard HTML Link States</div>
                <p className="states-description">
                  These states work exactly like user agent HTML links, with
                  enhanced styling and consistent behavior.
                </p>

                <Layout column spacing="sm">
                  <fieldset>
                    <legend>Default</legend>
                    <Layout row spacing="sm" alignX="start">
                      <Link href="./default" preventDefault>
                        Navi
                      </Link>
                      <a href="./default" onClick={(e) => e.preventDefault()}>
                        User Agent
                      </a>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:focus-visible</legend>
                    <Layout row spacing="sm" alignX="start">
                      <Link
                        href="./focus"
                        pseudoState={{ ":focus-visible": true }}
                        preventDefault
                      >
                        Link text
                      </Link>
                      <a
                        href="./focus"
                        autoFocus
                        onClick={(e) => e.preventDefault()}
                      >
                        Link text
                      </a>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:active</legend>
                    <Layout row spacing="sm" alignX="start">
                      <Link
                        href="./active"
                        pseudoState={{ ":active": true }}
                        preventDefault
                      >
                        Link text
                      </Link>
                      <a href="./active" onClick={(e) => e.preventDefault()}>
                        Link text
                      </a>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:visited</legend>
                    <Layout row spacing="sm" alignX="start">
                      <Link
                        href="./visited"
                        pseudoState={{ ":visited": true }}
                        preventDefault
                      >
                        Link text
                      </Link>
                      <a href="./visited" onClick={(e) => e.preventDefault()}>
                        Link text
                      </a>
                    </Layout>
                  </fieldset>
                </Layout>

                <div
                  style={{
                    marginTop: "15px",
                    padding: "10px",
                    background: "#f8f9fa",
                    borderRadius: "4px",
                    fontSize: "0.85rem",
                    color: "#666",
                  }}
                >
                  <strong>Note about :active and :visited states:</strong>
                  <p style={{ margin: "5px 0", paddingLeft: "0" }}>
                    In real browsers, :active and :visited states cannot be
                    forced through JavaScript for security reasons. The examples
                    above use pseudoState for demonstration in Navi links, while
                    user agent links show these states only when actually
                    clicked or visited.
                  </p>
                </div>
              </div>

              <div className="states-section">
                <div className="states-title enhanced-states-title">
                  Enhanced Navi States
                </div>
                <p className="states-description">
                  These additional states provide enhanced UX patterns not
                  available in standard HTML links.
                </p>

                <Layout column spacing="sm">
                  <fieldset>
                    <legend>:read-only</legend>
                    <Layout row spacing="sm" alignX="start">
                      <Link href="./readonly" readOnly preventDefault>
                        Link text
                      </Link>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:disabled</legend>
                    <Layout row spacing="sm" alignX="start">
                      <Link href="./disabled" disabled preventDefault>
                        Link text
                      </Link>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:-navi-loading</legend>
                    <Layout row spacing="sm" alignX="start">
                      <Link href="./loading" loading readOnly preventDefault>
                        Link text
                      </Link>
                    </Layout>
                  </fieldset>
                  <fieldset>
                    <legend>:-navi-href-current</legend>
                    <Layout row spacing="sm" alignX="start">
                      <Link
                        href="./current"
                        preventDefault
                        pseudoState={{ ":-navi-href-current": true }}
                        pseudoStyle={{
                          ":-navi-href-current": {
                            bold: true,
                            cursor: "default",
                          },
                        }}
                      >
                        Link text
                      </Link>
                    </Layout>
                  </fieldset>
                </Layout>

                <div
                  style={{
                    marginTop: "15px",
                    padding: "10px",
                    background: "#f8f9fa",
                    borderRadius: "4px",
                    fontSize: "0.85rem",
                    color: "#666",
                  }}
                >
                  <strong>Enhanced State Explanations:</strong>
                  <ul style={{ margin: "5px 0", paddingLeft: "20px" }}>
                    <li>
                      <strong>Read-only:</strong> Visually indicates the link
                      cannot be clicked, but remains focusable for accessibility
                    </li>
                    <li>
                      <strong>Disabled:</strong> Prevents all interaction and
                      removes from tab order
                    </li>
                    <li>
                      <strong>Loading:</strong> Shows a spinner while
                      maintaining the link's accessibility and preventing
                      navigation
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <AutomaticIconDemo />
            <ColorsAndSizesDemo />
            <InteractiveStatesDemo />
            <AnchorFeatureDemo />
          </div>
        );
      };

      const AutomaticIconDemo = () => {
        return (
          <Box as="section" marginBottom="xl">
            <Title as="h2">Automatic Icon Behavior</Title>
            <Box row>
              <Box row>
                <Caption>External link (icon added by default)</Caption>

                <Link href="https://example.com">Link text</Link>
              </Box>

              <Box row>
                <Caption>Internal link (no icon by default)</Caption>

                <Link href="/settings">Link text</Link>
              </Box>

              <Box row>
                <Caption>target="_blank" (adds external icon)</Caption>

                <Link href="/settings" target="_blank">
                  Link text
                </Link>
              </Box>

              <Box row>
                <Caption>Same-document anchor (adds anchor icon)</Caption>

                <Link href="#section">Link text</Link>
              </Box>

              <Box row>
                <Caption>anchorIcon={false} (disables anchor icon)</Caption>
                <Link href="#section" anchorIcon={false}>
                  Link text
                </Link>
              </Box>

              <Box row>
                <Caption>tel: / sms: / mailto: (custom icons)</Caption>

                <Box row>
                  <Link href="tel:+1234567890">Link text</Link>
                  <Link href="sms:+1234567890">Link text</Link>
                  <Link href="mailto:test@example.com">Link text</Link>
                </Box>
              </Box>

              <Box row>
                <Caption>GitHub URL (GitHub icon)</Caption>

                <Link href="https://github.com/jsenv/core">Link text</Link>
              </Box>
            </Box>
          </Box>
        );
      };

      const ColorsAndSizesDemo = () => {
        return (
          <Box as="section" marginBottom="xl">
            <Title as="h2">Colors and Sizes</Title>
            <Box row spacing="xxs">
              <Box row>
                <Caption>size="sm" color="blue"</Caption>
                <Link href="./blue" preventDefault color="blue" size="sm">
                  Link text
                </Link>
              </Box>
              <Box row>
                <Caption>size (default) color="green"</Caption>
                <Link href="./green" preventDefault color="green">
                  Link text
                </Link>
              </Box>
              <Box row>
                <Caption>size="lg" color="orange"</Caption>
                <Link href="./orange" preventDefault color="orange" size="lg">
                  Link text
                </Link>
              </Box>
              <Box row>
                <Caption>size="xl" color="purple"</Caption>
                <Link href="./purple" preventDefault color="purple" size="xl">
                  Link text
                </Link>
              </Box>
            </Box>
          </Box>
        );
      };

      const InteractiveStatesDemo = () => {
        return (
          <Box as="section" marginBottom="xl">
            <Title as="h2">Interactive States</Title>
            <Box row>
              <Box row>
                <Caption>Green on hover</Caption>
                <Link
                  href="./hover"
                  color="blue"
                  pseudoStyle={{ ":hover": { color: "green" } }}
                  preventDefault
                >
                  Link text
                </Link>
              </Box>
              <Box row>
                <Caption>Underline on hover</Caption>
                <Link
                  href="./hover"
                  color="green"
                  underline={false}
                  pseudoStyle={{ ":hover": { underline: true } }}
                  preventDefault
                >
                  Link text
                </Link>
              </Box>
              <Box row>
                <Caption>Yellow on hover (using --link-color-hover)</Caption>
                <Link
                  href="./hover"
                  preventDefault
                  style={"--link-color-hover: yellow;"}
                >
                  Link text
                </Link>
              </Box>
            </Box>
          </Box>
        );
      };

      const AnchorFeatureDemo = () => {
        return (
          <Box as="section" marginBottom="xl">
            <Title as="h2">Anchor Feature</Title>
            <Text>
              The <code>anchor</code> feature shows an anchor link for headings
              or any link, making it clear where the browser will navigate for
              same-document anchors and allowing users to copy the anchor.
            </Text>

            <Box row spacing="md" marginTop="md">
              <Box>
                <Caption>anchor</Caption>
                <br />
                <Link href="#anchor-to-text" anchor /> Some text
              </Box>

              <Box>
                <Caption>anchor + revealOnInteraction</Caption>
                <br />
                <Text relative>
                  <Link href="#anchor-to-text" anchor revealOnInteraction />
                  Some text
                </Text>
              </Box>

              <Box>
                <Caption>
                  revealOnInteraction — anchor floats left and appears on
                  hover/focus
                </Caption>
                <br />
                <Box background="green" width="50" height="50" relative>
                  <Link href="#anchor-to-box" anchor revealOnInteraction />
                </Box>
              </Box>

              <Box>
                <Caption>
                  Inside Title — revealOnInteraction auto enabled
                </Caption>
                <br />
                <Title as="h3" marginTop="0">
                  <Link href="#anchor-to-link" anchor />
                  Section Title
                </Title>
              </Box>
            </Box>
          </Box>
        );
      };

      render(<Demo />, document.getElementById("app"));
    </script>
  </body>
</html>
