<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Badge Count Demo</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" jsenv-type="module/jsx">
      import { render } from "preact";
      import {
        Text,
        Paragraph,
        Box,
        Title,
        BadgeCount,
        Link,
        Button,
      } from "@jsenv/navi";

      const Demo = () => {
        return (
          <div
            style={{
              padding: "20px",
              fontFamily: "system-ui, sans-serif",
              maxWidth: "800px",
              lineHeight: "1.6",
            }}
          >
            <Title as="h1">Badge Count Demo</Title>

            <Box as="section" marginBottom="xl">
              <Title as="h2">Text avec Compteur</Title>

              <Box row contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Exemples de base
                  </Title>
                  <Box row contentSpacing="md">
                    <Text>
                      Messages non lus
                      <BadgeCount background="red" color="white">
                        5
                      </BadgeCount>
                    </Text>

                    <Text>
                      Notifications en attente
                      <BadgeCount
                        background="#ffebee"
                        color="#d32f2f"
                        size="xs"
                      >
                        120
                      </BadgeCount>
                    </Text>

                    <Text>
                      Tâches à faire
                      <BadgeCount
                        background="#e8f5e8"
                        color="#2e7d32"
                        size="lg"
                      >
                        3
                      </BadgeCount>
                    </Text>
                  </Box>
                </div>

                <div>
                  <Title as="h3" size="18">
                    Compteurs avec badges colorés
                  </Title>
                  <Box row contentSpacing="md">
                    <Text>
                      Erreurs critiques
                      <BadgeCount
                        background="#f44336"
                        color="white"
                        borderRadius="12px"
                      >
                        2
                      </BadgeCount>
                    </Text>

                    <Text>
                      Avertissements
                      <BadgeCount
                        background="#ff9800"
                        color="white"
                        borderRadius="12px"
                      >
                        7
                      </BadgeCount>
                    </Text>

                    <Text>
                      Réussites
                      <BadgeCount
                        background="#4caf50"
                        color="white"
                        borderRadius="12px"
                      >
                        15
                      </BadgeCount>
                    </Text>
                  </Box>
                </div>

                <div>
                  <Title as="h3" size="18">
                    Compteurs avec nombres élevés
                  </Title>
                  <Box row contentSpacing="md">
                    <Text>
                      Abonnés sur YouTube
                      <BadgeCount
                        background="#f5f5f5"
                        color="#424242"
                        borderRadius="16px"
                        border="1px solid #e0e0e0"
                        size="lg"
                      >
                        1.2K
                      </BadgeCount>
                    </Text>

                    <Text>
                      Vues totales
                      <BadgeCount
                        background="#3f51b5"
                        color="white"
                        borderRadius="16px"
                        size="lg"
                      >
                        99+
                      </BadgeCount>
                    </Text>

                    <Text>
                      Points de fidélité
                      <BadgeCount
                        background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
                        color="white"
                        borderRadius="16px"
                        size="lg"
                      >
                        8.7K
                      </BadgeCount>
                    </Text>
                  </Box>
                </div>
              </Box>
            </Box>

            <Box as="section" marginBottom="xl">
              <Title as="h2">Badge avec alignX="end"</Title>

              <Box column contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Badges alignés à droite du conteneur
                  </Title>
                  <Box row contentSpacing="md">
                    <Box
                      style={{
                        border: "1px solid #e0e0e0",
                        borderRadius: "8px",
                        padding: "12px",
                        width: "400px",
                      }}
                    >
                      <Text>
                        Messages
                        <BadgeCount
                          background="#1976d2"
                          color="white"
                          alignX="end"
                        >
                          8
                        </BadgeCount>
                      </Text>
                    </Box>

                    <Box
                      style={{
                        border: "1px solid #e0e0e0",
                        borderRadius: "8px",
                        padding: "12px",
                        width: "350px",
                      }}
                    >
                      <Text>Alertes</Text>
                      <BadgeCount
                        background="#d32f2f"
                        color="white"
                        alignX="end"
                        size="xs"
                      >
                        25
                      </BadgeCount>
                    </Box>
                  </Box>

                  <Box row contentSpacing="md" marginTop="md">
                    <Box
                      style={{
                        border: "1px solid #e0e0e0",
                        borderRadius: "8px",
                        padding: "12px",
                        width: "500px",
                      }}
                    >
                      <Text>Tâches</Text>
                      <BadgeCount
                        background="#388e3c"
                        color="white"
                        alignX="end"
                        size="lg"
                      >
                        12
                      </BadgeCount>
                    </Box>

                    <Box
                      style={{
                        border: "1px solid #e0e0e0",
                        borderRadius: "8px",
                        padding: "12px",
                        width: "300px",
                      }}
                    >
                      <Text>News</Text>
                      <BadgeCount
                        background="#7b1fa2"
                        color="white"
                        alignX="end"
                        borderRadius="16px"
                      >
                        3
                      </BadgeCount>
                    </Box>
                  </Box>

                  <Box marginTop="md">
                    <Text
                      style={{
                        fontSize: "14px",
                        color: "#666",
                        fontStyle: "italic",
                      }}
                    >
                      Avec alignX="end", le badge se positionne toujours à
                      droite du conteneur, même quand le texte est court et ne
                      prend qu'une petite partie de l'espace disponible.
                    </Text>
                  </Box>
                </div>
              </Box>
            </Box>

            <Box as="section" marginBottom="xl">
              <Title as="h2">Badge avec limite max</Title>

              <Box row contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Exemples avec paramètre max
                  </Title>
                  <Box row contentSpacing="md">
                    <Text>
                      Notifications (max=9, valeur=15)
                      <BadgeCount background="#1976d2" color="white" max={9}>
                        15
                      </BadgeCount>
                    </Text>

                    <Text>
                      Messages (max=99, valeur=150)
                      <BadgeCount background="#d32f2f" color="white" max={99}>
                        150
                      </BadgeCount>
                    </Text>

                    <Text>
                      Abonnés (max=999, valeur=1250)
                      <BadgeCount
                        background="#388e3c"
                        color="white"
                        max={999}
                        size="lg"
                      >
                        1250
                      </BadgeCount>
                    </Text>

                    <Text>
                      Points (max=9999, valeur=12000)
                      <BadgeCount
                        background="#7b1fa2"
                        color="white"
                        max={9999}
                        borderRadius="16px"
                        size="lg"
                      >
                        12000
                      </BadgeCount>
                    </Text>
                  </Box>

                  <Box marginTop="md">
                    <Text
                      style={{
                        fontSize: "14px",
                        color: "#666",
                        fontStyle: "italic",
                      }}
                    >
                      Quand la valeur dépasse le paramètre max, on affiche
                      "max+" (ex: "9+", "99+", "999+", "9999+") au lieu de la
                      vraie valeur.
                    </Text>
                  </Box>
                </div>

                <div>
                  <Title as="h3" size="18">
                    Comparaison avec et sans limite
                  </Title>
                  <Box row contentSpacing="md">
                    <div
                      style={{
                        display: "flex",
                        gap: "20px",
                        alignItems: "center",
                      }}
                    >
                      <div>
                        <Text
                          style={{
                            fontSize: "12px",
                            color: "#666",
                            marginBottom: "4px",
                          }}
                        >
                          Sans limite max
                        </Text>
                        <Text>
                          Tâches
                          <BadgeCount background="#ff9800" color="white">
                            127
                          </BadgeCount>
                        </Text>
                      </div>

                      <div>
                        <Text
                          style={{
                            fontSize: "12px",
                            color: "#666",
                            marginBottom: "4px",
                          }}
                        >
                          Avec max=99
                        </Text>
                        <Text>
                          Tâches
                          <BadgeCount
                            background="#ff9800"
                            color="white"
                            max={99}
                          >
                            127
                          </BadgeCount>
                        </Text>
                      </div>
                    </div>

                    <div
                      style={{
                        display: "flex",
                        gap: "20px",
                        alignItems: "center",
                      }}
                    >
                      <div>
                        <Text
                          style={{
                            fontSize: "12px",
                            color: "#666",
                            marginBottom: "4px",
                          }}
                        >
                          Valeur = 5 ( max=9)
                        </Text>
                        <Text>
                          Alertes
                          <BadgeCount
                            background="#f44336"
                            color="white"
                            max={9}
                          >
                            5
                          </BadgeCount>
                        </Text>
                      </div>

                      <div>
                        <Text
                          style={{
                            fontSize: "12px",
                            color: "#666",
                            marginBottom: "4px",
                          }}
                        >
                          Valeur = 15 (> max=9)
                        </Text>
                        <Text>
                          Alertes
                          <BadgeCount
                            background="#f44336"
                            color="white"
                            max={9}
                          >
                            15
                          </BadgeCount>
                        </Text>
                      </div>
                    </div>
                  </Box>
                </div>
              </Box>
            </Box>

            <Box as="section" marginBottom="xl">
              <Title as="h2">Best Practices</Title>

              <Box column contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Auto-spacing avec composants inline
                  </Title>

                  <Box marginBottom="md">
                    <Text
                      style={{
                        fontSize: "14px",
                        color: "#666",
                        fontStyle: "italic",
                      }}
                    >
                      Pour bénéficier de l'espacement automatique, placez
                      BadgeCount dans des composants inline comme &lt;Text&gt;,
                      &lt;Paragraph&gt;, &lt;Link&gt;, &lt;Button&gt;, etc.
                    </Text>
                  </Box>

                  <Box column contentSpacing="lg">
                    <div>
                      <Title
                        as="h4"
                        size="16"
                        style={{ color: "#d32f2f", marginBottom: "8px" }}
                      >
                        ❌ Incorrect : Badge en dehors du texte
                      </Title>
                      <Box
                        style={{
                          border: "1px solid #ffcdd2",
                          borderRadius: "8px",
                          padding: "12px",
                          backgroundColor: "#ffeaea",
                        }}
                      >
                        <div style={{ display: "flex", alignItems: "center" }}>
                          <span>Messages</span>
                          <BadgeCount background="#1976d2" color="white">
                            5
                          </BadgeCount>
                        </div>
                      </Box>
                      <Text
                        style={{
                          fontSize: "12px",
                          color: "#666",
                          fontStyle: "italic",
                          marginTop: "8px",
                        }}
                      >
                        Pas d'espacement automatique entre le texte et le badge
                      </Text>
                    </div>

                    <div>
                      <Title
                        as="h4"
                        size="16"
                        style={{ color: "#2e7d32", marginBottom: "8px" }}
                      >
                        ✅ Correct : Badge dans un composant Text
                      </Title>
                      <Box
                        style={{
                          border: "1px solid #c8e6c9",
                          borderRadius: "8px",
                          padding: "12px",
                          backgroundColor: "#e8f5e8",
                        }}
                      >
                        <Text>
                          Messages
                          <BadgeCount background="#1976d2" color="white">
                            5
                          </BadgeCount>
                        </Text>
                      </Box>
                      <Text
                        style={{
                          fontSize: "12px",
                          color: "#666",
                          fontStyle: "italic",
                          marginTop: "8px",
                        }}
                      >
                        Espacement automatique et cohérent grâce au composant
                        Text
                      </Text>
                    </div>
                  </Box>

                  <Box marginTop="lg">
                    <Title as="h4" size="16">
                      Exemples avec différents composants inline
                    </Title>
                    <Box row contentSpacing="md" marginTop="md">
                      <div>
                        <Text
                          style={{
                            fontSize: "14px",
                            color: "#666",
                            marginBottom: "8px",
                          }}
                        >
                          Avec Text :
                        </Text>
                        <Text>
                          Notifications
                          <BadgeCount background="#ff9800" color="white">
                            3
                          </BadgeCount>
                        </Text>
                      </div>

                      <div>
                        <Text
                          style={{
                            fontSize: "14px",
                            color: "#666",
                            marginBottom: "8px",
                          }}
                        >
                          Avec Paragraph :
                        </Text>
                        <Paragraph>
                          Vos messages
                          <BadgeCount
                            background="#4caf50"
                            color="white"
                            size="xs"
                          >
                            8
                          </BadgeCount>
                          sont prêts à être consultés.
                        </Paragraph>
                      </div>

                      <div>
                        <Text
                          style={{
                            fontSize: "14px",
                            color: "#666",
                            marginBottom: "8px",
                          }}
                        >
                          Avec Link :
                        </Text>
                        <Link href="#" underline={false}>
                          <Text underline>Voir les alertes</Text>
                          <BadgeCount
                            background="#f44336"
                            color="white"
                            max="99"
                          >
                            127
                          </BadgeCount>
                        </Link>
                      </div>

                      <div>
                        <Text
                          style={{
                            fontSize: "14px",
                            color: "#666",
                            marginBottom: "8px",
                          }}
                        >
                          Avec Button :
                        </Text>
                        <Button>
                          Tâches
                          <BadgeCount background="#2196f3" color="white">
                            5
                          </BadgeCount>
                        </Button>
                      </div>
                    </Box>
                  </Box>
                </div>
              </Box>
            </Box>
          </div>
        );
      };

      render(<Demo />, document.getElementById("app"));
    </script>
  </body>
</html>
