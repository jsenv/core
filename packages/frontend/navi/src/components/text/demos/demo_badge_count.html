<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Badge Count Demo</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" jsenv-type="module/jsx">
      import { render } from "preact";
      import {
        Text,
        Paragraph,
        Box,
        Title,
        BadgeCount,
        Link,
        Button,
      } from "@jsenv/navi";

      // Composants JSX pour éviter les erreurs de syntaxe lors des modifications
      const TableOfContents = () => (
        <Box as="section" marginBottom="xl">
          <Title as="h2">Table des matières</Title>
          <Box row spacing="xs" marginTop="md">
            <Link href="#exemples-base">1. Exemples de base</Link>
            <Link href="#line-heights">
              2. Comportement avec différents line-heights
            </Link>
            <Link href="#integration-composants">
              3. Intégration dans différents composants
            </Link>
            <Link href="#badge-positioning">4. Badge positioning</Link>
            <Link href="#nowrap">
              5. Association texte + badge (pas de coupure)
            </Link>
            <Link href="#nombres-max">
              6. Compteurs avec nombres élevés et paramètre max
            </Link>
          </Box>
        </Box>
      );

      const ExemplesBase = () => (
        <Box as="section" marginBottom="xl" id="exemples-base">
          <Title as="h2">Exemples de base</Title>
          <Box row spacing="md">
            <Text>
              Messages non lus
              <BadgeCount background="red">5</BadgeCount>
            </Text>

            <Text>
              Notifications en attente
              <BadgeCount backgroundColor="#ffebee" size="xs">
                120
              </BadgeCount>
            </Text>

            <Text>
              Tâches à faire
              <BadgeCount backgroundColor="#e8f5e8" color="#2e7d32" size="lg">
                3
              </BadgeCount>
            </Text>
          </Box>
        </Box>
      );

      const LineHeightsSection = () => (
        <Box as="section" marginBottom="xl" id="line-heights">
          <Title as="h2">Comportement avec différents line-heights</Title>
          <Paragraph>
            Ces exemples montrent comment le badge s'adapte à différentes
            hauteurs de ligne. Les bordures colorées visualisent la hauteur
            réelle occupée par chaque ligne.
          </Paragraph>
          <Box column spacing="lg">
            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "8px",
                  display: "block",
                }}
              >
                line-height: 1.4 - Hauteur de ligne compacte
              </Text>
              <div
                style={{
                  border: "2px dashed #2196f3",
                  backgroundColor: "rgba(33, 150, 243, 0.05)",
                  padding: "8px",
                  borderRadius: "4px",
                  lineHeight: "1.4",
                  fontSize: "16px",
                }}
              >
                <Text noWrap>
                  Messages
                  <BadgeCount background="#9c27b0" color="white">
                    2
                  </BadgeCount>
                </Text>
              </div>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "8px",
                  display: "block",
                }}
              >
                line-height: 2 - Hauteur de ligne espacée
              </Text>
              <div
                style={{
                  border: "2px dashed #ff9800",
                  backgroundColor: "rgba(255, 152, 0, 0.05)",
                  padding: "8px",
                  borderRadius: "4px",
                  lineHeight: "2",
                  fontSize: "16px",
                }}
              >
                <Text noWrap>
                  Messages
                  <BadgeCount background="#ff5722" color="white">
                    2
                  </BadgeCount>
                </Text>
              </div>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "8px",
                  display: "block",
                }}
              >
                line-height: 3 - Hauteur de ligne très espacée
              </Text>
              <div
                style={{
                  border: "2px dashed #4caf50",
                  backgroundColor: "rgba(76, 175, 80, 0.05)",
                  padding: "8px",
                  borderRadius: "4px",
                  lineHeight: "3",
                  fontSize: "16px",
                }}
              >
                <Text noWrap>
                  Messages
                  <BadgeCount background="#795548" color="white">
                    2
                  </BadgeCount>
                </Text>
              </div>
            </div>
          </Box>
        </Box>
      );

      const IntegrationComposantsSection = () => (
        <Box as="section" marginBottom="xl" id="integration-composants">
          <Title as="h2">Intégration dans différents composants</Title>
          <Box row spacing="lg">
            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Avec Text
              </Text>
              <Text>
                Notifications
                <BadgeCount background="#ff9800" color="white">
                  3
                </BadgeCount>
              </Text>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Avec Paragraph
              </Text>
              <Paragraph>
                Vos messages
                <BadgeCount background="#4caf50" color="white" size="xs">
                  8
                </BadgeCount>
                sont prêts.
              </Paragraph>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Avec Button
              </Text>
              <Box column spacing="md">
                <Button selfAlignY="start">
                  Tâches
                  <BadgeCount background="#2196f3" color="white">
                    5
                  </BadgeCount>
                </Button>

                <Button lineHeight="2.5">
                  Tâches
                  <BadgeCount background="#2196f3" color="white">
                    5
                  </BadgeCount>
                </Button>
              </Box>
            </div>
          </Box>
        </Box>
      );

      const BadgePositioningSection = () => (
        <Box as="section" marginBottom="xl" id="badge-positioning">
          <Title as="h2">Badge positioning</Title>
          <Box row spacing="md">
            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Position au début du conteneur
              </Text>
              <Box row spacing="md">
                <Box
                  column
                  alignX="start"
                  alignY="center"
                  border="1px solid #e0e0e0"
                  borderRadius="8px"
                  padding="sm"
                  width="200"
                >
                  <BadgeCount background="#ff9800" color="white" size="xs">
                    12
                  </BadgeCount>
                  <Text selfAlignX="end">Tâches en attente</Text>
                </Box>

                <Box
                  column
                  alignX="end"
                  alignY="center"
                  border="1px solid #e0e0e0"
                  borderRadius="8px"
                  padding="sm"
                  width="250"
                >
                  <BadgeCount
                    background="#4caf50"
                    color="white"
                    selfAlignX="start"
                    size="xs"
                  >
                    12
                  </BadgeCount>
                  <Text>Tâches en attente</Text>
                </Box>
              </Box>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Position à la fin du conteneur
              </Text>
              <Box row spacing="md">
                <Box
                  column
                  alignX="end"
                  alignY="center"
                  border="1px solid #e0e0e0"
                  borderRadius="8px"
                  padding="sm"
                  width="200"
                >
                  <Text selfAlignX="start">Alertes</Text>
                  <BadgeCount background="#d32f2f" color="white" size="xs">
                    25
                  </BadgeCount>
                </Box>

                <Box
                  column
                  alignX="start"
                  border="1px solid #e0e0e0"
                  borderRadius="8px"
                  padding="sm"
                  width="250"
                >
                  Messages
                  <BadgeCount
                    background="#1976d2"
                    color="white"
                    selfAlignX="end"
                  >
                    8
                  </BadgeCount>
                </Box>
              </Box>
            </div>
          </Box>
        </Box>
      );

      const NoWrapSection = () => (
        <Box as="section" marginBottom="xl" id="nowrap">
          <Title as="h2">Association texte + badge (pas de coupure)</Title>
          <Box column spacing="md">
            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Sans noWrap - Le badge peut être séparé du texte
              </Text>
              <Paragraph
                overflowEllipsis
                style={{
                  width: "120px",
                  border: "1px solid #ddd",
                  padding: "8px",
                  backgroundColor: "#f9f9f9",
                }}
              >
                <Text>
                  Vous avez
                  <BadgeCount background="#673ab7" color="white">
                    15
                  </BadgeCount>
                  messages
                </Text>
              </Paragraph>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Avec noWrap - Le badge et "messages" restent ensemble
              </Text>
              <Paragraph
                overflowEllipsis
                style={{
                  width: "120px",
                  border: "1px solid #ddd",
                  padding: "8px",
                  backgroundColor: "#e8f5e8",
                }}
              >
                Vous avez
                <Text noWrap>
                  <BadgeCount background="#673ab7" color="white">
                    15
                  </BadgeCount>
                  messages
                </Text>
              </Paragraph>
            </div>
          </Box>
        </Box>
      );

      const NombresMaxSection = () => (
        <Box as="section" marginBottom="xl" id="nombres-max">
          <Title as="h2">Compteurs avec nombres élevés et paramètre max</Title>
          <Box column spacing="md">
            <Box row spacing="md">
              <Text>
                Sans limite
                <BadgeCount background="#e91e63" color="white">
                  1234
                </BadgeCount>
              </Text>

              <Text>
                Max 99
                <BadgeCount background="#e91e63" color="white" max={99}>
                  1234
                </BadgeCount>
              </Text>

              <Text>
                Max 999
                <BadgeCount background="#e91e63" color="white" max={999}>
                  1234
                </BadgeCount>
              </Text>
            </Box>
          </Box>
        </Box>
      );

      const Demo = () => {
        return (
          <div
            style={{
              padding: "20px",
              fontFamily: "system-ui, sans-serif",
              maxWidth: "800px",
              lineHeight: "1.6",
            }}
          >
            <Title as="h1">Badge Count Demo</Title>

            <TableOfContents />
            <ExemplesBase />
            <LineHeightsSection />
            <IntegrationComposantsSection />
            <BadgePositioningSection />
            <NoWrapSection />
            <NombresMaxSection />
          </div>
        );
      };

      render(<Demo />, document.getElementById("app"));
    </script>
  </body>
</html>
