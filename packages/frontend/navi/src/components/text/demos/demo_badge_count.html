<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Badge Count Demo</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" jsenv-type="module/jsx">
      import { render } from "preact";
      import {
        Text,
        Paragraph,
        Box,
        Title,
        BadgeCount,
        Link,
        Button,
      } from "@jsenv/navi";

      const Demo = () => {
        return (
          <div
            style={{
              padding: "20px",
              fontFamily: "system-ui, sans-serif",
              maxWidth: "800px",
              lineHeight: "1.6",
            }}
          >
            <Title as="h1">Badge Count Demo</Title>

            {/* Section 1: Exemples de base - garde le premier exemple parfait */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Exemples de base</Title>
              <Box row contentSpacing="md">
                <Text>
                  Messages non lus
                  <BadgeCount background="red" color="white">
                    5
                  </BadgeCount>
                </Text>

                <Text>
                  Notifications en attente
                  <BadgeCount background="#ffebee" color="#d32f2f" size="xs">
                    120
                  </BadgeCount>
                </Text>

                <Text>
                  Tâches à faire
                  <BadgeCount background="#e8f5e8" color="#2e7d32" size="lg">
                    3
                  </BadgeCount>
                </Text>
              </Box>
            </Box>

            {/* Section 2: Comportement avec line-heights */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Comportement avec différents line-heights</Title>
              <Box row contentSpacing="md">
                <Text
                  style={{
                    lineHeight: "1.4",
                    border: "1px solid #e0e0e0",
                    backgroundColor: "#f9f9f9",
                    padding: "4px 8px",
                    borderRadius: "4px",
                  }}
                >
                  Line-height normal (1.4)
                  <BadgeCount background="#9c27b0" color="white">
                    23
                  </BadgeCount>
                </Text>

                <Text
                  style={{
                    lineHeight: "2",
                    border: "1px solid #e0e0e0",
                    backgroundColor: "#f9f9f9",
                    padding: "4px 8px",
                    borderRadius: "4px",
                  }}
                >
                  Line-height 2
                  <BadgeCount background="#ff5722" color="white">
                    4
                  </BadgeCount>
                </Text>

                <Text
                  style={{
                    lineHeight: "3",
                    fontSize: "18px",
                    border: "1px solid #e0e0e0",
                    backgroundColor: "#f9f9f9",
                    padding: "4px 8px",
                    borderRadius: "4px",
                  }}
                >
                  Line-height 3 avec fontSize plus grand
                  <BadgeCount background="#607d8b" color="white" size="lg">
                    15
                  </BadgeCount>
                </Text>
              </Box>
              <Box marginTop="md">
                <Text
                  style={{
                    fontSize: "14px",
                    color: "#666",
                    fontStyle: "italic",
                  }}
                >
                  Les bordures montrent la hauteur de ligne réelle. Le badge
                  s'adapte automatiquement à la hauteur de ligne du composant
                  parent.
                </Text>
              </Box>
            </Box>

            {/* Section 3: Comportement inline - retour à la ligne */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Comportement inline - retour à la ligne</Title>
              <Box column contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Le badge se comporte comme du texte normal
                  </Title>
                  <Box
                    style={{
                      border: "1px solid #e0e0e0",
                      borderRadius: "8px",
                      padding: "16px",
                      backgroundColor: "#fafafa",
                      width: "300px",
                    }}
                  >
                    <Paragraph>
                      Voici un texte assez long qui va dépasser la largeur du
                      conteneur et provoquer un retour à la ligne. Les
                      notifications
                      <BadgeCount background="#1976d2" color="white">
                        42
                      </BadgeCount>
                      peuvent apparaître au milieu d'une phrase et continuer
                      naturellement sur la ligne suivante si nécessaire.
                    </Paragraph>
                  </Box>

                  <Box marginTop="md">
                    <Text
                      style={{
                        fontSize: "14px",
                        color: "#666",
                        fontStyle: "italic",
                      }}
                    >
                      Le badge suit le flux du texte et peut passer à la ligne
                      comme n'importe quel caractère.
                    </Text>
                  </Box>
                </div>

                <div>
                  <Title as="h3" size="18">
                    Plusieurs badges dans un texte
                  </Title>
                  <Box
                    style={{
                      border: "1px solid #e0e0e0",
                      borderRadius: "8px",
                      padding: "16px",
                      backgroundColor: "#fafafa",
                      width: "280px",
                    }}
                  >
                    <Paragraph>
                      Messages
                      <BadgeCount background="#4caf50" color="white" size="xs">
                        12
                      </BadgeCount>
                      reçus aujourd'hui, alertes
                      <BadgeCount background="#f44336" color="white" size="xs">
                        3
                      </BadgeCount>
                      urgentes en attente, et tâches
                      <BadgeCount background="#ff9800" color="white" size="xs">
                        8
                      </BadgeCount>
                      à terminer cette semaine.
                    </Paragraph>
                  </Box>
                </div>
              </Box>
            </Box>

            {/* Section 4: Association texte + badge avec noWrap */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Association texte + badge (pas de coupure)</Title>
              <Box column contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Garder le mot et son compteur ensemble
                  </Title>

                  <Box marginBottom="md">
                    <Text
                      style={{
                        fontSize: "14px",
                        color: "#666",
                        fontStyle: "italic",
                      }}
                    >
                      Utilisez noWrap sur le composant Text qui contient le mot
                      + badge pour éviter qu'ils se séparent lors d'un retour à
                      la ligne.
                    </Text>
                  </Box>

                  <Box column contentSpacing="md">
                    <div>
                      <Title
                        as="h4"
                        size="16"
                        style={{ color: "#d32f2f", marginBottom: "8px" }}
                      >
                        ❌ Sans noWrap : le badge peut se séparer du mot
                      </Title>
                      <Box
                        style={{
                          border: "1px solid #ffcdd2",
                          borderRadius: "8px",
                          padding: "16px",
                          backgroundColor: "#ffeaea",
                          width: "200px",
                        }}
                      >
                        <Paragraph>
                          Consultez vos messages
                          <BadgeCount background="#1976d2" color="white">
                            156
                          </BadgeCount>
                          et répondez rapidement.
                        </Paragraph>
                      </Box>
                    </div>

                    <div>
                      <Title
                        as="h4"
                        size="16"
                        style={{ color: "#2e7d32", marginBottom: "8px" }}
                      >
                        ✅ Avec noWrap : le mot et son badge restent ensemble
                      </Title>
                      <Box
                        style={{
                          border: "1px solid #c8e6c9",
                          borderRadius: "8px",
                          padding: "16px",
                          backgroundColor: "#e8f5e8",
                          width: "200px",
                        }}
                      >
                        <Paragraph>
                          Consultez vos{" "}
                          <Text noWrap>
                            messages
                            <BadgeCount background="#1976d2" color="white">
                              156
                            </BadgeCount>
                          </Text>{" "}
                          et répondez rapidement.
                        </Paragraph>
                      </Box>
                    </div>
                  </Box>
                </div>

                <div>
                  <Title as="h3" size="18">
                    Exemples pratiques avec noWrap
                  </Title>
                  <Box
                    style={{
                      border: "1px solid #e0e0e0",
                      borderRadius: "8px",
                      padding: "16px",
                      backgroundColor: "#fafafa",
                      width: "250px",
                    }}
                  >
                    <Box column contentSpacing="sm">
                      <Paragraph>
                        Interface avec{" "}
                        <Text noWrap>
                          notifications
                          <BadgeCount
                            background="#ff9800"
                            color="white"
                            size="xs"
                          >
                            23
                          </BadgeCount>
                        </Text>{" "}
                        et{" "}
                        <Text noWrap>
                          alertes
                          <BadgeCount
                            background="#f44336"
                            color="white"
                            size="xs"
                          >
                            5
                          </BadgeCount>
                        </Text>{" "}
                        en temps réel.
                      </Paragraph>

                      <Paragraph>
                        Dashboard montrant les{" "}
                        <Text noWrap>
                          ventes
                          <BadgeCount background="#4caf50" color="white">
                            1.2k
                          </BadgeCount>
                        </Text>{" "}
                        du mois.
                      </Paragraph>

                      <Paragraph>
                        Gestion des{" "}
                        <Text noWrap>
                          utilisateurs
                          <BadgeCount
                            background="#9c27b0"
                            color="white"
                            max={999}
                          >
                            1250
                          </BadgeCount>
                        </Text>{" "}
                        actifs sur la plateforme.
                      </Paragraph>
                    </Box>
                  </Box>
                </div>
              </Box>
            </Box>

            {/* Section 5: Nombres élevés et max */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">
                Compteurs avec nombres élevés et paramètre max
              </Title>
              <Box column contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Nombres élevés
                  </Title>
                  <Box row contentSpacing="md">
                    <Text>
                      Abonnés YouTube
                      <BadgeCount
                        background="#f5f5f5"
                        color="#424242"
                        borderRadius="16px"
                        border="1px solid #e0e0e0"
                        size="lg"
                      >
                        1250
                      </BadgeCount>
                    </Text>

                    <Text>
                      Points fidélité
                      <BadgeCount
                        background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
                        color="white"
                        borderRadius="16px"
                        size="lg"
                      >
                        8700
                      </BadgeCount>
                    </Text>
                  </Box>
                </div>

                <div>
                  <Title as="h3" size="18">
                    Avec limite max
                  </Title>
                  <Box row contentSpacing="md">
                    <Text>
                      Messages (max=99)
                      <BadgeCount background="#d32f2f" color="white" max={99}>
                        150
                      </BadgeCount>
                    </Text>

                    <Text>
                      Notifications (max=9)
                      <BadgeCount background="#1976d2" color="white" max={9}>
                        15
                      </BadgeCount>
                    </Text>
                  </Box>
                  <Box marginTop="md">
                    <Text
                      style={{
                        fontSize: "14px",
                        color: "#666",
                        fontStyle: "italic",
                      }}
                    >
                      Quand la valeur dépasse le paramètre max, on affiche
                      "max+" au lieu de la vraie valeur.
                    </Text>
                  </Box>
                </div>
              </Box>
            </Box>

            {/* Section 6: Intégration dans différents composants */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Intégration dans différents composants</Title>
              <Box row contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Exemples d'intégration
                  </Title>
                  <Box row contentSpacing="md">
                    <div>
                      <Text
                        style={{
                          fontSize: "14px",
                          color: "#666",
                          marginBottom: "8px",
                        }}
                      >
                        Avec Text :
                      </Text>
                      <Text>
                        Notifications
                        <BadgeCount background="#ff9800" color="white">
                          3
                        </BadgeCount>
                      </Text>
                    </div>

                    <div>
                      <Text
                        style={{
                          fontSize: "14px",
                          color: "#666",
                          marginBottom: "8px",
                        }}
                      >
                        Avec Paragraph :
                      </Text>
                      <Paragraph>
                        Vos messages
                        <BadgeCount
                          background="#4caf50"
                          color="white"
                          size="xs"
                        >
                          8
                        </BadgeCount>
                        sont prêts à être consultés.
                      </Paragraph>
                    </div>

                    <div>
                      <Text
                        style={{
                          fontSize: "14px",
                          color: "#666",
                          marginBottom: "8px",
                        }}
                      >
                        Avec Link :
                      </Text>
                      <Link href="#" underline={false}>
                        <Text underline>Voir les alertes</Text>
                        <BadgeCount background="#f44336" color="white" max="99">
                          127
                        </BadgeCount>
                      </Link>
                    </div>

                    <div>
                      <Text
                        style={{
                          fontSize: "14px",
                          color: "#666",
                          marginBottom: "8px",
                        }}
                      >
                        Avec Button :
                      </Text>
                      <Button>
                        Tâches
                        <BadgeCount background="#2196f3" color="white">
                          5
                        </BadgeCount>
                      </Button>
                    </div>

                    <div>
                      <Text
                        style={{
                          fontSize: "14px",
                          color: "#666",
                          marginBottom: "8px",
                        }}
                      >
                        Avec Button plus grand :
                      </Text>
                      <Button
                        style={{
                          lineHeight: "2.5",
                          padding: "16px 24px",
                          fontSize: "16px",
                        }}
                      >
                        Gérer les tâches
                        <BadgeCount background="#388e3c" color="white">
                          12
                        </BadgeCount>
                      </Button>
                    </div>
                  </Box>
                </div>

                <div>
                  <Title as="h3" size="18">
                    Badges alignés à droite (alignX="end")
                  </Title>
                  <Box row contentSpacing="md">
                    <Box
                      style={{
                        border: "1px solid #e0e0e0",
                        borderRadius: "8px",
                        padding: "12px",
                        width: "300px",
                      }}
                    >
                      <Text>Messages</Text>
                      <BadgeCount
                        background="#1976d2"
                        color="white"
                        alignX="end"
                      >
                        8
                      </BadgeCount>
                    </Box>

                    <Box
                      style={{
                        border: "1px solid #e0e0e0",
                        borderRadius: "8px",
                        padding: "12px",
                        width: "350px",
                      }}
                    >
                      <Text>Alertes</Text>
                      <BadgeCount
                        background="#d32f2f"
                        color="white"
                        alignX="end"
                        size="xs"
                      >
                        25
                      </BadgeCount>
                    </Box>
                  </Box>
                  <Box marginTop="md">
                    <Text
                      style={{
                        fontSize: "14px",
                        color: "#666",
                        fontStyle: "italic",
                      }}
                    >
                      Avec alignX="end", le badge se positionne à droite du
                      conteneur, même quand le texte est court.
                    </Text>
                  </Box>
                </div>
              </Box>
            </Box>

            {/* Section 7: Best Practices en dernier */}
            <Box as="section" marginBottom="xl">
              <Title as="h2">Best Practices</Title>

              <Box column contentSpacing="lg">
                <div>
                  <Title as="h3" size="18">
                    Auto-spacing avec composants inline
                  </Title>

                  <Box marginBottom="md">
                    <Text
                      style={{
                        fontSize: "14px",
                        color: "#666",
                        fontStyle: "italic",
                      }}
                    >
                      Pour bénéficier de l'espacement automatique, placez
                      BadgeCount dans des composants inline comme &lt;Text&gt;,
                      &lt;Paragraph&gt;, &lt;Link&gt;, &lt;Button&gt;, etc.
                    </Text>
                  </Box>

                  <Box column contentSpacing="lg">
                    <div>
                      <Title
                        as="h4"
                        size="16"
                        style={{ color: "#d32f2f", marginBottom: "8px" }}
                      >
                        ❌ Incorrect : Badge en dehors du texte
                      </Title>
                      <Box
                        style={{
                          border: "1px solid #ffcdd2",
                          borderRadius: "8px",
                          padding: "12px",
                          backgroundColor: "#ffeaea",
                        }}
                      >
                        <div style={{ display: "flex", alignItems: "center" }}>
                          <span>Messages</span>
                          <BadgeCount background="#1976d2" color="white">
                            5
                          </BadgeCount>
                        </div>
                      </Box>
                      <Text
                        style={{
                          fontSize: "12px",
                          color: "#666",
                          fontStyle: "italic",
                          marginTop: "8px",
                        }}
                      >
                        Pas d'espacement automatique entre le texte et le badge
                      </Text>
                    </div>

                    <div>
                      <Title
                        as="h4"
                        size="16"
                        style={{ color: "#2e7d32", marginBottom: "8px" }}
                      >
                        ✅ Correct : Badge dans un composant Text
                      </Title>
                      <Box
                        style={{
                          border: "1px solid #c8e6c9",
                          borderRadius: "8px",
                          padding: "12px",
                          backgroundColor: "#e8f5e8",
                        }}
                      >
                        <Text>
                          Messages
                          <BadgeCount background="#1976d2" color="white">
                            5
                          </BadgeCount>
                        </Text>
                      </Box>
                      <Text
                        style={{
                          fontSize: "12px",
                          color: "#666",
                          fontStyle: "italic",
                          marginTop: "8px",
                        }}
                      >
                        Espacement automatique et cohérent grâce au composant
                        Text
                      </Text>
                    </div>
                  </Box>
                </div>
              </Box>
            </Box>
          </div>
        );
      };

      render(<Demo />, document.getElementById("app"));
    </script>
  </body>
</html>
