<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Badge Count Demo</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" jsenv-type="module/jsx">
      import { render } from "preact";
      import {
        Text,
        Paragraph,
        Box,
        Title,
        BadgeCount,
        Link,
        Button,
      } from "@jsenv/navi";

      // Composants JSX pour éviter les erreurs de syntaxe lors des modifications
      const TableOfContents = () => (
        <Box as="section" marginBottom="xl">
          <Title as="h2">Table des matières</Title>
          <Box row contentSpacing="xs" marginTop="md">
            <Link href="#exemples-base">1. Exemples de base</Link>
            <Link href="#line-heights">
              2. Comportement avec différents line-heights
            </Link>
            <Link href="#integration-composants">
              3. Intégration dans différents composants
            </Link>
            <Link href="#badge-positioning">4. Badge positioning</Link>
            <Link href="#nowrap">
              5. Association texte + badge (pas de coupure)
            </Link>
            <Link href="#nombres-max">
              6. Compteurs avec nombres élevés et paramètre max
            </Link>
            <Link href="#best-practices">7. Best Practices</Link>
          </Box>
        </Box>
      );

      const ExemplesBase = () => (
        <Box as="section" marginBottom="xl" id="exemples-base">
          <Title as="h2">Exemples de base</Title>
          <Box row contentSpacing="md">
            <Text>
              Messages non lus
              <BadgeCount background="red" color="white">
                5
              </BadgeCount>
            </Text>

            <Text>
              Notifications en attente
              <BadgeCount background="#ffebee" color="#d32f2f" size="xs">
                120
              </BadgeCount>
            </Text>

            <Text>
              Tâches à faire
              <BadgeCount background="#e8f5e8" color="#2e7d32" size="lg">
                3
              </BadgeCount>
            </Text>
          </Box>
        </Box>
      );

      const LineHeightsSection = () => (
        <Box as="section" marginBottom="xl" id="line-heights">
          <Title as="h2">Comportement avec différents line-heights</Title>
          <Paragraph>
            Ces exemples montrent comment le badge s'adapte à différentes
            hauteurs de ligne. Les bordures colorées visualisent la hauteur
            réelle occupée par chaque ligne.
          </Paragraph>
          <Box column contentSpacing="lg">
            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "8px",
                  display: "block",
                }}
              >
                line-height: 1.4 - Hauteur de ligne compacte
              </Text>
              <div
                style={{
                  border: "2px dashed #2196f3",
                  backgroundColor: "rgba(33, 150, 243, 0.05)",
                  padding: "8px",
                  borderRadius: "4px",
                  lineHeight: "1.4",
                  fontSize: "16px",
                }}
              >
                <Text style={{ lineHeight: "inherit" }}>
                  Messages
                  <BadgeCount background="#9c27b0" color="white">
                    2
                  </BadgeCount>
                </Text>
              </div>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "8px",
                  display: "block",
                }}
              >
                line-height: 2 - Hauteur de ligne espacée
              </Text>
              <div
                style={{
                  border: "2px dashed #ff9800",
                  backgroundColor: "rgba(255, 152, 0, 0.05)",
                  padding: "8px",
                  borderRadius: "4px",
                  lineHeight: "2",
                  fontSize: "16px",
                }}
              >
                <Text style={{ lineHeight: "inherit" }}>
                  Messages
                  <BadgeCount background="#ff5722" color="white">
                    2
                  </BadgeCount>
                </Text>
              </div>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "8px",
                  display: "block",
                }}
              >
                line-height: 3 - Hauteur de ligne très espacée
              </Text>
              <div
                style={{
                  border: "2px dashed #4caf50",
                  backgroundColor: "rgba(76, 175, 80, 0.05)",
                  padding: "8px",
                  borderRadius: "4px",
                  lineHeight: "3",
                  fontSize: "16px",
                }}
              >
                <Text style={{ lineHeight: "inherit" }}>
                  Messages
                  <BadgeCount background="#795548" color="white">
                    2
                  </BadgeCount>
                </Text>
              </div>
            </div>
          </Box>
        </Box>
      );

      const IntegrationComposantsSection = () => (
        <Box as="section" marginBottom="xl" id="integration-composants">
          <Title as="h2">Intégration dans différents composants</Title>
          <Box row contentSpacing="lg">
            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Avec Text
              </Text>
              <Text>
                Notifications
                <BadgeCount background="#ff9800" color="white">
                  3
                </BadgeCount>
              </Text>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Avec Paragraph
              </Text>
              <Paragraph>
                Vos messages
                <BadgeCount background="#4caf50" color="white" size="xs">
                  8
                </BadgeCount>
                sont prêts.
              </Paragraph>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                Avec Button
              </Text>
              <Box column contentSpacing="md">
                <Button alignY="start">
                  Tâches
                  <BadgeCount background="#2196f3" color="white">
                    5
                  </BadgeCount>
                </Button>

                <Button lineHeight="2.5">
                  Tâches
                  <BadgeCount background="#2196f3" color="white">
                    5
                  </BadgeCount>
                </Button>
              </Box>
            </div>
          </Box>
        </Box>
      );

      const BadgePositioningSection = () => (
        <Box as="section" marginBottom="xl" id="badge-positioning">
          <Title as="h2">Badge positioning</Title>
          <Box row contentSpacing="md">
            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                alignX="start" - Position au début du conteneur
              </Text>
              <Box row contentSpacing="md">
                <Box
                  style={{
                    border: "1px solid #e0e0e0",
                    borderRadius: "8px",
                    padding: "12px",
                    width: "300px",
                  }}
                >
                  <BadgeCount background="#4caf50" color="white" alignX="start">
                    3
                  </BadgeCount>
                  <Text>Nouveaux messages</Text>
                </Box>

                <Box
                  style={{
                    border: "1px solid #e0e0e0",
                    borderRadius: "8px",
                    padding: "12px",
                    width: "350px",
                  }}
                >
                  <BadgeCount
                    background="#ff9800"
                    color="white"
                    alignX="start"
                    size="xs"
                  >
                    12
                  </BadgeCount>
                  <Text>Tâches en attente</Text>
                </Box>
              </Box>
            </div>

            <div>
              <Text
                style={{
                  fontSize: "12px",
                  color: "#666",
                  marginBottom: "4px",
                  display: "block",
                }}
              >
                alignX="end" - Position à la fin du conteneur
              </Text>
              <Box row contentSpacing="md">
                <Box
                  style={{
                    border: "1px solid #e0e0e0",
                    borderRadius: "8px",
                    padding: "12px",
                    width: "300px",
                  }}
                >
                  <Text>Messages</Text>
                  <BadgeCount background="#1976d2" color="white" alignX="end">
                    8
                  </BadgeCount>
                </Box>

                <Box
                  style={{
                    border: "1px solid #e0e0e0",
                    borderRadius: "8px",
                    padding: "12px",
                    width: "350px",
                  }}
                >
                  <Text>Alertes</Text>
                  <BadgeCount
                    background="#d32f2f"
                    color="white"
                    alignX="end"
                    size="xs"
                  >
                    25
                  </BadgeCount>
                </Box>
              </Box>
            </div>
          </Box>
        </Box>
      );

      const NoWrapSection = () => (
        <Box as="section" marginBottom="xl" id="nowrap">
          <Title as="h2">Association texte + badge (pas de coupure)</Title>
          <Box column contentSpacing="md">
            <div
              style={{
                width: "200px",
                border: "1px solid #ddd",
                padding: "8px",
              }}
            >
              <Text>
                Texte très long qui devrait normalement se couper
                <BadgeCount background="#673ab7" color="white">
                  15
                </BadgeCount>
              </Text>
            </div>

            <div
              style={{
                width: "200px",
                border: "1px solid #ddd",
                padding: "8px",
              }}
            >
              <Text noWrap>
                Texte très long mais avec noWrap
                <BadgeCount background="#673ab7" color="white">
                  15
                </BadgeCount>
              </Text>
            </div>
          </Box>
        </Box>
      );

      const NombresMaxSection = () => (
        <Box as="section" marginBottom="xl" id="nombres-max">
          <Title as="h2">Compteurs avec nombres élevés et paramètre max</Title>
          <Box column contentSpacing="md">
            <Box row contentSpacing="md">
              <Text>
                Sans limite
                <BadgeCount background="#e91e63" color="white">
                  1234
                </BadgeCount>
              </Text>

              <Text>
                Max 99
                <BadgeCount background="#e91e63" color="white" max={99}>
                  1234
                </BadgeCount>
              </Text>

              <Text>
                Max 999
                <BadgeCount background="#e91e63" color="white" max={999}>
                  1234
                </BadgeCount>
              </Text>
            </Box>

            <Text>
              Test avec string → number
              <BadgeCount background="#607d8b" color="white" max="99">
                150
              </BadgeCount>
            </Text>
          </Box>
        </Box>
      );

      const BestPracticesSection = () => (
        <Box as="section" marginBottom="xl" id="best-practices">
          <Title as="h2">Best Practices</Title>
          <Box column contentSpacing="md">
            <Paragraph>
              • Utilisez des couleurs contrastées pour une bonne lisibilité
            </Paragraph>
            <Paragraph>
              • Limitez les nombres élevés avec le paramètre max
            </Paragraph>
            <Paragraph>
              • Adaptez la taille du badge au contexte (xs, s, m, lg)
            </Paragraph>
            <Paragraph>
              • Positionnez le badge de manière cohérente dans votre interface
            </Paragraph>
          </Box>
        </Box>
      );

      const Demo = () => {
        return (
          <div
            style={{
              padding: "20px",
              fontFamily: "system-ui, sans-serif",
              maxWidth: "800px",
              lineHeight: "1.6",
            }}
          >
            <Title as="h1">Badge Count Demo</Title>

            <TableOfContents />
            <ExemplesBase />
            <LineHeightsSection />
            <IntegrationComposantsSection />
            <BadgePositioningSection />
            <NoWrapSection />
            <NombresMaxSection />
            <BestPracticesSection />
          </div>
        );
      };

      render(<Demo />, document.getElementById("app"));
    </script>
  </body>
</html>
