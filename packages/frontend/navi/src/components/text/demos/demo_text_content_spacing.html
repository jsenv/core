<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Text Auto-Spacing Demo</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" jsenv-type="module/jsx">
      import { render } from "preact";
      /* eslint-disable no-unused-vars */
      import { Text, Icon } from "@jsenv/navi";

      const StarSvg = () => (
        <svg
          viewBox="0 0 24 24"
          width="100%"
          height="100%"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
            fill="currentColor"
          />
        </svg>
      );

      const Demo = () => {
        return (
          <div
            style={{
              padding: "20px",
              fontFamily: "system-ui, sans-serif",
            }}
          >
            <h1>Text Auto-Spacing Demo</h1>
            <p>
              Text components automatically add spacing between children by
              default. This eliminates verbose manual spacing with {`{" "}`}{" "}
              everywhere.
            </p>

            {/* Default behavior showcase */}
            <section style={{ marginBottom: "30px" }}>
              <h2>üéâ Auto-Spacing by Default</h2>
              <p>
                Most of the time, you want spaces between elements -
                auto-spacing saves you from verbose manual spacing:
              </p>
              <div
                style={{ display: "flex", gap: "20px", marginBottom: "20px" }}
              >
                <div>
                  <h3>Manual spacing (verbose)</h3>
                  <div
                    style={{
                      border: "1px solid #ccc",
                      padding: "8px",
                      backgroundColor: "#f9f9f9",
                    }}
                  >
                    <Text contentSpacing="pre">
                      <strong>Hello</strong> <em>beautiful</em>{" "}
                      <span>world!</span>
                    </Text>
                  </div>
                  <small style={{ color: "#666" }}>
                    Required manual {`{" "}`} everywhere
                  </small>
                </div>

                <div>
                  <h3>Automatic spacing (pleasant and automatic)</h3>
                  <div
                    style={{
                      border: "1px solid #ccc",
                      padding: "8px",
                      backgroundColor: "#e8f5e8",
                    }}
                  >
                    <Text>
                      <strong>Hello</strong>
                      <em>beautiful</em>
                      <span>world!</span>
                    </Text>
                  </div>
                  <small style={{ color: "#666" }}>
                    Clean JSX, automatic spacing!
                  </small>
                </div>
              </div>
            </section>

            {/* Custom separators */}
            <section style={{ marginBottom: "30px" }}>
              <h2>üé® Custom Separators</h2>

              <div style={{ marginBottom: "20px" }}>
                <h3>Breadcrumb Navigation</h3>
                <div style={{ border: "1px solid #ccc", padding: "8px" }}>
                  <Text contentSpacing={<span> / </span>} textColor="#666">
                    <Text as="a" href="#" textColor="blue">
                      Products
                    </Text>
                    <Text as="a" href="#" textColor="blue">
                      Electronics
                    </Text>
                    <Text as="a" href="#" textColor="blue">
                      Smartphones
                    </Text>
                    <Text textBold textColor="black">
                      iPhone 15
                    </Text>
                  </Text>
                </div>
                <small style={{ color: "#666" }}>contentSpacing=" / "</small>
              </div>

              <div style={{ marginBottom: "20px" }}>
                <h3>Status Dashboard</h3>
                <div style={{ border: "1px solid #ccc", padding: "8px" }}>
                  <Text contentSpacing=" ‚Ä¢ ">
                    <span>
                      Status:{" "}
                      <Text textBold textColor="green">
                        ‚úì Online
                      </Text>
                    </span>
                    <span>
                      Users:{" "}
                      <Text textBold textColor="blue">
                        1,234
                      </Text>
                    </span>
                    <span>
                      Updated: <Text textColor="#666">2 min ago</Text>
                    </span>
                  </Text>
                </div>
                <small style={{ color: "#666" }}>contentSpacing=" ‚Ä¢ "</small>
              </div>

              <div style={{ marginBottom: "20px" }}>
                <h3>Tag List</h3>
                <div style={{ border: "1px solid #ccc", padding: "8px" }}>
                  <Text contentSpacing=", ">
                    <span
                      style={{
                        backgroundColor: "#e1f5fe",
                        padding: "2px 6px",
                        borderRadius: "3px",
                      }}
                    >
                      React
                    </span>
                    <span
                      style={{
                        backgroundColor: "#e8f5e8",
                        padding: "2px 6px",
                        borderRadius: "3px",
                      }}
                    >
                      JavaScript
                    </span>
                    <span
                      style={{
                        backgroundColor: "#fff3e0",
                        padding: "2px 6px",
                        borderRadius: "3px",
                      }}
                    >
                      CSS
                    </span>
                  </Text>
                </div>
                <small style={{ color: "#666" }}>contentSpacing=", "</small>
              </div>
            </section>

            {/* When you need exact control */}
            <section style={{ marginBottom: "30px" }}>
              <h2>üîß When You Need Exact Control (contentSpacing="pre")</h2>
              <p>
                Sometimes you need exact control over spacing - here's when to
                use contentSpacing="pre":
              </p>

              <div style={{ marginBottom: "20px" }}>
                <h3>‚ú® Styling Parts of a Word</h3>
                <p>
                  When styling different parts of a word, you want them to stick
                  together:
                </p>
                <div
                  style={{ display: "flex", gap: "20px", marginBottom: "20px" }}
                >
                  <div>
                    <h4>‚ùå Default (unwanted spaces)</h4>
                    <div
                      style={{
                        border: "1px solid #ccc",
                        padding: "8px",
                        backgroundColor: "#fee",
                      }}
                    >
                      <Text>
                        <span style={{ color: "blue" }}>Java</span>
                        <span style={{ color: "orange", fontWeight: "bold" }}>
                          Script
                        </span>
                      </Text>
                    </div>
                    <small style={{ color: "#666" }}>
                      Result: "Java Script" (unwanted space!)
                    </small>
                  </div>

                  <div>
                    <h4>‚úÖ contentSpacing="pre"</h4>
                    <div
                      style={{
                        border: "1px solid #ccc",
                        padding: "8px",
                        backgroundColor: "#efe",
                      }}
                    >
                      <Text contentSpacing="pre">
                        <span style={{ color: "blue" }}>Java</span>
                        <span style={{ color: "orange", fontWeight: "bold" }}>
                          Script
                        </span>
                      </Text>
                    </div>
                    <small style={{ color: "#666" }}>
                      Result: "JavaScript" (perfect!)
                    </small>
                  </div>
                </div>
              </div>

              <div style={{ marginBottom: "20px" }}>
                <h3>üí∞ Price Display</h3>
                <p>
                  When different parts of content need to be in separate
                  elements but should display without gaps:
                </p>
                <div
                  style={{ display: "flex", gap: "20px", marginBottom: "20px" }}
                >
                  <div>
                    <h4>‚ùå Default (unwanted spaces)</h4>
                    <div
                      style={{
                        border: "1px solid #ccc",
                        padding: "8px",
                        backgroundColor: "#fee",
                      }}
                    >
                      <Text>
                        <span>Price:</span>
                        <strong style={{ color: "green" }}>$</strong>
                        <span style={{ fontSize: "1.2em" }}>29</span>
                        <span style={{ fontSize: "0.8em" }}>.99</span>
                      </Text>
                    </div>
                    <small style={{ color: "#666" }}>
                      Result: "Price: $ 29 .99" (broken formatting)
                    </small>
                  </div>

                  <div>
                    <h4>‚úÖ contentSpacing="pre"</h4>
                    <div
                      style={{
                        border: "1px solid #ccc",
                        padding: "8px",
                        backgroundColor: "#efe",
                      }}
                    >
                      <Text contentSpacing="pre">
                        <span>Price: </span>
                        <strong style={{ color: "green" }}>$</strong>
                        <span style={{ fontSize: "1.2em" }}>29</span>
                        <span style={{ fontSize: "0.8em" }}>.99</span>
                      </Text>
                    </div>
                    <small style={{ color: "#666" }}>
                      Result: "Price: $29.99" (clean formatting)
                    </small>
                  </div>
                </div>
              </div>
            </section>

            {/* Bonnes pratiques & cas du soulignement */}
            <section style={{ marginBottom: "30px" }}>
              <h2>üß† Bonnes pratiques : soulignement & espace auto</h2>
              <p>
                Quand <code>Text</code> ajoute automatiquement un espace entre
                ses enfants, appliquer <code>textUnderline</code> (ou
                <code>underline</code>) sur le conteneur peut surprendre :
                l&apos;espace ins√©r√© est aussi soulign√©. Il faut d√©placer le
                soulignement sur le sous-√©l√©ment qui doit r√©ellement
                l&apos;avoir.
              </p>
              <div
                style={{ display: "flex", gap: "20px", marginBottom: "20px" }}
              >
                <div style={{ flex: 1 }}>
                  <h3>‚ùå Soulignement sur le conteneur</h3>
                  <div
                    style={{
                      border: "1px solid #ccc",
                      padding: "8px",
                      backgroundColor: "#fee",
                    }}
                  >
                    <Text noWrap textUnderline>
                      <Icon>
                        <StarSvg />
                      </Icon>
                      star
                    </Text>
                  </div>
                  <small style={{ color: "#666" }}>
                    L&apos;espace auto entre l&apos;ic√¥ne et le mot est aussi
                    soulign√©.
                  </small>
                </div>
                <div style={{ flex: 1 }}>
                  <h3>‚úÖ Soulignement cibl√© uniquement sur le mot</h3>
                  <div
                    style={{
                      border: "1px solid #ccc",
                      padding: "8px",
                      backgroundColor: "#efe",
                    }}
                  >
                    <Text noWrap>
                      <Icon>
                        <StarSvg />
                      </Icon>
                      <Text textUnderline>star</Text>
                    </Text>
                  </div>
                  <small style={{ color: "#666" }}>
                    Seul le mot est soulign√©, l&apos;espace auto reste propre.
                  </small>
                </div>
              </div>
              <p style={{ color: "#666", fontSize: "0.9em" }}>
                Astuce&nbsp;: L&apos;espace auto est conceptuellement un enfant.
                En soulignant le parent, tous ses enfants (y compris
                l&apos;espace) h√©ritent du style. Pour √©viter √ßa, appliquez le
                soulignement seulement sur le sous-<code>Text</code> qui
                contient le texte √† souligner.
              </p>
              <pre
                style={{
                  background: "#f7f7f7",
                  padding: "10px",
                  borderRadius: "4px",
                  fontSize: "12px",
                  overflowX: "auto",
                }}
              >
                {`// Mauvais\n<Text noWrap textUnderline>\n  <Icon><StarSvg /></Icon>\n  star\n</Text>\n\n// Bon\n<Text noWrap>\n  <Icon><StarSvg /></Icon>\n  <Text underline>star</Text>\n</Text>`}
              </pre>
            </section>
          </div>
        );
      };

      render(<Demo />, document.getElementById("app"));
    </script>
  </body>
</html>
