# [route URL generation bypasses signal reading](../../route_url_sync.test.js)

```js
try {
  // Create signal with non-default value
  const zoneSignal = stateSignal("paris");

  // Track if signal value is accessed
  let signalWasRead = false;
  const originalValue = zoneSignal.value;
  Object.defineProperty(zoneSignal, "value", {
    get() {
      signalWasRead = true;
      return originalValue;
    },
    set(newValue) {
      originalValue = newValue;
    },
  });

  // Create route pattern with signal
  const pattern = createRoutePattern(`/map/:zone=${zoneSignal}`);

  // Generate URL - should read signal but doesn't due to optimization
  const url = pattern.buildMostPreciseUrl();

  return {
    signal_value: "paris",
    generated_url: url,
    expected_url: "/map/paris",
    signal_was_read: signalWasRead,
    url_missing_param: !url.includes("paris"),
    test_result: signalWasRead ? "PASS" : "FAIL - Signal bypassed",
  };
} finally {
  globalSignalRegistry.clear();
}
```

```js
{
  "signal_value": "paris",
  "generated_url": "/map",
  "expected_url": "/map/paris",
  "signal_was_read": true,
  "url_missing_param": true,
  "test_result": "PASS"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
