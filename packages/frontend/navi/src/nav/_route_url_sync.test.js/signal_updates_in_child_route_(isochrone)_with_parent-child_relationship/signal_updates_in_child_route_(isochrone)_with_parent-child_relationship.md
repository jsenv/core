# [signal updates in child route (isochrone) with parent-child relationship](../../route_url_sync.test.js#L706)

```js
try {
  const enabledSignal = stateSignal(false, {
    id: "enabled",
    type: "boolean",
  });
  const minuteSignal = stateSignal(30, {
    id: "minute",
    type: "number",
  });
  const zoneSignal = stateSignal("paris", {
    id: "zone",
    type: "string",
  });
  zoneSignal.value = "nice";
  const { MAP_ROUTE, ISOCHRONE_ROUTE } = setupRoutes({
    MAP_ROUTE: `/map/?zone=${zoneSignal}`,
    ISOCHRONE_ROUTE: `/map/isochrone?enabled=${enabledSignal}&minute=${minuteSignal}`,
  });
  updateRoutes(`${baseUrl}/map/isochrone?zone=nice`);

  const scenario1 = {
    description: "Initial state on isochrone route with defaults",
    enabled_signal: enabledSignal.value,
    minute_signal: minuteSignal.value,
    map_route_matches: MAP_ROUTE.matching,
    isochrone_route_matches: ISOCHRONE_ROUTE.matching,
    current_url: ISOCHRONE_ROUTE.url,
  };

  // Update enabled signal to true (non-default)
  enabledSignal.value = true;

  const scenario2 = {
    description: "After updating enabled signal to true (non-default)",
    enabled_signal: enabledSignal.value,
    minute_signal: minuteSignal.value,
    current_url: ISOCHRONE_ROUTE.url,
  };

  // Update minute signal
  minuteSignal.value = 45;

  const scenario3 = {
    description: "After updating minute signal to 45",
    enabled_signal: enabledSignal.value,
    minute_signal: minuteSignal.value,
    current_url: ISOCHRONE_ROUTE.url,
  };

  // Update enabled back to false (default)
  enabledSignal.value = false;

  const scenario4 = {
    description: "After setting enabled back to false (default)",
    enabled_signal: enabledSignal.value,
    minute_signal: minuteSignal.value,
    current_url: ISOCHRONE_ROUTE.url,
  };

  // Update minute signal again
  minuteSignal.value = 60;

  const scenario5 = {
    description: "After updating minute signal to 60",
    enabled_signal: enabledSignal.value,
    minute_signal: minuteSignal.value,
    current_url: ISOCHRONE_ROUTE.url,
  };

  return {
    scenario1_initial_defaults: scenario1,
    scenario2_enabled_true: scenario2,
    scenario3_minute_45: scenario3,
    scenario4_enabled_false: scenario4,
    scenario5_minute_60: scenario5,

    // Track URL evolution as signals change
    url_progression: [
      scenario1.current_url,
      scenario2.current_url,
      scenario3.current_url,
      scenario4.current_url,
      scenario5.current_url,
    ],

    // Test purpose
    test_focus:
      "Signal updates should immediately reflect in the route URL",
    route_under_test: "/map/isochrone/ with query parameters",
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "scenario1_initial_defaults": {
    "description": "Initial state on isochrone route with defaults",
    "enabled_signal": false,
    "minute_signal": 30,
    "map_route_matches": true,
    "isochrone_route_matches": true,
    "current_url": "http://127.0.0.1/map/isochrone?zone=nice"
  },
  "scenario2_enabled_true": {
    "description": "After updating enabled signal to true (non-default)",
    "enabled_signal": true,
    "minute_signal": 30,
    "current_url": "http://127.0.0.1/map/isochrone?enabled=true&zone=nice"
  },
  "scenario3_minute_45": {
    "description": "After updating minute signal to 45",
    "enabled_signal": true,
    "minute_signal": 45,
    "current_url": "http://127.0.0.1/map/isochrone?enabled=true&minute=45&zone=nice"
  },
  "scenario4_enabled_false": {
    "description": "After setting enabled back to false (default)",
    "enabled_signal": false,
    "minute_signal": 45,
    "current_url": "http://127.0.0.1/map/isochrone?minute=45&zone=nice"
  },
  "scenario5_minute_60": {
    "description": "After updating minute signal to 60",
    "enabled_signal": false,
    "minute_signal": 60,
    "current_url": "http://127.0.0.1/map/isochrone?minute=60&zone=nice"
  },
  "url_progression": [
    "http://127.0.0.1/map/isochrone?zone=nice",
    "http://127.0.0.1/map/isochrone?enabled=true&zone=nice",
    "http://127.0.0.1/map/isochrone?enabled=true&minute=45&zone=nice",
    "http://127.0.0.1/map/isochrone?minute=45&zone=nice",
    "http://127.0.0.1/map/isochrone?minute=60&zone=nice"
  ],
  "test_focus": "Signal updates should immediately reflect in the route URL",
  "route_under_test": "/map/isochrone/ with query parameters"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
