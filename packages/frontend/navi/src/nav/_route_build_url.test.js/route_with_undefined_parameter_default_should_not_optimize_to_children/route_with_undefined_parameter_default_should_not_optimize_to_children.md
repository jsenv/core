# [route with undefined parameter default should not optimize to children](../../route_build_url.test.js)

```js
try {
  const partSignal = stateSignal(undefined, { id: "part" });
  const subpartSignal = stateSignal("details", { id: "subpart" });

  const { TOTO_ROUTE, TOTO_SUB_ROUTE } = setupRoutes({
    TOTO_ROUTE: `/toto/:part=${partSignal}`,
    TOTO_SUB_ROUTE: `/toto/admin/:subpart=${subpartSignal}`,
  });

  return {
    toto_url_with_undefined_default: TOTO_ROUTE.buildUrl({}),
    toto_url_explicit_undefined: TOTO_ROUTE.buildUrl({ part: undefined }),
    toto_url_with_value: TOTO_ROUTE.buildUrl({ part: "admin" }),
    toto_sub_url: TOTO_SUB_ROUTE.buildUrl({}),
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "toto_url_with_undefined_default": "http://127.0.0.1/toto",
  "toto_url_explicit_undefined": "http://127.0.0.1/toto",
  "toto_url_with_value": "http://127.0.0.1/toto/admin",
  "toto_sub_url": "http://127.0.0.1/toto/admin"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
