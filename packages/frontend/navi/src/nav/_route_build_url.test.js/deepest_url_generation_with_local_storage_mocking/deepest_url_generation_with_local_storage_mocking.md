# [deepest url generation with local storage mocking](../../route_build_url.test.js#L89)

```js
// Store original state for cleanup
const originalScenarios = [];

// Scenario 1: section=settings, tab=general (both defaults)
clearAllRoutes();
const sectionSignal1 = stateSignal("settings", { id: "section_1" });
const tabSignal1 = stateSignal("general", { id: "settings_tab_1" });

const ADMIN_ROUTE_1 = registerRoute(`/admin/:section=${sectionSignal1}/`);
const ADMIN_SETTINGS_ROUTE_1 = registerRoute(
  `/admin/settings/:tab=${tabSignal1}`,
);

originalScenarios.push({
  name: "both_at_defaults",
  section_value: "settings",
  tab_value: "general",
  admin_url: ADMIN_ROUTE_1.buildUrl({}),
  settings_url: ADMIN_SETTINGS_ROUTE_1.buildUrl({}),
});

// Scenario 2: section=settings, tab=security (section default, tab non-default)
clearAllRoutes();
const sectionSignal2 = stateSignal("settings", { id: "section_2" });
const tabSignal2 = stateSignal("security", { id: "settings_tab_2" });

const ADMIN_ROUTE_2 = registerRoute(`/admin/:section=${sectionSignal2}/`);
const ADMIN_SETTINGS_ROUTE_2 = registerRoute(
  `/admin/settings/:tab=${tabSignal2}`,
);

originalScenarios.push({
  name: "section_default_tab_non_default",
  section_value: "settings",
  tab_value: "security",
  admin_url: ADMIN_ROUTE_2.buildUrl({}),
  settings_url: ADMIN_SETTINGS_ROUTE_2.buildUrl({}),
});

// Scenario 3: section=users, tab=general (section non-default, tab default)
clearAllRoutes();
const sectionSignal3 = stateSignal("users", { id: "section_3" });
const tabSignal3 = stateSignal("general", { id: "settings_tab_3" });

const ADMIN_ROUTE_3 = registerRoute(`/admin/:section=${sectionSignal3}/`);
const ADMIN_SETTINGS_ROUTE_3 = registerRoute(
  `/admin/settings/:tab=${tabSignal3}`,
);

originalScenarios.push({
  name: "section_non_default_tab_default",
  section_value: "users",
  tab_value: "general",
  admin_url: ADMIN_ROUTE_3.buildUrl({}),
  settings_url: ADMIN_SETTINGS_ROUTE_3.buildUrl({}),
});

return {
  scenarios: originalScenarios,
};
```

```js
{
  "scenarios": [
    {
      "name": "both_at_defaults",
      "section_value": "settings",
      "tab_value": "general",
      "admin_url": "http://127.0.0.1/admin",
      "settings_url": "http://127.0.0.1/admin/settings"
    },
    {
      "name": "section_default_tab_non_default",
      "section_value": "settings",
      "tab_value": "security",
      "admin_url": "http://127.0.0.1/admin",
      "settings_url": "http://127.0.0.1/admin/settings"
    },
    {
      "name": "section_non_default_tab_default",
      "section_value": "users",
      "tab_value": "general",
      "admin_url": "http://127.0.0.1/admin",
      "settings_url": "http://127.0.0.1/admin/settings"
    }
  ]
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
