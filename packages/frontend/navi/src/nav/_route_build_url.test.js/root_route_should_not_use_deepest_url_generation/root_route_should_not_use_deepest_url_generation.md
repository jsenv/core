# [root route should not use deepest url generation](../../route_build_url.test.js#L311)

```js
try {
  // Set up signals with non-default values that would normally trigger deepest URL
  const sectionSignal = stateSignal("settings");
  const tabSignal = stateSignal("general");
  // Change signals to non-default values
  sectionSignal.value = "users";
  tabSignal.value = "advanced";
  const { ROOT_ROUTE, ADMIN_ROUTE, ADMIN_SETTINGS_ROUTE } = setupRoutes({
    ROOT_ROUTE: "/",
    ADMIN_ROUTE: `/admin/:section=${sectionSignal}/`,
    ADMIN_SETTINGS_ROUTE: `/admin/settings/:tab=${tabSignal}`,
  });

  return {
    // Root route should ALWAYS stay as "/" even with non-default child signals
    // Users must be able to navigate to home page regardless of app state
    root_with_no_params: ROOT_ROUTE.buildUrl({}),
    root_with_empty_params: ROOT_ROUTE.buildUrl(),

    // For comparison - child routes should use deepest URL when no params provided
    admin_no_params: ADMIN_ROUTE.buildUrl({}), // Should potentially use child route
    admin_settings_no_params: ADMIN_SETTINGS_ROUTE.buildUrl({}), // Should use signal

    // Verify signals have non-default values
    signal_values: {
      section: sectionSignal.value, // "users" (non-default)
      tab: tabSignal.value, // "advanced" (non-default)
    },
    defaults: {
      section: "settings",
      tab: "general",
    },
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "root_with_no_params": "http://127.0.0.1/",
  "root_with_empty_params": "http://127.0.0.1/",
  "admin_no_params": "http://127.0.0.1/admin/users",
  "admin_settings_no_params": "http://127.0.0.1/admin/settings/advanced",
  "signal_values": {
    "section": "users",
    "tab": "advanced"
  },
  "defaults": {
    "section": "settings",
    "tab": "general"
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
