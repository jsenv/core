# [parent route optimization - settings route should return /admin when all params are defaults](../../route_build_url.test.js#L672)

```js
try {
  // Parent route default matches child literal "settings" - this enables optimization
  const sectionSignal = stateSignal("settings", { id: "section_opt" });
  const tabSignal = stateSignal("general", { id: "settings_tab_opt" });

  const { ADMIN_ROUTE, ADMIN_SETTINGS_ROUTE } = setupRoutes({
    ROOT: "/",
    ADMIN_ROUTE: `/admin/:section=${sectionSignal}/`,
    ADMIN_SETTINGS_ROUTE: `/admin/settings/:tab=${tabSignal}`,
  });

  return {
    // Core issue: When both signals are at defaults, settings route should optimize to shortest equivalent URL
    settings_url: ADMIN_SETTINGS_ROUTE.buildUrl(), // Should be "/admin", not "/admin/settings"
    admin_url: ADMIN_ROUTE.buildUrl(), // For comparison
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "settings_url": "http://127.0.0.1/admin",
  "admin_url": "http://127.0.0.1/admin"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
