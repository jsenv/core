# [url building with nested routes inheritance](../../route_build_url.test.js#L27)

```js
clearAllRoutes();
const sectionSignal = stateSignal("settings", { id: "section" });
const tabSignal = stateSignal("general", { id: "settings_tab" });
const analyticsTabSignal = stateSignal("overview", { id: "analytics_tab" });

// Register routes with inheritance setup (same as route_matching.test.js)
registerRoute("/");
const ADMIN_ROUTE = registerRoute(`/admin/:section=${sectionSignal}/`);
const ADMIN_SETTINGS_ROUTE = registerRoute(
  `/admin/settings/:tab=${tabSignal}`,
);
const ADMIN_ANALYTICS_ROUTE = registerRoute(
  `/admin/analytics/?tab=${analyticsTabSignal}`,
);

const buildUrl = (route, params = {}) => {
  return route.buildUrl(params);
};

return {
  // Admin route URL building - basic parameter building with defaults
  admin_no_params: buildUrl(ADMIN_ROUTE),
  admin_with_section_settings: buildUrl(ADMIN_ROUTE, {
    section: "settings",
  }),
  admin_with_section_users: buildUrl(ADMIN_ROUTE, {
    section: "users",
  }),

  // Settings route URL building - should handle inheritance properly
  settings_no_params: buildUrl(ADMIN_SETTINGS_ROUTE),
  settings_with_tab_general: buildUrl(ADMIN_SETTINGS_ROUTE, {
    tab: "general",
  }),
  settings_with_tab_security: buildUrl(ADMIN_SETTINGS_ROUTE, {
    tab: "security",
  }),
  // Test that providing section param doesn't interfere (should be filtered as literal)
  settings_with_section_toto_and_tab_advanced: buildUrl(
    ADMIN_SETTINGS_ROUTE,
    {
      section: "toto",
      tab: "advanced",
    },
  ),
  settings_with_extra_params: buildUrl(ADMIN_SETTINGS_ROUTE, {
    tab: "general",
    filter: "active",
  }),

  // Analytics route URL building - inheritance with search params
  analytics_no_params: buildUrl(ADMIN_ANALYTICS_ROUTE),
  analytics_with_tab_overview: buildUrl(ADMIN_ANALYTICS_ROUTE, {
    tab: "overview",
  }),
  analytics_with_tab_performance: buildUrl(ADMIN_ANALYTICS_ROUTE, {
    tab: "performance",
  }),
  // Test that providing section param doesn't interfere (should be filtered as literal)
  analytics_with_section_toto_and_tab_performance: buildUrl(
    ADMIN_ANALYTICS_ROUTE,
    {
      section: "toto",
      tab: "performance",
    },
  ),
  analytics_with_extra_params: buildUrl(ADMIN_ANALYTICS_ROUTE, {
    tab: "details",
    dateRange: "7d",
  }),
};
```

```js
{
  "admin_no_params": "http://127.0.0.1/admin/",
  "admin_with_section_settings": "http://127.0.0.1/admin/",
  "admin_with_section_users": "http://127.0.0.1/admin/users/",
  "settings_no_params": "http://127.0.0.1/admin",
  "settings_with_tab_general": "http://127.0.0.1/admin",
  "settings_with_tab_security": "http://127.0.0.1/admin/settings/security",
  "settings_with_section_toto_and_tab_advanced": "http://127.0.0.1/admin/settings/advanced",
  "settings_with_extra_params": "http://127.0.0.1/admin/settings?filter=active",
  "analytics_no_params": "http://127.0.0.1/admin/analytics/",
  "analytics_with_tab_overview": "http://127.0.0.1/admin/analytics/",
  "analytics_with_tab_performance": "http://127.0.0.1/admin/analytics/?tab=performance",
  "analytics_with_section_toto_and_tab_performance": "http://127.0.0.1/admin/analytics/?tab=performance",
  "analytics_with_extra_params": "http://127.0.0.1/admin/analytics/?tab=details&dateRange=7d"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
