# [url building with nested routes inheritance](../../route_build_url.test.js#L32)

```js
try {
  const sectionSignal = stateSignal("settings", { id: "section" });
  const tabSignal = stateSignal("general", { id: "settings_tab" });
  const analyticsTabSignal = stateSignal("overview", {
    id: "analytics_tab",
  });
  const { ADMIN_ROUTE, ADMIN_SETTINGS_ROUTE, ADMIN_ANALYTICS_ROUTE } =
    setupRoutes({
      ROOT: "/",
      ADMIN_ROUTE: `/admin/:section=${sectionSignal}/`,
      ADMIN_SETTINGS_ROUTE: `/admin/settings/:tab=${tabSignal}`,
      ADMIN_ANALYTICS_ROUTE: `/admin/analytics?tab=${analyticsTabSignal}`,
    });

  return {
    // Test deepest URL generation - should find child routes when possible
    admin_no_params_should_find_settings_with_general_tab:
      ADMIN_ROUTE.buildUrl(),
    admin_explicit_settings: ADMIN_ROUTE.buildUrl({
      section: "settings",
    }),
    admin_explicit_users: ADMIN_ROUTE.buildUrl({
      section: "users",
    }),

    // Settings route URL building - should use deepest route
    settings_no_params: ADMIN_SETTINGS_ROUTE.buildUrl(),
    settings_with_security_tab: ADMIN_SETTINGS_ROUTE.buildUrl({
      tab: "security",
    }),
    // Test that providing section param doesn't interfere
    settings_with_section_toto_and_tab: ADMIN_SETTINGS_ROUTE.buildUrl({
      section: "toto",
      tab: "advanced",
    }),
    settings_with_extra_params: ADMIN_SETTINGS_ROUTE.buildUrl({
      tab: "general",
      filter: "active",
    }),

    // Analytics route URL building
    analytics_should_include_overview_tab: ADMIN_ANALYTICS_ROUTE.buildUrl(),
    analytics_with_performance_tab: ADMIN_ANALYTICS_ROUTE.buildUrl({
      tab: "performance",
    }),
    analytics_with_section_toto: ADMIN_ANALYTICS_ROUTE.buildUrl({
      section: "toto",
      tab: "performance",
    }),
    analytics_with_extra_params: ADMIN_ANALYTICS_ROUTE.buildUrl({
      tab: "details",
      dateRange: "7d",
    }),
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "admin_no_params_should_find_settings_with_general_tab": "http://127.0.0.1/admin",
  "admin_explicit_settings": "http://127.0.0.1/admin/settings/general",
  "admin_explicit_users": "http://127.0.0.1/admin/users",
  "settings_no_params": "http://127.0.0.1/admin/settings",
  "settings_with_security_tab": "http://127.0.0.1/admin/settings/security",
  "settings_with_section_toto_and_tab": "http://127.0.0.1/admin/settings/advanced?section=toto",
  "settings_with_extra_params": "http://127.0.0.1/admin/settings?filter=active",
  "analytics_should_include_overview_tab": "http://127.0.0.1/admin/analytics",
  "analytics_with_performance_tab": "http://127.0.0.1/admin/analytics?tab=performance",
  "analytics_with_section_toto": "http://127.0.0.1/admin/analytics?tab=performance&section=toto",
  "analytics_with_extra_params": "http://127.0.0.1/admin/analytics?tab=details&dateRange=7d"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
