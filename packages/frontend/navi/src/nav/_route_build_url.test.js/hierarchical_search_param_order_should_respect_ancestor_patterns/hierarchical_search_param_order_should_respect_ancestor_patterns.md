# [hierarchical search param order should respect ancestor patterns](../../route_build_url.test.js)

```js
try {
  const zoneSignal = stateSignal("zone-123", { id: "zone" });
  const walkSignal = stateSignal(false, { id: "walk", type: "boolean" });
  const timeSignal = stateSignal(30, { id: "time", type: "number" });
  const modeSignal = stateSignal("driving", { id: "mode" });

  const { MAP_ISOCHRONE_ROUTE, MAP_ISOCHRONE_WALK_ROUTE } = setupRoutes({
    MAP_ROUTE: `/map?zone=${zoneSignal}`,
    MAP_ISOCHRONE_ROUTE: `/map/isochrone/?walk=${walkSignal}&time=${timeSignal}`,
    MAP_ISOCHRONE_WALK_ROUTE: `/map/isochrone/walk?mode=${modeSignal}`,
  });

  return {
    child_with_params: MAP_ISOCHRONE_ROUTE.buildUrl({
      zone: "custom-zone",
      walk: true,
      time: 45,
    }),
    grandchild_with_params: MAP_ISOCHRONE_WALK_ROUTE.buildUrl({
      zone: "another-zone",
      walk: true,
      mode: "cycling",
    }),
    partial_params: MAP_ISOCHRONE_ROUTE.buildUrl({
      zone: "partial-zone",
      walk: true,
    }),
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "child_with_params": "http://127.0.0.1/map/isochrone?zone=custom-zone&walk&time=45",
  "grandchild_with_params": "http://127.0.0.1/map/isochrone/walk?zone=another-zone&walk&mode=cycling",
  "partial_params": "http://127.0.0.1/map/isochrone?zone=partial-zone&walk"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
