# [route.url should automatically stay in sync when signals change](../../route.test.js)

```js
try {
  const zoneSignal = stateSignal("paris", { id: "urlSyncZone" });
  const modeSignal = stateSignal("driving", { id: "urlSyncMode" });

  const { MAP_ROUTE } = setupRoutes({
    MAP_ROUTE: `/map?zone=${zoneSignal}&mode=${modeSignal}`,
  });

  // Read route.url before changing signals
  const urlBeforeChange = MAP_ROUTE.url;

  // Change signal values
  zoneSignal.value = "london";
  modeSignal.value = "walking";

  // Read route.url after changing signals - should automatically reflect changes
  const urlAfterChange = MAP_ROUTE.url;

  return {
    initial_signal_values: {
      zone: "paris",
      mode: "driving",
    },
    updated_signal_values: {
      zone: zoneSignal.value,
      mode: modeSignal.value,
    },
    url_before_change: urlBeforeChange,
    url_after_change: urlAfterChange,
    url_auto_updated: urlBeforeChange !== urlAfterChange,
    // This should be true if route.url is reactive to signal changes
    expected_auto_update: true,
    test_result:
      urlBeforeChange !== urlAfterChange
        ? "PASS"
        : "FAIL - route.url not reactive",
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "initial_signal_values": {
    "zone": "paris",
    "mode": "driving"
  },
  "updated_signal_values": {
    "zone": "london",
    "mode": "walking"
  },
  "url_before_change": "http://127.0.0.1/map",
  "url_after_change": "http://127.0.0.1/map?zone=london&mode=walking",
  "url_auto_updated": true,
  "expected_auto_update": true,
  "test_result": "PASS"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
