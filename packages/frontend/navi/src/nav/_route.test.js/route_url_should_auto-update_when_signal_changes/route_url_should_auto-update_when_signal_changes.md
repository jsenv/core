# [route URL should auto-update when signal changes](../../route.test.js)

```js
try {
  const zoneSignal = stateSignal("paris", { id: "zone" });
  const modeSignal = stateSignal("driving", { id: "mode" });

  const { MAP_ROUTE } = setupRoutes({
    MAP_ROUTE: `/map?zone=${zoneSignal}&mode=${modeSignal}`,
  });

  // Read initial URL
  const initialUrl = MAP_ROUTE.url;

  // Change signal values
  zoneSignal.value = "london";
  modeSignal.value = "walking";

  // Read URL again - should reflect new signal values
  const updatedUrl = MAP_ROUTE.url;

  return {
    initial_signal_values: {
      zone: "paris",
      mode: "driving",
    },
    updated_signal_values: {
      zone: zoneSignal.value,
      mode: modeSignal.value,
    },
    initial_url: initialUrl,
    updated_url: updatedUrl,
    url_changed: initialUrl !== updatedUrl,
    // This should be true if the system is working correctly
    expected_url_changed: true,
    // Test passes if URLs are different (indicating signal changes were reflected)
    test_result: initialUrl !== updatedUrl ? "PASS" : "FAIL",
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "initial_signal_values": {
    "zone": "paris",
    "mode": "driving"
  },
  "updated_signal_values": {
    "zone": "london",
    "mode": "walking"
  },
  "initial_url": "http://127.0.0.1/map",
  "updated_url": "http://127.0.0.1/map?zone=london&mode=walking",
  "url_changed": true,
  "expected_url_changed": true,
  "test_result": "PASS"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
