# [literal segment defaults edge cases](../../route_pattern.test.js#L179)

```js
const runWithDefaults = (pattern, urlOrRelativeUrl, literalDefaults) => {
  const { applyOn } = createRoutePattern(pattern, baseUrl, literalDefaults);
  const url = new URL(urlOrRelativeUrl, baseUrl).href;
  return applyOn(url);
};

return {
  // Empty defaults map should allow all matches
  empty_defaults_map: runWithDefaults(
    "/admin/:section",
    "/admin/anything",
    new Map(),
  ),

  // Parameter not in defaults should be allowed
  unrelated_parameter: runWithDefaults(
    "/users/:id/:action?",
    "/users/123/edit",
    new Map([["section", "settings"]]), // Different parameter
  ),

  // Multiple parameters, only some with defaults
  mixed_parameter_defaults: runWithDefaults(
    "/app/:section/:subsection?/:id?",
    "/app/settings/users/123",
    new Map([["section", "settings"]]), // Only section has default
  ),

  // Default value is empty string
  empty_string_default: runWithDefaults(
    "/search/:query?",
    "/search/",
    new Map([["query", ""]]),
  ),

  // Numeric default values
  numeric_default_match: runWithDefaults(
    "/page/:num?",
    "/page/1",
    new Map([["num", "1"]]),
  ),

  // Numeric default values - non-match
  numeric_default_non_match: runWithDefaults(
    "/page/:num?",
    "/page/2",
    new Map([["num", "1"]]),
  ),
};
```

```js
{
  "empty_defaults_map": {
    "section": "anything"
  },
  "unrelated_parameter": {
    "id": "123",
    "action": "edit",
    "section": "settings"
  },
  "mixed_parameter_defaults": {
    "section": "settings",
    "subsection": "users",
    "id": "123"
  },
  "empty_string_default": {
    "query": ""
  },
  "numeric_default_match": {
    "num": "1"
  },
  "numeric_default_non_match": {
    "num": "2"
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
