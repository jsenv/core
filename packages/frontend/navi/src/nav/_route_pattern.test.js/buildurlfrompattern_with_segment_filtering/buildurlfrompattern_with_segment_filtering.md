# [buildUrlFromPattern with segment filtering](../../route_pattern.test.js#L285)

```js
// Test case that reproduces the issue where segments were incorrectly omitted
const pattern = "/admin/settings/:tab";
const routePattern = createRoutePattern(pattern);

const params = { tab: "advanced" };
const parameterDefaults = new Map([["section", "settings"]]);

const result = buildUrlFromPattern(
  routePattern.pattern,
  params,
  parameterDefaults,
);

return {
  pattern,
  parsedPattern: routePattern.pattern,
  params,
  parameterDefaults: Object.fromEntries(parameterDefaults),
  result,
  expectedResult: "/admin/settings/advanced",
};
```

```js
{
  "pattern": "/admin/settings/:tab",
  "parsedPattern": {
    "original": "/admin/settings/:tab",
    "segments": [
      {
        "type": "literal",
        "value": "admin",
        "index": 0
      },
      {
        "type": "literal",
        "value": "settings",
        "index": 1
      },
      {
        "type": "param",
        "name": "tab",
        "optional": false,
        "index": 2
      }
    ],
    "trailingSlash": false,
    "wildcard": false
  },
  "params": {
    "tab": "advanced"
  },
  "parameterDefaults": {
    "section": "settings"
  },
  "result": "/admin/settings/advanced",
  "expectedResult": "/admin/settings/advanced"
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
