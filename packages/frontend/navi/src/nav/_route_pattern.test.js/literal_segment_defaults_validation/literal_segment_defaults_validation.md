# [literal segment defaults validation](../../route_pattern.test.js#L110)

```js
const runWithDefaults = (pattern, urlOrRelativeUrl, literalDefaults) => {
  const { applyOn } = createRoutePattern(pattern, baseUrl, literalDefaults);
  const url = new URL(urlOrRelativeUrl, baseUrl).href;
  return applyOn(url);
};

// Create a Map for section parameter with default "settings"
const sectionDefaults = new Map([["section", "settings"]]);

return {
  // No defaults - all matches should work (baseline)
  no_defaults_match: runWithDefaults(
    "/admin/:section?/:tab?",
    "/admin/analytics",
    new Map(),
  ),

  // With defaults - parameter undefined (using default) should match
  using_default_value: runWithDefaults(
    "/admin/:section?/:tab?",
    "/admin",
    sectionDefaults,
  ),

  // With defaults - parameter matches expected default should match
  matching_default_value: runWithDefaults(
    "/admin/:section?/:tab?",
    "/admin/settings",
    sectionDefaults,
  ),

  // With defaults - parameter doesn't match expected default should not match
  non_matching_default_value: runWithDefaults(
    "/admin/:section?/:tab?",
    "/admin/analytics",
    sectionDefaults,
  ),

  // Complex case with multiple segments and defaults
  multiple_segments_valid: runWithDefaults(
    "/admin/:section?/:tab?",
    "/admin/settings/general",
    sectionDefaults,
  ),

  // Multiple defaults
  multiple_defaults_valid: runWithDefaults(
    "/admin/:section?/:tab?",
    "/admin",
    new Map([
      ["section", "settings"],
      ["tab", "overview"],
    ]),
  ),

  // Multiple defaults with one matching, one not
  multiple_defaults_partial_match: runWithDefaults(
    "/admin/:section?/:tab?",
    "/admin/settings/invalid",
    new Map([
      ["section", "settings"],
      ["tab", "overview"],
    ]),
  ),
};
```

```js
{
  "no_defaults_match": {
    "section": "analytics"
  },
  "using_default_value": {
    "section": "settings"
  },
  "matching_default_value": {
    "section": "settings"
  },
  "non_matching_default_value": {
    "section": "analytics"
  },
  "multiple_segments_valid": {
    "section": "settings",
    "tab": "general"
  },
  "multiple_defaults_valid": {
    "section": "settings",
    "tab": "overview"
  },
  "multiple_defaults_partial_match": {
    "section": "settings",
    "tab": "invalid"
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
