# [route.params with static defaults](../../route_params.test.js)

```js
try {
  const mapLonSignal = stateSignal(undefined, {
    default: -1, // static default only
    type: "number",
  });

  const routes = setupRoutes({
    HOME_ROUTE: "/",
    MAP_ROUTE: `/map/?lon=${mapLonSignal}`,
  });

  // Test initial state
  updateRoutes("http://localhost:3000/map");
  
  const initialState = {
    signal_value: mapLonSignal.value,
    route_params: routes.MAP_ROUTE.params,
    route_matching: routes.MAP_ROUTE.matching,
  };

  // Test with URL parameter
  updateRoutes("http://localhost:3000/map?lon=42");
  
  const withUrlParam = {
    signal_value: mapLonSignal.value,
    route_params: routes.MAP_ROUTE.params,
    route_matching: routes.MAP_ROUTE.matching,
  };

  // Test back to no URL parameter
  updateRoutes("http://localhost:3000/map");
  
  const backToNoParam = {
    signal_value: mapLonSignal.value,
    route_params: routes.MAP_ROUTE.params,
    route_matching: routes.MAP_ROUTE.matching,
  };

  return {
    initial_state: initialState,
    with_url_param: withUrlParam,
    back_to_no_param: backToNoParam,
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "initial_state": {
    "signal_value": undefined,
    "route_params": {},
    "route_matching": true
  },
  "with_url_param": {
    "signal_value": 42,
    "route_params": {
      "lon": 42
    },
    "route_matching": true
  },
  "back_to_no_param": {
    "signal_value": undefined,
    "route_params": {},
    "route_matching": true
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
