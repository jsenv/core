# [route.params comparison between static and dynamic defaults](../../route_params.test.js)

```js
try {
  // Create two similar setups: one with static defaults, one with dynamic

  // Setup 1: Static defaults only
  const staticSignal = stateSignal(undefined, { default: "static_value" });

  // Setup 2: Dynamic defaults
  const sourceSignal = stateSignal(undefined);
  const dynamicSignal = stateSignal(sourceSignal, {
    default: "static_fallback",
  });

  const routes = setupRoutes({
    HOME_ROUTE: "/",
    STATIC_ROUTE: `/static/?param=${staticSignal}`,
    DYNAMIC_ROUTE: `/dynamic/?param=${dynamicSignal}`,
  });

  // Test both routes initially
  updateRoutes("http://localhost:3000/static");
  const staticInitial = {
    signal_value: staticSignal.value,
    route_params: routes.STATIC_ROUTE.params,
  };

  updateRoutes("http://localhost:3000/dynamic");
  const dynamicInitial = {
    source_signal: sourceSignal.value,
    dynamic_signal: dynamicSignal.value,
    route_params: routes.DYNAMIC_ROUTE.params,
  };

  // Change source signal for dynamic case
  sourceSignal.value = "dynamic_value";
  const dynamicAfterChange = {
    source_signal: sourceSignal.value,
    dynamic_signal: dynamicSignal.value,
    route_params: routes.DYNAMIC_ROUTE.params,
  };

  // Test URL building with these different defaults
  const staticUrl = routes.STATIC_ROUTE.buildRelativeUrl({});
  const dynamicUrlBefore = routes.DYNAMIC_ROUTE.buildRelativeUrl({});

  sourceSignal.value = "url_test_value";
  const dynamicUrlAfter = routes.DYNAMIC_ROUTE.buildRelativeUrl({});

  return {
    static_initial: staticInitial,
    dynamic_initial: dynamicInitial,
    dynamic_after_change: dynamicAfterChange,
    url_building: {
      static_url: staticUrl,
      dynamic_url_before_change: dynamicUrlBefore,
      dynamic_url_after_change: dynamicUrlAfter,
    },
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "static_initial": {
    "signal_value": undefined,
    "route_params": {}
  },
  "dynamic_initial": {
    "source_signal": undefined,
    "dynamic_signal": "static_fallback",
    "route_params": {
      "param": "static_fallback"
    }
  },
  "dynamic_after_change": {
    "source_signal": "dynamic_value",
    "dynamic_signal": "dynamic_value",
    "route_params": {
      "param": "dynamic_value"
    }
  },
  "url_building": {
    "static_url": "/static",
    "dynamic_url_before_change": "/dynamic",
    "dynamic_url_after_change": "/dynamic"
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
