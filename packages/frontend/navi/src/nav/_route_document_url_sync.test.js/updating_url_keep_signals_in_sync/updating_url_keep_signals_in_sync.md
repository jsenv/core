# [updating url keep signals in sync](../../route_document_url_sync.test.js)

```js
// Mock browser integration to ensure no navigation calls are made
let navToCalls = [];
setRouteIntegration({
  navTo: (url) => {
    navToCalls.push(url);
    return Promise.resolve();
  },
});

try {
  const categorySignal = stateSignal("electronics");
  const sortSignal = stateSignal("name");

  const { PRODUCTS_ROUTE } = setupRoutes({
    PRODUCTS_ROUTE: `/products?category=${categorySignal}&sort=${sortSignal}`,
  });

  // Initial state
  const initialCategoryValue = categorySignal.value;
  const initialSortValue = sortSignal.value;

  // URL -> Signal: Call updateRoutes with new URL parameters
  updateRoutes(`${baseUrl}/products?category=books&sort=price`);

  return {
    initialCategoryValue, // Should be "electronics"
    initialSortValue, // Should be "name"
    updatedCategoryValue: categorySignal.value, // Should be "books"
    updatedSortValue: sortSignal.value, // Should be "price"
    navToCallsCount: navToCalls.length, // Should be 0 (no navigation triggered)
    routeMatching: PRODUCTS_ROUTE.matching, // Should be true
    routeParams: PRODUCTS_ROUTE.params, // Should reflect new URL params
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
  setRouteIntegration(undefined);
}
```

```js
{
  "initialCategoryValue": "electronics",
  "initialSortValue": "name",
  "updatedCategoryValue": "books",
  "updatedSortValue": "price",
  "navToCallsCount": 0,
  "routeMatching": true,
  "routeParams": {
    "category": "books",
    "sort": "price"
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
