# [complex url matching with multiple signals](../../route_matching.test.js)

```js
try {
  const zoneIdSignal = stateSignal("zone-123", {
    id: "zoneId",
    type: "string",
  });
  const mapboxStyleSignal = stateSignal("streets-v11", {
    id: "mapboxStyle",
    type: "string",
  });
  const mapboxZoomSignal = stateSignal(12, {
    id: "mapboxZoom",
    type: "number",
  });

  const { MAP_ROUTE, MAP_ISOCHRONE_ROUTE } = setupRoutes({
    MAP_ROUTE: `/map/?zone=${zoneIdSignal}&style=${mapboxStyleSignal}&zoom=${mapboxZoomSignal}`,
    MAP_ISOCHRONE_ROUTE: "/map/isochrone",
  });

  return {
    map_without_params: match(MAP_ROUTE, `/map`),
    map_with_default_zoom: match(MAP_ROUTE, `/map?zoom=12`),
    map_with_zoom_15: match(MAP_ROUTE, `/map?zoom=15`),
    map_with_zoom_and_style: match(
      MAP_ROUTE,
      `/map?zoom=8&style=satellite`,
    ),

    isochrone_without_params: match(MAP_ISOCHRONE_ROUTE, `/map/isochrone`),
    isochrone_with_zoom_15: match(
      MAP_ISOCHRONE_ROUTE,
      `/map/isochrone?zoom=15`,
    ),
  };
} finally {
  clearAllRoutes();
  globalSignalRegistry.clear();
}
```

```js
{
  "map_without_params": {
    "zone": "zone-123",
    "style": "streets-v11",
    "zoom": 12
  },
  "map_with_default_zoom": {
    "zoom": 12,
    "zone": "zone-123",
    "style": "streets-v11"
  },
  "map_with_zoom_15": {
    "zoom": 15,
    "zone": "zone-123",
    "style": "streets-v11"
  },
  "map_with_zoom_and_style": {
    "zoom": 8,
    "style": "satellite",
    "zone": "zone-123"
  },
  "isochrone_without_params": {},
  "isochrone_with_zoom_15": {
    "zoom": "15"
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
