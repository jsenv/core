# [url defaults with nested routes](../../route_matching.test.js#L46)

```js
// Clear routes to start fresh
clearAllRoutes();

// Test the pattern combinations that were problematic
const sectionSignal = stateSignal("settings");
const tabSignal = stateSignal("general");
const analyticsTabSignal = stateSignal("overview");

// Register routes using explicit parameter syntax
registerRoute("/");
const ADMIN_ROUTE = registerRoute(`/admin/:section=${sectionSignal}/`);
const ADMIN_SETTINGS_ROUTE = registerRoute(
  `/admin/settings/:tab=${tabSignal}`,
);
const ADMIN_ANALYTICS_ROUTE = registerRoute(
  `/admin/analytics/?tab=${analyticsTabSignal}`,
);

// Test various URL matching scenarios
const testResults = {
  // Test basic parameter with default - should match "/admin"
  admin_root_matches_section_default: run(ADMIN_ROUTE, `/admin`),
  admin_root_with_slash: run(ADMIN_ROUTE, `/admin/`),
  admin_with_users_section: run(ADMIN_ROUTE, `/admin/users/`),

  // CRITICAL TEST: This should match because "settings" is the default value for :section
  // /admin/settings/:tab should match /admin because settings=default(section)
  settings_route_matches_admin_root: run(ADMIN_SETTINGS_ROUTE, `/admin`),

  settings_with_general_tab: run(
    ADMIN_SETTINGS_ROUTE,
    `/admin/settings/general`,
  ),
  settings_with_security_tab: run(
    ADMIN_SETTINGS_ROUTE,
    `/admin/settings/security`,
  ),
  analytics_with_overview_tab: run(
    ADMIN_ANALYTICS_ROUTE,
    `/admin/analytics`,
  ),
  analytics_with_performance_tab: run(
    ADMIN_ANALYTICS_ROUTE,
    `/admin/analytics?tab=performance`,
  ),
};

clearAllRoutes();

return testResults;
```

```js
{
  "admin_root_matches_section_default": {
    "section": "settings"
  },
  "admin_root_with_slash": {
    "section": "settings"
  },
  "admin_with_users_section": {
    "section": "settings"
  },
  "settings_route_matches_admin_root": {
    "section": "settings",
    "tab": "general"
  },
  "settings_with_general_tab": {
    "section": "settings",
    "tab": "general"
  },
  "settings_with_security_tab": {
    "section": "settings",
    "tab": "general"
  },
  "analytics_with_overview_tab": null,
  "analytics_with_performance_tab": null
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
