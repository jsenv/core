# [route optimization with multiple routes](../../route_matching.test.js#L41)

```js
// Clear routes to start fresh
clearAllRoutes();

// Test the pattern combinations that were problematic
const sectionSignal = stateSignal("settings");
const tabSignal = stateSignal("general");
const analyticsTabSignal = stateSignal("overview");

// Register routes using explicit parameter syntax
const routes = [
  registerRoute("/"),
  registerRoute(`/admin/:section=${sectionSignal}/`),
  registerRoute(`/admin/settings/:tab=${tabSignal}`),
  registerRoute(`/admin/analytics/?tab=${analyticsTabSignal}`),
];

// Check that original patterns are preserved (not transformed to parameters)
const patterns = routes.map((route) => route.urlPattern);

// Test various URL matching scenarios
const testResults = {
  preserved_patterns: patterns,

  // Test basic parameter with default - should match "/admin"
  admin_root_matches_section_default: run(
    `/admin/:section=${sectionSignal}/`,
    `/admin`,
  ),
  admin_root_with_slash: run(`/admin/:section=${sectionSignal}/`, `/admin/`),
  admin_with_users_section: run(
    `/admin/:section=${sectionSignal}/`,
    `/admin/users/`,
  ),

  // Test settings route with tab parameter
  settings_with_general_tab: run(
    `/admin/settings/:tab=${tabSignal}`,
    `/admin/settings/general`,
  ),
  settings_with_security_tab: run(
    `/admin/settings/:tab=${tabSignal}`,
    `/admin/settings/security`,
  ),

  // Test analytics route with query parameter
  analytics_with_overview_tab: run(
    `/admin/analytics/?tab=${analyticsTabSignal}`,
    `/admin/analytics`,
  ),
  analytics_with_performance_tab: run(
    `/admin/analytics/?tab=${analyticsTabSignal}`,
    `/admin/analytics?tab=performance`,
  ),
};

clearAllRoutes();

return testResults;
```

```js
{
  "preserved_patterns": [
    "/",
    "/admin/:section=__jsenv_signal_2__/",
    "/admin/settings/:tab=__jsenv_signal_3__",
    "/admin/analytics/?tab=__jsenv_signal_4__"
  ],
  "admin_root_matches_section_default": {
    "section": "settings"
  },
  "admin_root_with_slash": {
    "section": "settings"
  },
  "admin_with_users_section": {
    "section": "users"
  },
  "settings_with_general_tab": {
    "tab": "general"
  },
  "settings_with_security_tab": {
    "tab": "security"
  },
  "analytics_with_overview_tab": {
    "tab": "overview"
  },
  "analytics_with_performance_tab": {
    "tab": "performance"
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
