<!doctype html>
<html>
  <head>
    <title>Content size transition demo</title>
    <style>
      body {
        margin: 0;
        font-family: system-ui;
      }

      .controls {
        padding: 20px;
        background: #f5f5f5;
        border-bottom: 1px solid #ccc;
      }

      .demo-container {
        padding: 20px;
      }

      /* The element we'll apply the smooth transition to */
      #dynamic-content {
        display: flex;
        margin: 20px 0;
        padding: 16px;
        flex-direction: column;
        align-items: center;
        background: white;
        border: 2px solid #666;
        /* we'll handle height transitions in JS */
      }

      /* Some preset content styles for testing */
      .content-block {
        margin: 8px 0;
        padding: 12px;
        background: #f0f0f0;
      }

      button {
        margin: 0 8px 8px 0;
        padding: 8px 16px;
      }
    </style>
  </head>
  <body>
    <div class="controls">
      <h3>Test Controls</h3>
      <div>
        <button id="go_to_a">A</button>
        <button id="go_to_b">B</button>
      </div>
    </div>

    <div class="demo-container">
      <div id="dynamic-content">
        <div class="ui_transition" data-size-transition>
          <div class="ui_transition_outer_wrapper">
            <div class="ui_transition_slot">
              <div>Initial content</div>
            </div>
            <div class="ui_transition_phase_overlay"></div>
          </div>
          <div class="ui_transition_content_overlay"></div>
        </div>
      </div>
    </div>

    <script type="module">
      const initUITransition = () => {};

      const dynamicContent = document.getElementById("dynamic-content");
      const { slot } = initUITransition(dynamicContent.firstElementChild);

      document.querySelector("#go_to_a").addEventListener("click", () => {
        slot.innerHTML = `<div class="content" style="background-color: lightblue" data-content-key="a">
          <div style="width: 100px; height: 100px;">a</div>
        </div>`;
      });
      document.querySelector("#go_to_b").addEventListener("click", () => {
        slot.innerHTML = `<div class="content" style="background-color: green; color: white" data-content-key="b">
          <div style="width: 400px; height: 50px;">b</div>
        </div>`;
      });
    </script>
  </body>
</html>
