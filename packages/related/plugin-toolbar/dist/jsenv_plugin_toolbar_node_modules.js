var n$1,
  u$2;
function k$2(n) {
  return n.children;
}
n$1 = {
  __e: function (n, l, u, t) {
    for (var i, f, e; l = l.__;) if ((i = l.__c) && !(1 & i.__g)) {
      i.__g |= 4;
      try {
        if ((f = i.constructor) && null != f.getDerivedStateFromError && (i.setState(f.getDerivedStateFromError(n)), e = 8 & i.__g), null != i.componentDidCatch && (i.componentDidCatch(n, t || {}), e = 8 & i.__g), e) return void (i.__g |= 2);
      } catch (l) {
        n = l;
      }
    }
    throw n;
  }
}, u$2 = function (n) {
  return null != n && null == n.constructor;
};

var t$1,
  r$1,
  u$1,
  i$1,
  o$1 = Object.is,
  f$1 = 0,
  c$1 = [],
  e$1 = n$1,
  a$1 = e$1.__b,
  v$2 = e$1.__r,
  l$1 = e$1.diffed,
  m = e$1.__c,
  s$1 = e$1.unmount,
  p$2 = e$1.__;
function d$2(n, t) {
  e$1.__h && e$1.__h(r$1, n, f$1 || t), f$1 = 0;
  var u = r$1.__H || (r$1.__H = {
    __: [],
    __h: []
  });
  return n >= u.__.length && u.__.push({}), u.__[n];
}
function h$1(n) {
  return f$1 = 1, y$2(D, n);
}
function y$2(n, u, i) {
  var f = d$2(t$1++, 2);
  if (f.t = n, !f.__c && (f.__ = [D(void 0, u), function (n) {
    var t = f.__N ? f.__N[0] : f.__[0],
      r = f.t(t, n);
    o$1(t, r) || (f.__N = [r, f.__[1]], f.__c.setState({}));
  }], f.__c = r$1, !r$1.__f)) {
    var c = function (n, t, r) {
      if (!f.__c.__H) return true;
      var u = f.__c.__H.__.filter(function (n) {
        return !!n.__c;
      });
      if (u.every(function (n) {
        return !n.__N;
      })) return !e || e.call(this, n, t, r);
      var i = f.__c.props !== n;
      return u.forEach(function (n) {
        if (n.__N) {
          var t = n.__[0];
          n.__ = n.__N, n.__N = void 0, o$1(t, n.__[0]) || (i = true);
        }
      }), e && e.call(this, n, t, r) || i;
    };
    r$1.__f = true;
    var e = r$1.shouldComponentUpdate,
      a = r$1.componentWillUpdate;
    r$1.componentWillUpdate = function (n, t, r) {
      if (4 & this.__g) {
        var u = e;
        e = void 0, c(n, t, r), e = u;
      }
      a && a.call(this, n, t, r);
    }, r$1.shouldComponentUpdate = c;
  }
  return f.__N || f.__;
}
function q(n, r) {
  var u = d$2(t$1++, 7);
  return C(u.__H, r) && (u.__ = n(), u.__H = r, u.__h = n), u.__;
}
function g$2() {
  for (var n; n = c$1.shift();) if (n.__P && n.__H) try {
    n.__H.__h.forEach(z), n.__H.__h.forEach(B), n.__H.__h = [];
  } catch (t) {
    n.__H.__h = [], e$1.__e(t, n.__v);
  }
}
e$1.__b = function (n) {
  r$1 = null, a$1 && a$1(n);
}, e$1.__ = function (n, t) {
  n && t.__k && t.__k.__m && (n.__m = t.__k.__m), p$2 && p$2(n, t);
}, e$1.__r = function (n) {
  v$2 && v$2(n), t$1 = 0;
  var i = (r$1 = n.__c).__H;
  i && (u$1 === r$1 ? (i.__h = [], r$1.__h = [], i.__.forEach(function (n) {
    n.__N && (n.__ = n.__N), n.u = n.__N = void 0;
  })) : (i.__h.forEach(z), i.__h.forEach(B), i.__h = [], t$1 = 0)), u$1 = r$1;
}, e$1.diffed = function (n) {
  l$1 && l$1(n);
  var t = n.__c;
  t && t.__H && (t.__H.__h.length && (1 !== c$1.push(t) && i$1 === e$1.requestAnimationFrame || ((i$1 = e$1.requestAnimationFrame) || w$2)(g$2)), t.__H.__.forEach(function (n) {
    n.u && (n.__H = n.u), n.u = void 0;
  })), u$1 = r$1 = null;
}, e$1.__c = function (n, t) {
  t.some(function (n) {
    try {
      n.__h.forEach(z), n.__h = n.__h.filter(function (n) {
        return !n.__ || B(n);
      });
    } catch (r) {
      t.some(function (n) {
        n.__h && (n.__h = []);
      }), t = [], e$1.__e(r, n.__v);
    }
  }), m && m(n, t);
}, e$1.unmount = function (n) {
  s$1 && s$1(n);
  var t,
    r = n.__c;
  r && r.__H && (r.__H.__.forEach(function (n) {
    try {
      z(n);
    } catch (n) {
      t = n;
    }
  }), r.__H = void 0, t && e$1.__e(t, r.__v));
};
var k$1 = "function" == typeof requestAnimationFrame;
function w$2(n) {
  var t,
    r = function () {
      clearTimeout(u), k$1 && cancelAnimationFrame(t), setTimeout(n);
    },
    u = setTimeout(r, 35);
  k$1 && (t = requestAnimationFrame(r));
}
function z(n) {
  var t = r$1,
    u = n.__c;
  "function" == typeof u && (n.__c = void 0, u()), r$1 = t;
}
function B(n) {
  var t = r$1;
  n.__c = n.__(), r$1 = t;
}
function C(n, t) {
  return !n || n.length !== t.length || t.some(function (t, r) {
    return !o$1(t, n[r]);
  });
}
function D(n, t) {
  return "function" == typeof t ? t(n) : t;
}

const i = Symbol.for("preact-signals");
function t() {
  if (r > 1) {
    r--;
    return;
  }
  let i,
    t = false;
  while (void 0 !== s) {
    let o = s;
    s = void 0;
    f++;
    while (void 0 !== o) {
      const n = o.o;
      o.o = void 0;
      o.f &= -3;
      if (!(8 & o.f) && v$1(o)) try {
        o.c();
      } catch (o) {
        if (!t) {
          i = o;
          t = true;
        }
      }
      o = n;
    }
  }
  f = 0;
  r--;
  if (t) throw i;
}
function o(i) {
  if (r > 0) return i();
  r++;
  try {
    return i();
  } finally {
    t();
  }
}
let n, s;
function h(i) {
  const t = n;
  n = void 0;
  try {
    return i();
  } finally {
    n = t;
  }
}
let r = 0,
  f = 0,
  e = 0;
function u(i) {
  if (void 0 === n) return;
  let t = i.n;
  if (void 0 === t || t.t !== n) {
    t = {
      i: 0,
      S: i,
      p: n.s,
      n: void 0,
      t: n,
      e: void 0,
      x: void 0,
      r: t
    };
    if (void 0 !== n.s) n.s.n = t;
    n.s = t;
    i.n = t;
    if (32 & n.f) i.S(t);
    return t;
  } else if (-1 === t.i) {
    t.i = 0;
    if (void 0 !== t.n) {
      t.n.p = t.p;
      if (void 0 !== t.p) t.p.n = t.n;
      t.p = n.s;
      t.n = void 0;
      n.s.n = t;
      n.s = t;
    }
    return t;
  }
}
function c(i, t) {
  this.v = i;
  this.i = 0;
  this.n = void 0;
  this.t = void 0;
  this.W = null == t ? void 0 : t.watched;
  this.Z = null == t ? void 0 : t.unwatched;
  this.name = null == t ? void 0 : t.name;
}
c.prototype.brand = i;
c.prototype.h = function () {
  return true;
};
c.prototype.S = function (i) {
  const t = this.t;
  if (t !== i && void 0 === i.e) {
    i.x = t;
    this.t = i;
    if (void 0 !== t) t.e = i;else h(() => {
      var i;
      null == (i = this.W) || i.call(this);
    });
  }
};
c.prototype.U = function (i) {
  if (void 0 !== this.t) {
    const t = i.e,
      o = i.x;
    if (void 0 !== t) {
      t.x = o;
      i.e = void 0;
    }
    if (void 0 !== o) {
      o.e = t;
      i.x = void 0;
    }
    if (i === this.t) {
      this.t = o;
      if (void 0 === o) h(() => {
        var i;
        null == (i = this.Z) || i.call(this);
      });
    }
  }
};
c.prototype.subscribe = function (i) {
  return E(() => {
    const t = this.value,
      o = n;
    n = void 0;
    try {
      i(t);
    } finally {
      n = o;
    }
  }, {
    name: "sub"
  });
};
c.prototype.valueOf = function () {
  return this.value;
};
c.prototype.toString = function () {
  return this.value + "";
};
c.prototype.toJSON = function () {
  return this.value;
};
c.prototype.peek = function () {
  const i = n;
  n = void 0;
  try {
    return this.value;
  } finally {
    n = i;
  }
};
Object.defineProperty(c.prototype, "value", {
  get() {
    const i = u(this);
    if (void 0 !== i) i.i = this.i;
    return this.v;
  },
  set(i) {
    if (i !== this.v) {
      if (f > 100) throw new Error("Cycle detected");
      this.v = i;
      this.i++;
      e++;
      r++;
      try {
        for (let i = this.t; void 0 !== i; i = i.x) i.t.N();
      } finally {
        t();
      }
    }
  }
});
function d$1(i, t) {
  return new c(i, t);
}
function v$1(i) {
  for (let t = i.s; void 0 !== t; t = t.n) if (t.S.i !== t.i || !t.S.h() || t.S.i !== t.i) return true;
  return false;
}
function l(i) {
  for (let t = i.s; void 0 !== t; t = t.n) {
    const o = t.S.n;
    if (void 0 !== o) t.r = o;
    t.S.n = t;
    t.i = -1;
    if (void 0 === t.n) {
      i.s = t;
      break;
    }
  }
}
function y$1(i) {
  let t,
    o = i.s;
  while (void 0 !== o) {
    const i = o.p;
    if (-1 === o.i) {
      o.S.U(o);
      if (void 0 !== i) i.n = o.n;
      if (void 0 !== o.n) o.n.p = i;
    } else t = o;
    o.S.n = o.r;
    if (void 0 !== o.r) o.r = void 0;
    o = i;
  }
  i.s = t;
}
function a(i, t) {
  c.call(this, void 0);
  this.x = i;
  this.s = void 0;
  this.g = e - 1;
  this.f = 4;
  this.W = null == t ? void 0 : t.watched;
  this.Z = null == t ? void 0 : t.unwatched;
  this.name = null == t ? void 0 : t.name;
}
a.prototype = new c();
a.prototype.h = function () {
  this.f &= -3;
  if (1 & this.f) return false;
  if (32 == (36 & this.f)) return true;
  this.f &= -5;
  if (this.g === e) return true;
  this.g = e;
  this.f |= 1;
  if (this.i > 0 && !v$1(this)) {
    this.f &= -2;
    return true;
  }
  const i = n;
  try {
    l(this);
    n = this;
    const i = this.x();
    if (16 & this.f || this.v !== i || 0 === this.i) {
      this.v = i;
      this.f &= -17;
      this.i++;
    }
  } catch (i) {
    this.v = i;
    this.f |= 16;
    this.i++;
  }
  n = i;
  y$1(this);
  this.f &= -2;
  return true;
};
a.prototype.S = function (i) {
  if (void 0 === this.t) {
    this.f |= 36;
    for (let i = this.s; void 0 !== i; i = i.n) i.S.S(i);
  }
  c.prototype.S.call(this, i);
};
a.prototype.U = function (i) {
  if (void 0 !== this.t) {
    c.prototype.U.call(this, i);
    if (void 0 === this.t) {
      this.f &= -33;
      for (let i = this.s; void 0 !== i; i = i.n) i.S.U(i);
    }
  }
};
a.prototype.N = function () {
  if (!(2 & this.f)) {
    this.f |= 6;
    for (let i = this.t; void 0 !== i; i = i.x) i.t.N();
  }
};
Object.defineProperty(a.prototype, "value", {
  get() {
    if (1 & this.f) throw new Error("Cycle detected");
    const i = u(this);
    this.h();
    if (void 0 !== i) i.i = this.i;
    if (16 & this.f) throw this.v;
    return this.v;
  }
});
function w$1(i, t) {
  return new a(i, t);
}
function _(i) {
  const o = i.u;
  i.u = void 0;
  if ("function" == typeof o) {
    r++;
    const s = n;
    n = void 0;
    try {
      o();
    } catch (t) {
      i.f &= -2;
      i.f |= 8;
      b$1(i);
      throw t;
    } finally {
      n = s;
      t();
    }
  }
}
function b$1(i) {
  for (let t = i.s; void 0 !== t; t = t.n) t.S.U(t);
  i.x = void 0;
  i.s = void 0;
  _(i);
}
function g$1(i) {
  if (n !== this) throw new Error("Out-of-order effect");
  y$1(this);
  n = i;
  this.f &= -2;
  if (8 & this.f) b$1(this);
  t();
}
function p$1(i, t) {
  this.x = i;
  this.u = void 0;
  this.s = void 0;
  this.o = void 0;
  this.f = 32;
  this.name = null == t ? void 0 : t.name;
}
p$1.prototype.c = function () {
  const i = this.S();
  try {
    if (8 & this.f) return;
    if (void 0 === this.x) return;
    const t = this.x();
    if ("function" == typeof t) this.u = t;
  } finally {
    i();
  }
};
p$1.prototype.S = function () {
  if (1 & this.f) throw new Error("Cycle detected");
  this.f |= 1;
  this.f &= -9;
  _(this);
  l(this);
  r++;
  const i = n;
  n = this;
  return g$1.bind(this, i);
};
p$1.prototype.N = function () {
  if (!(2 & this.f)) {
    this.f |= 2;
    this.o = s;
    s = this;
  }
};
p$1.prototype.d = function () {
  this.f |= 8;
  if (!(1 & this.f)) b$1(this);
};
p$1.prototype.dispose = function () {
  this.d();
};
function E(i, t) {
  const o = new p$1(i, t);
  try {
    o.c();
  } catch (i) {
    o.d();
    throw i;
  }
  const n = o.d.bind(o);
  n[Symbol.dispose] = n;
  return n;
}

const d = "undefined" != typeof window && !!window.__PREACT_SIGNALS_DEVTOOLS__;
let p,
  v,
  g = [];
E(function () {
  p = this.N;
})();
function b(t, e) {
  n$1[t] = e.bind(null, n$1[t] || (() => {}));
}
function y(t) {
  if (v) v();
  v = t && t.S();
}
function w({
  data: t
}) {
  const i = useSignal(t);
  i.value = t;
  const [n, f] = q(() => {
    let t = this,
      n = this.__v;
    while (n = n.__) if (n.__c) {
      n.__c.__$f |= 4;
      break;
    }
    const o = w$1(() => {
        let t = i.value.value;
        return 0 === t ? 0 : true === t ? "" : t || "";
      }),
      f = w$1(() => !Array.isArray(o.value) && !u$2(o.value)),
      r = E(function () {
        this.N = M;
        if (f.value) {
          const i = o.value;
          if (t.__v && t.__v.__e && 3 === t.__v.__e.nodeType) t.__v.__e.data = i;
        }
      }),
      u = this.__$u.d;
    this.__$u.d = function () {
      r();
      u.call(this);
    };
    return [f, o];
  }, []);
  return n.value ? f.peek() : f.value;
}
w.displayName = "ReactiveTextNode";
Object.defineProperties(c.prototype, {
  constructor: {
    configurable: true,
    value: void 0
  },
  type: {
    configurable: true,
    value: w
  },
  props: {
    configurable: true,
    get() {
      return {
        data: this
      };
    }
  },
  __b: {
    configurable: true,
    value: 1
  }
});
b("__b", (t, i) => {
  if ("string" == typeof i.type) {
    let t,
      e = i.props;
    for (let n in e) {
      if ("children" === n) continue;
      let o = e[n];
      if (o instanceof c) {
        if (!t) i.__np = t = {};
        t[n] = o;
        e[n] = o.peek();
      }
    }
  }
  t(i);
});
b("__r", (t, i) => {
  if (i.type !== k$2) {
    y();
    let t,
      e = i.__c;
    if (e) {
      e.__$f &= -2;
      t = e.__$u;
      if (void 0 === t) e.__$u = t = function (t, i) {
        let e;
        E(function () {
          e = this;
        }, {
          name: i
        });
        e.c = t;
        return e;
      }(() => {
        var i;
        if (d) null == (i = t.y) || i.call(t);
        e.__$f |= 1;
        e.setState({});
      }, "function" == typeof i.type ? i.type.displayName || i.type.name : "");
    }
    y(t);
  }
  t(i);
});
b("__e", (t, i, e, n) => {
  y();
  t(i, e, n);
});
b("diffed", (t, i) => {
  y();
  let e;
  if ("string" == typeof i.type && (e = i.__e)) {
    let t = i.__np,
      n = i.props;
    if (t) {
      let i = e.U;
      if (i) for (let e in i) {
        let n = i[e];
        if (void 0 !== n && !(e in t)) {
          n.d();
          i[e] = void 0;
        }
      } else {
        i = {};
        e.U = i;
      }
      for (let o in t) {
        let f = i[o],
          r = t[o];
        if (void 0 === f) {
          f = k(e, o, r, n);
          i[o] = f;
        } else f.o(r, n);
      }
    }
  }
  t(i);
});
function k(t, i, e, n) {
  const o = i in t && void 0 === t.ownerSVGElement,
    f = d$1(e);
  return {
    o: (t, i) => {
      f.value = t;
      n = i;
    },
    d: E(function () {
      this.N = M;
      const e = f.value.value;
      if (n[i] !== e) {
        n[i] = e;
        if (o) t[i] = e;else if (null != e && (false !== e || "-" === i[4])) t.setAttribute(i, e);else t.removeAttribute(i);
      }
    })
  };
}
b("unmount", (t, i) => {
  if ("string" == typeof i.type) {
    let t = i.__e;
    if (t) {
      const i = t.U;
      if (i) {
        t.U = void 0;
        for (let t in i) {
          let e = i[t];
          if (e) e.d();
        }
      }
    }
  } else {
    let t = i.__c;
    if (t) {
      const i = t.__$u;
      if (i) {
        t.__$u = void 0;
        i.d();
      }
    }
  }
  t(i);
});
b("__h", (t, i, e, n) => {
  if (n < 3 || 9 === n) i.__$f |= 2;
  t(i, e, n);
});
function useSignal(t, i) {
  return h$1(() => d$1(t, i))[0];
}
const A = t => {
    queueMicrotask(() => {
      queueMicrotask(t);
    });
  };
function F() {
  o(() => {
    let t;
    while (t = g.shift()) p.call(t);
  });
}
function M() {
  if (1 === g.push(this)) (n$1.requestAnimationFrame || A)(F);
}

export { E, d$1 as d, w$1 as w };
