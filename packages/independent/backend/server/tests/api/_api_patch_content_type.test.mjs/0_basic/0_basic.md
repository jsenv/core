# [0_basic](../../api_patch_content_type.test.mjs#L26)

```js
const routes = [
  {
    acceptedContentTypes: ["text/plain"],
    endpoint: "PATCH /",
    response: async (request) => {
      const text = await request.text();
      return new Response(text.toUpperCase());
    },
  },
];
return {
  "PATCH / without content-type": await run({
    routes,
    method: "PATCH",
    path: "/",
    headers: {},
    body: `<xml></xml>`,
  }),
  "PATCH / with xml": await run({
    routes,
    method: "PATCH",
    path: "/",
    headers: {
      "content-type": "application/xml",
    },
    body: `<xml></xml>`,
  }),
  "PATCH / with text": await run({
    routes,
    method: "PATCH",
    path: "/",
    headers: {
      "content-type": "text/plain",
    },
    body: `Hello world`,
  }),
};
```

```js
{
  "PATCH / without content-type": {
    "status": 415,
    "headers": {
      "content-type": "text/plain;charset=UTF-8",
      "supported-media": "text/plain",
      "date": "<X>",
      "connection": "keep-alive",
      "keep-alive": "timeout=5",
      "transfer-encoding": "chunked"
    },
    "body": "The media type was not specified in the request \"content-type\" header"
  },
  "PATCH / with xml": {
    "status": 415,
    "headers": {
      "content-type": "text/plain;charset=UTF-8",
      "supported-media": "text/plain",
      "date": "<X>",
      "connection": "keep-alive",
      "keep-alive": "timeout=5",
      "transfer-encoding": "chunked"
    },
    "body": "The media type \"application/xml\" is not supported for this resource.\nSupported media types: text/plain"
  },
  "PATCH / with text": {
    "status": 200,
    "headers": {
      "content-type": "text/plain;charset=UTF-8",
      "date": "<X>",
      "connection": "keep-alive",
      "keep-alive": "timeout=5",
      "transfer-encoding": "chunked"
    },
    "body": "HELLO WORLD"
  }
}
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/independent/snapshot">@jsenv/snapshot</a>
</sub>
