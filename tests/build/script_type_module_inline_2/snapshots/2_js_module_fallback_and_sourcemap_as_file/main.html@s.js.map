{
  "version": 3,
  "names": [
    "loadRegistry",
    "Object",
    "create",
    "registerRegistry",
    "inlineScriptCount",
    "System",
    "hasDocument",
    "document",
    "envGlobal",
    "self",
    "isWorker",
    "WorkerGlobalScope",
    "isServiceWorker",
    "skipWaiting",
    "baseUrl",
    "location",
    "href",
    "split",
    "lastSlashIndex",
    "lastIndexOf",
    "slice",
    "resolveUrl",
    "specifier",
    "URL",
    "baseElement",
    "querySelector",
    "register",
    "deps",
    "declare",
    "currentScript",
    "Error",
    "__s__",
    "src",
    "url",
    "window",
    "_import",
    "instantiate",
    "script",
    "createScript",
    "Promise",
    "resolve",
    "reject",
    "lastWindowErrorUrl",
    "lastWindowError",
    "windowErrorCallback",
    "event",
    "filename",
    "error",
    "addEventListener",
    "removeEventListener",
    "head",
    "removeChild",
    "appendChild",
    "createElement",
    "async",
    "indexOf",
    "origin",
    "crossOrigin",
    "firstImportCallbacks",
    "eventsToCatch",
    "eventCallbackProxies",
    "firstImportPromise",
    "push",
    "forEach",
    "eventName",
    "eventsToDispatch",
    "eventCallback",
    "eventCallbackProxy",
    "type",
    "waitUntil",
    "length",
    "callback",
    "options",
    "call",
    "eventQueue",
    "dispatchEvent",
    "namespace",
    "firstImportCallback",
    "response",
    "fetch",
    "credentials",
    "ok",
    "source",
    "text",
    "eval",
    "parentUrl",
    "load",
    "getOrCreateLoad",
    "completionPromise",
    "startExecution",
    "firstParentUrl",
    "existingLoad",
    "createNamespace",
    "dependencyLoads",
    "instantiatePromise",
    "linkPromise",
    "executePromise",
    "importerSetters",
    "setters",
    "execute",
    "hoistedExports",
    "registration",
    "instantiateReturnValue",
    "_export",
    "firstArg",
    "secondArg",
    "changed",
    "name",
    "value",
    "keys",
    "__esModule",
    "importerSetter",
    "import",
    "importId",
    "meta",
    "createMeta",
    "e",
    "all",
    "map",
    "dep",
    "index",
    "setter",
    "dependencyUrl",
    "dependencyLoad",
    "importerUrl",
    "instantiateAll",
    "postOrderExec",
    "parent",
    "loaded",
    "importStack",
    "undefined",
    "depLoadPromises",
    "depImportStack",
    "depLoadPromise",
    "err",
    "allDepPromise",
    "executeReturnValue",
    "nullContext",
    "then",
    "freeze",
    "id",
    "Symbol",
    "toStringTag",
    "defineProperty"
  ],
  "sources": [
    "../../../../packages/internal/js-module-fallback/src/client/s.js"
  ],
  "sourcesContent": [
    "/*\n * This file is a modified version of https://github.com/systemjs/systemjs/blob/main/dist/s.js\n * with the following changes:\n *\n * - Code can use aync/await, const, etc because this file is compiled (see dist/s.js)\n * - Can use document.currentScript because we don't support IE\n * - auto import inline System.register\n * - auto import first System.register in web workers\n * - queing events in web workers\n * - no support for importmap because jsenv don't need it\n */\n\n(function () {\n  /* eslint-env browser */\n\n  const loadRegistry = Object.create(null);\n  const registerRegistry = Object.create(null);\n  let inlineScriptCount = 0;\n  const System = {};\n\n  const hasDocument = typeof document === \"object\";\n  const envGlobal = self;\n  const isWorker =\n    !hasDocument &&\n    typeof envGlobal.WorkerGlobalScope === \"function\" &&\n    envGlobal instanceof envGlobal.WorkerGlobalScope;\n  const isServiceWorker = isWorker && typeof self.skipWaiting === \"function\";\n  envGlobal.System = System;\n\n  let baseUrl = envGlobal.location.href.split(\"#\")[0].split(\"?\")[0];\n  const lastSlashIndex = baseUrl.lastIndexOf(\"/\");\n  if (lastSlashIndex !== -1) {\n    baseUrl = baseUrl.slice(0, lastSlashIndex + 1);\n  }\n\n  const resolveUrl = (specifier, baseUrl) => new URL(specifier, baseUrl).href;\n\n  if (hasDocument) {\n    const baseElement = document.querySelector(\"base[href]\");\n    if (baseElement) {\n      baseUrl = baseElement.href;\n    }\n    System.register = (deps, declare) => {\n      if (!document.currentScript) {\n        throw new Error(\n          \"unexpected call to System.register (document.currentScript is undefined)\",\n        );\n      }\n      if (document.currentScript.__s__) {\n        registerRegistry[document.currentScript.src] = [deps, declare];\n        return null;\n      }\n      const url =\n        document.currentScript.src ||\n        `${window.location.href}__inline_script__${++inlineScriptCount}`;\n      registerRegistry[url] = [deps, declare];\n      return _import(url);\n    };\n    System.instantiate = (url) => {\n      const script = createScript(url);\n      return new Promise(function (resolve, reject) {\n        let lastWindowErrorUrl;\n        let lastWindowError;\n        const windowErrorCallback = (event) => {\n          lastWindowErrorUrl = event.filename;\n          lastWindowError = event.error;\n        };\n        window.addEventListener(\"error\", windowErrorCallback);\n        script.addEventListener(\"error\", () => {\n          window.removeEventListener(\"error\", windowErrorCallback);\n          reject(`An error occured while loading url with <script> for ${url}`);\n        });\n        script.addEventListener(\"load\", () => {\n          window.removeEventListener(\"error\", windowErrorCallback);\n          document.head.removeChild(script);\n          // Note that if an error occurs that isn't caught by this if statement,\n          // that getRegister will return null and a \"did not instantiate\" error will be thrown.\n          if (lastWindowErrorUrl === url) {\n            reject(lastWindowError);\n          } else {\n            resolve();\n          }\n        });\n        document.head.appendChild(script);\n      });\n    };\n    const createScript = (url) => {\n      const script = document.createElement(\"script\");\n      script.async = true;\n      // Only add cross origin for actual cross origin\n      // this is because Safari triggers for all\n      // - https://bugs.webkit.org/show_bug.cgi?id=171566\n      if (url.indexOf(`${self.location.origin}/`)) {\n        script.crossOrigin = \"anonymous\";\n      }\n      script.__s__ = true;\n      script.src = url;\n      return script;\n    };\n  }\n  if (isWorker) {\n    /*\n     * SystemJs loads X files before executing the worker/service worker main file\n     * It mean events dispatched during this phase could be missed\n     * A warning like the one below is displayed in chrome devtools:\n     * \"Event handler of 'install' event must be added on the initial evaluation of worker script\"\n     * To fix that code below listen for these events early and redispatch them later\n     * once the worker file is executed (the listeners are installed)\n     */\n    const firstImportCallbacks = [];\n    if (isServiceWorker) {\n      // for service worker there is more events to listen\n      // and, to get rid of the warning, we override self.addEventListener\n      const eventsToCatch = [\"message\", \"install\", \"activate\", \"fetch\"];\n      const eventCallbackProxies = {};\n      const firstImportPromise = new Promise((resolve) => {\n        firstImportCallbacks.push(resolve);\n      });\n      eventsToCatch.forEach((eventName) => {\n        const eventsToDispatch = [];\n        const eventCallback = (event) => {\n          const eventCallbackProxy = eventCallbackProxies[event.type];\n          if (eventCallbackProxy) {\n            eventCallbackProxy(event);\n          } else {\n            eventsToDispatch.push(event);\n            event.waitUntil(firstImportPromise);\n          }\n        };\n        self.addEventListener(eventName, eventCallback);\n        firstImportCallbacks.push(() => {\n          if (eventsToDispatch.length) {\n            const eventCallbackProxy =\n              eventCallbackProxies[eventsToDispatch[0].type];\n            if (eventCallbackProxy) {\n              eventsToDispatch.forEach((event) => {\n                eventCallbackProxy(event);\n              });\n            }\n            eventsToDispatch.length = 0;\n          }\n        });\n      });\n\n      const addEventListener = self.addEventListener;\n      self.addEventListener = function (eventName, callback, options) {\n        if (eventsToCatch.indexOf(eventName) > -1) {\n          eventCallbackProxies[eventName] = callback;\n          return null;\n        }\n        return addEventListener.call(self, eventName, callback, options);\n      };\n    } else {\n      const eventsToCatch = [\"message\"];\n      eventsToCatch.forEach((eventName) => {\n        var eventQueue = [];\n        var eventCallback = (event) => {\n          eventQueue.push(event);\n        };\n        self.addEventListener(eventName, eventCallback);\n        firstImportCallbacks.push(() => {\n          self.removeEventListener(eventName, eventCallback);\n          eventQueue.forEach(function (event) {\n            self.dispatchEvent(event);\n          });\n          eventQueue.length = 0;\n        });\n      });\n    }\n\n    System.register = async (deps, declare) => {\n      System.register = () => {\n        throw new Error(\n          \"unexpected call to System.register (called outside url instantiation)\",\n        );\n      };\n      const url = self.location.href;\n      registerRegistry[url] = [deps, declare];\n      const namespace = await _import(url);\n      firstImportCallbacks.forEach((firstImportCallback) => {\n        firstImportCallback();\n      });\n      firstImportCallbacks.length = 0;\n      return namespace;\n    };\n    System.instantiate = async (url) => {\n      const response = await self.fetch(url, {\n        credentials: \"same-origin\",\n      });\n      if (!response.ok) {\n        throw Error(`Failed to fetch module at ${url}`);\n      }\n      let source = await response.text();\n      if (source.indexOf(\"//# sourceURL=\") < 0) {\n        source += `\\n//# sourceURL=${url}`;\n      }\n      const register = System.register;\n      System.register = (deps, declare) => {\n        registerRegistry[url] = [deps, declare];\n      };\n      (0, self.eval)(source);\n      System.register = register;\n    };\n  }\n\n  const _import = (specifier, parentUrl) => {\n    const url = resolveUrl(specifier, parentUrl);\n    const load = getOrCreateLoad(url, parentUrl);\n    if (load.completionPromise) {\n      if (load.completionPromise === load.namespace) {\n        return Promise.resolve(load.namespace);\n      }\n      return load.completionPromise;\n    }\n    return startExecution(load, parentUrl);\n  };\n\n  const getOrCreateLoad = (url, firstParentUrl) => {\n    const existingLoad = loadRegistry[url];\n    if (existingLoad) {\n      return existingLoad;\n    }\n    const namespace = createNamespace();\n    const load = {\n      url,\n      deps: [],\n      dependencyLoads: [],\n      instantiatePromise: null,\n      linkPromise: null,\n      executePromise: null,\n      completionPromise: null,\n      importerSetters: [],\n      setters: [],\n      execute: null,\n      error: null,\n      hoistedExports: false,\n      namespace,\n    };\n    loadRegistry[url] = load;\n    load.instantiatePromise = (async () => {\n      try {\n        let registration = registerRegistry[url];\n        if (!registration) {\n          const instantiateReturnValue = System.instantiate(\n            url,\n            firstParentUrl,\n          );\n          if (instantiateReturnValue) {\n            await instantiateReturnValue;\n          }\n          registration = registerRegistry[url];\n        }\n        if (!registration) {\n          throw new Error(\n            `System.register() not called after executing ${url}`,\n          );\n        }\n\n        const _export = (firstArg, secondArg) => {\n          load.hoistedExports = true;\n          let changed = false;\n          if (typeof firstArg === \"string\") {\n            const name = firstArg;\n            const value = secondArg;\n            if (!(name in namespace) || namespace[name] !== value) {\n              namespace[name] = value;\n              changed = true;\n            }\n          } else {\n            Object.keys(firstArg).forEach((name) => {\n              const value = firstArg[name];\n              if (!(name in namespace) || namespace[name] !== value) {\n                namespace[name] = value;\n                changed = true;\n              }\n            });\n            if (firstArg && firstArg.__esModule) {\n              namespace.__esModule = firstArg.__esModule;\n            }\n          }\n          if (changed) {\n            load.importerSetters.forEach((importerSetter) => {\n              if (importerSetter) {\n                importerSetter(namespace);\n              }\n            });\n          }\n          return secondArg;\n        };\n        const [deps, declare] = registration;\n        const { setters, execute = () => {} } = declare(_export, {\n          import: (importId) => _import(importId, url),\n          meta: createMeta(url),\n        });\n        load.deps = deps;\n        load.setters = setters;\n        load.execute = execute;\n      } catch (e) {\n        load.error = e;\n        load.execute = null;\n      }\n    })();\n    load.linkPromise = (async () => {\n      await load.instantiatePromise;\n      const dependencyLoads = await Promise.all(\n        load.deps.map(async (dep, index) => {\n          const setter = load.setters[index];\n          const dependencyUrl = resolveUrl(dep, url);\n          const dependencyLoad = getOrCreateLoad(dependencyUrl, url);\n          if (dependencyLoad.instantiatePromise) {\n            await dependencyLoad.instantiatePromise;\n          }\n          if (setter) {\n            dependencyLoad.importerSetters.push(setter);\n            if (\n              dependencyLoad.hoistedExports ||\n              !dependencyLoad.instantiatePromise\n            ) {\n              setter(dependencyLoad.namespace);\n            }\n          }\n          return dependencyLoad;\n        }),\n      );\n      load.dependencyLoads = dependencyLoads;\n    })();\n    return load;\n  };\n\n  const startExecution = async (load, importerUrl) => {\n    load.completionPromise = (async () => {\n      await instantiateAll(load, load, {});\n      await postOrderExec(load, importerUrl ? [importerUrl] : []);\n      return load.namespace;\n    })();\n    return load.completionPromise;\n  };\n\n  const instantiateAll = async (load, parent, loaded) => {\n    if (loaded[load.url]) {\n      return;\n    }\n    loaded[load.url] = true;\n    try {\n      if (load.linkPromise) {\n        // load.linkPromise is null once instantiated\n        await load.linkPromise;\n      }\n      await Promise.all(\n        load.dependencyLoads.map((dependencyLoad) => {\n          return instantiateAll(dependencyLoad, parent, loaded);\n        }),\n      );\n    } catch (error) {\n      if (load.error) {\n        throw error;\n      }\n      load.execute = null;\n      throw error;\n    }\n  };\n\n  const postOrderExec = (load, importStack) => {\n    if (importStack.indexOf(load.url) > -1) {\n      return undefined;\n    }\n    if (!load.execute) {\n      if (load.error) {\n        throw load.error;\n      }\n      if (load.executePromise) {\n        return load.executePromise;\n      }\n      return undefined;\n    }\n\n    // deps execute first, unless circular\n    const execute = load.execute;\n    load.execute = null;\n    const depLoadPromises = [];\n    load.dependencyLoads.forEach((dependencyLoad) => {\n      try {\n        const depImportStack = importStack.slice();\n        depImportStack.push(load.url);\n        const depLoadPromise = postOrderExec(dependencyLoad, depImportStack);\n        if (depLoadPromise) {\n          depLoadPromises.push(depLoadPromise);\n        }\n      } catch (err) {\n        load.error = err;\n        throw err;\n      }\n    });\n\n    return (async () => {\n      if (depLoadPromises.length) {\n        const allDepPromise = Promise.all(depLoadPromises);\n        await allDepPromise;\n      }\n\n      try {\n        const executeReturnValue = execute.call(nullContext);\n        if (executeReturnValue) {\n          load.executePromise = executeReturnValue.then(\n            () => {\n              load.executePromise = null;\n              load.completionPromise = load.namespace;\n            },\n            (error) => {\n              load.executePromise = null;\n              load.error = error;\n              throw error;\n            },\n          );\n          return;\n        }\n        load.instantiatePromise = null;\n        load.linkPromise = null;\n        load.completionPromise = load.namespace;\n      } catch (error) {\n        load.error = error;\n        throw error;\n      } finally {\n        load.execute = null;\n      }\n    })();\n  };\n\n  // the closest we can get to call(undefined)\n  const nullContext = Object.freeze(Object.create(null));\n\n  const createMeta = (url) => {\n    return {\n      url,\n      resolve: (id) => resolveUrl(id, url),\n    };\n  };\n\n  const createNamespace =\n    typeof Symbol !== \"undefined\" && Symbol.toStringTag\n      ? () => {\n          const namespace = Object.create(null);\n          Object.defineProperty(namespace, Symbol.toStringTag, {\n            value: \"Module\",\n          });\n          return namespace;\n        }\n      : () => Object.create(null);\n})();\n"
  ],
  "mappings": "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"
}