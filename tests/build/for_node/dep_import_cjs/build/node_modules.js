var foo = {};

var bar = {};

var toto = {};

var hasRequiredToto;

function requireToto () {
	if (hasRequiredToto) return toto;
	hasRequiredToto = 1;
	console.log('toto');
	return toto;
}

var hasRequiredBar;

function requireBar () {
	if (hasRequiredBar) return bar;
	hasRequiredBar = 1;
	requireToto();

	console.log('bar');
	return bar;
}

var hasRequiredFoo;

function requireFoo () {
	if (hasRequiredFoo) return foo;
	hasRequiredFoo = 1;
	requireBar();

	console.log('foo');
	return foo;
}

requireFoo();
