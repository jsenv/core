# [2_top_level_await_throw](../../top_level_await_2_build.test.mjs#L48)

```js
run({
  runtimeCompat: { chrome: "65" },
  versioning: false,
})
```

```console
TRANSFORM_URL_CONTENT_ERROR: "transformUrlContent" error on "js_module"
base/client/main.js:1:7
1 | import "./a.js";
          ^
"transformUrlContent" error on "js_module"
--- error stack ---
TypeError: base/client/a.js: Cannot export after a top-level await when using topLevelAwait: "simple"!
  2 | await new Promise(resolve => setTimeout(resolve, 500));
  3 | window.executionOrder.push("a_after_timeout");
> 4 | export const answer = 42;
    | ^^^^^^^^^^^^^^^^^^^^^^^^^
    at File.buildCodeFrameError (@jsenv/core/node_modules/@babel/core/lib/transformation/file/file.js:200:12)
    at NodePath.buildCodeFrameError (@jsenv/core/node_modules/@babel/traverse/lib/path/index.js:118:21)
    at PluginPass.exit (@jsenv/core/node_modules/babel-plugin-transform-async-to-promises/async-to-promises.js:3597:36)
    at newFn (@jsenv/core/node_modules/@babel/traverse/lib/visitors.js:172:14)
    at NodePath._call (@jsenv/core/node_modules/@babel/traverse/lib/path/context.js:49:20)
    at NodePath.call (@jsenv/core/node_modules/@babel/traverse/lib/path/context.js:39:18)
    at NodePath.visit (@jsenv/core/node_modules/@babel/traverse/lib/path/context.js:96:8)
    at TraversalContext.visitQueue (@jsenv/core/node_modules/@babel/traverse/lib/context.js:90:16)
    at TraversalContext.visitMultiple (@jsenv/core/node_modules/@babel/traverse/lib/context.js:62:17)
    at TraversalContext.visit (@jsenv/core/node_modules/@babel/traverse/lib/context.js:111:19)
    at traverseNode (@jsenv/core/node_modules/@babel/traverse/lib/traverse-node.js:131:17)
    at NodePath.visit (@jsenv/core/node_modules/@babel/traverse/lib/path/context.js:94:52)
    at TraversalContext.visitQueue (@jsenv/core/node_modules/@babel/traverse/lib/context.js:90:16)
    at TraversalContext.visitSingle (@jsenv/core/node_modules/@babel/traverse/lib/context.js:66:19)
    at TraversalContext.visit (@jsenv/core/node_modules/@babel/traverse/lib/context.js:113:19)
    at traverseNode (@jsenv/core/node_modules/@babel/traverse/lib/traverse-node.js:131:17)
    at traverse (@jsenv/core/node_modules/@babel/traverse/lib/index.js:53:34)
    at transformFile (@jsenv/core/node_modules/@babel/core/lib/transformation/index.js:80:31)
    at transformFile.next (<anonymous>)
    at run (@jsenv/core/node_modules/@babel/core/lib/transformation/index.js:25:12)
    at run.next (<anonymous>)
    at transform (@jsenv/core/node_modules/@babel/core/lib/transform.js:22:33)
    at transform.next (<anonymous>)
    at step (@jsenv/core/node_modules/gensync/index.js:261:32)
    at @jsenv/core/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (@jsenv/core/node_modules/gensync/index.js:223:11)
    at @jsenv/core/node_modules/gensync/index.js:189:28
    at @jsenv/core/node_modules/@babel/core/lib/gensync-utils/async.js:67:7
    at @jsenv/core/node_modules/gensync/index.js:113:33
    at step (@jsenv/core/node_modules/gensync/index.js:287:14)
    at @jsenv/core/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (@jsenv/core/node_modules/gensync/index.js:223:11)
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/tooling/snapshot">@jsenv/snapshot</a>
</sub>
