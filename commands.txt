# command to run most basic file + sourcemap

# npm run compile && node ./dist/bin/start.js --file=/Users/d.maillard/Dev/Sandbox/npmlink/packages/dev-server/sourceMapTest/vscode-debug-chrome/file.js

npm run compile
node ./dist/bin/compile-server-start.js
rm -rf /var/folders/_y/_qf0g2dd2yn44pj45w1yj68c0000gp/T/com.microsoft.VSCode/node-debug2/sm-cache

# do not run like this, run with vscode using "Run with node" being on that file
# node ./dist/bin/run-node --file=/Users/d.maillard/Dev/Sandbox/npmlink/packages/dev-server/src/__test__/file.js

node ./dist/bin/chromium-vscode-server-start.js
http://127.0.0.1:3000/src/__test__/file.js

lsof -i :3001

// https://github.com/tiaanduplessis/kill-port/blob/24b14373fd828da6f87141c2f93fddfa64aa46d2/index.js#L19
lsof -i tcp:8765 | grep LISTEN | awk '{print $2}' | xargs kill -9

var source = new EventSource('http://127.0.0.1:57732');
source.onmessage = () => console.log('here')
