{
  "version": 3,
  "file": "jsenv_exploring_index.js",
  "sources": [
    "../src/internal/runtime/detectBrowser/util.js",
    "../src/internal/runtime/detectBrowser/detectAndroid.js",
    "../src/internal/runtime/detectBrowser/detectInternetExplorer.js",
    "../src/internal/runtime/detectBrowser/detectOpera.js",
    "../src/internal/runtime/detectBrowser/detectEdge.js",
    "../src/internal/runtime/detectBrowser/detectFirefox.js",
    "../src/internal/runtime/detectBrowser/detectChrome.js",
    "../src/internal/runtime/detectBrowser/detectSafari.js",
    "../src/internal/runtime/detectBrowser/detectElectron.js",
    "../src/internal/runtime/detectBrowser/detectIOS.js",
    "../src/internal/runtime/detectBrowser/detectBrowser.js",
    "../src/internal/semantic-versioning/valueToVersion.js",
    "../src/internal/semantic-versioning/versionCompare.js",
    "../src/internal/semantic-versioning/versionIsBelow.js",
    "../src/internal/semantic-versioning/findHighestVersion.js",
    "../src/internal/runtime/resolveGroup.js",
    "../src/internal/runtime/resolveBrowserGroup.js",
    "../helpers/babel/defineProperty/defineProperty.js",
    "../node_modules/@jsenv/logger/src/createDetailedMessage.js",
    "../src/internal/CONSTANTS.js",
    "../src/internal/runtime/computeCompileIdFromGroupId.js",
    "../helpers/babel/objectSpread2/objectSpread2.js",
    "../helpers/babel/objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js",
    "../helpers/babel/objectWithoutProperties/objectWithoutProperties.js",
    "../node_modules/@jsenv/cancellation/src/createCancellationToken.js",
    "../helpers/babel/typeof/typeof.js",
    "../node_modules/@jsenv/cancellation/src/cancelError.js",
    "../src/internal/memoize.js",
    "../src/internal/toolbar/util/fetching.js",
    "../src/internal/browser-utils/fetchUsingXHR.js",
    "../src/internal/browser-utils/fetch-browser.js",
    "../src/internal/browser-utils/fetchJson.js",
    "../src/internal/exploring/fetchExploringJson.js",
    "../src/internal/toolbar/util/preferences.js",
    "../src/internal/toolbar/util/animation.js",
    "../src/internal/exploring/exploring.js"
  ],
  "sourcesContent": [
    "export const firstMatch = (regexp, string) => {\n  const match = string.match(regexp)\n  return match && match.length > 0 ? match[1] || undefined : undefined\n}\n\nexport const secondMatch = (regexp, string) => {\n  const match = string.match(regexp)\n  return match && match.length > 1 ? match[2] || undefined : undefined\n}\n\nexport const userAgentToVersion = (userAgent) => {\n  return firstMatch(/version\\/(\\d+(\\.?_?\\d+)+)/i, userAgent) || undefined\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectAndroid = () => navigatorToBrowser(window.navigator)\n\nconst navigatorToBrowser = ({ userAgent, appVersion }) => {\n  if (/(android)/i.test(userAgent)) {\n    return {\n      name: \"android\",\n      version: firstMatch(/Android (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectInternetExplorer = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/msie|trident/i.test(userAgent)) {\n    return {\n      name: \"ie\",\n      version: firstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch, userAgentToVersion } from \"./util.js\"\n\nexport const detectOpera = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  // opera below 13\n  if (/opera/i.test(userAgent)) {\n    return {\n      name: \"opera\",\n      version:\n        userAgentToVersion(userAgent) || firstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n\n  // opera above 13\n  if (/opr\\/|opios/i.test(userAgent)) {\n    return {\n      name: \"opera\",\n      version: firstMatch(/(?:opr|opios)[\\s/](\\S+)/i, userAgent) || userAgentToVersion(userAgent),\n    }\n  }\n\n  return null\n}\n",
    "import { secondMatch } from \"./util.js\"\n\nexport const detectEdge = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/edg([ea]|ios)/i.test(userAgent)) {\n    return {\n      name: \"edge\",\n      version: secondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectFirefox = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/firefox|iceweasel|fxios/i.test(userAgent)) {\n    return {\n      name: \"firefox\",\n      version: firstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { userAgentToVersion, firstMatch } from \"./util.js\"\n\nexport const detectChrome = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/chromium/i.test(userAgent)) {\n    return {\n      name: \"chrome\",\n      version:\n        firstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent) ||\n        userAgentToVersion(userAgent),\n    }\n  }\n\n  if (/chrome|crios|crmo/i.test(userAgent)) {\n    return {\n      name: \"chrome\",\n      version: firstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n\n  return null\n}\n",
    "import { userAgentToVersion } from \"./util.js\"\n\nexport const detectSafari = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/safari|applewebkit/i.test(userAgent)) {\n    return {\n      name: \"safari\",\n      version: userAgentToVersion(userAgent),\n    }\n  }\n  return null\n}\n",
    "export const detectElectron = () => null // TODO\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectIOS = () => navigatorToBrowser(window.navigator)\n\nconst navigatorToBrowser = ({ userAgent, appVersion }) => {\n  if (/iPhone;/.test(userAgent)) {\n    return {\n      name: \"ios\",\n      version: firstMatch(/OS (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  if (/iPad;/.test(userAgent)) {\n    return {\n      name: \"ios\",\n      version: firstMatch(/OS (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  return null\n}\n",
    "// https://github.com/Ahmdrza/detect-browser/blob/26254f85cf92795655a983bfd759d85f3de850c6/detect-browser.js#L1\n// https://github.com/lancedikson/bowser/blob/master/src/parser-browsers.js#L1\n\nimport { detectAndroid } from \"./detectAndroid.js\"\nimport { detectInternetExplorer } from \"./detectInternetExplorer.js\"\nimport { detectOpera } from \"./detectOpera.js\"\nimport { detectEdge } from \"./detectEdge.js\"\nimport { detectFirefox } from \"./detectFirefox.js\"\nimport { detectChrome } from \"./detectChrome.js\"\nimport { detectSafari } from \"./detectSafari.js\"\nimport { detectElectron } from \"./detectElectron.js\"\nimport { detectIOS } from \"./detectIOS.js\"\n\nconst detectorCompose = (detectors) => () => {\n  let i = 0\n  while (i < detectors.length) {\n    const detector = detectors[i]\n    i++\n    const result = detector()\n    if (result) {\n      return result\n    }\n  }\n  return null\n}\n\nconst detector = detectorCompose([\n  detectOpera,\n  detectInternetExplorer,\n  detectEdge,\n  detectFirefox,\n  detectChrome,\n  detectSafari,\n  detectElectron,\n  detectIOS,\n  detectAndroid,\n])\n\nexport const detectBrowser = () => {\n  const { name = \"other\", version = \"unknown\" } = detector() || {}\n\n  return {\n    name: normalizeName(name),\n    version: normalizeVersion(version),\n  }\n}\n\nconst normalizeName = (name) => {\n  return name.toLowerCase()\n}\n\nconst normalizeVersion = (version) => {\n  if (version.indexOf(\".\") > -1) {\n    const parts = version.split(\".\")\n    // remove extraneous .\n    return parts.slice(0, 3).join(\".\")\n  }\n\n  if (version.indexOf(\"_\") > -1) {\n    const parts = version.split(\"_\")\n    // remove extraneous _\n    return parts.slice(0, 3).join(\"_\")\n  }\n\n  return version\n}\n",
    "export const valueToVersion = (value) => {\n  if (typeof value === \"number\") {\n    return numberToVersion(value)\n  }\n\n  if (typeof value === \"string\") {\n    return stringToVersion(value)\n  }\n\n  throw new TypeError(createValueErrorMessage({ version: value }))\n}\n\nconst numberToVersion = (number) => {\n  return {\n    major: number,\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst stringToVersion = (string) => {\n  if (string.indexOf(\".\") > -1) {\n    const parts = string.split(\".\")\n    return {\n      major: Number(parts[0]),\n      minor: parts[1] ? Number(parts[1]) : 0,\n      patch: parts[2] ? Number(parts[2]) : 0,\n    }\n  }\n\n  if (isNaN(string)) {\n    return {\n      major: 0,\n      minor: 0,\n      patch: 0,\n    }\n  }\n\n  return {\n    major: Number(string),\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst createValueErrorMessage = ({ value }) => `value must be a number or a string.\nvalue: ${value}`\n",
    "import { valueToVersion } from \"./valueToVersion.js\"\n\nexport const versionCompare = (versionA, versionB) => {\n  const semanticVersionA = valueToVersion(versionA)\n  const semanticVersionB = valueToVersion(versionB)\n\n  const majorDiff = semanticVersionA.major - semanticVersionB.major\n  if (majorDiff > 0) {\n    return majorDiff\n  }\n  if (majorDiff < 0) {\n    return majorDiff\n  }\n\n  const minorDiff = semanticVersionA.minor - semanticVersionB.minor\n  if (minorDiff > 0) {\n    return minorDiff\n  }\n  if (minorDiff < 0) {\n    return minorDiff\n  }\n\n  const patchDiff = semanticVersionA.patch - semanticVersionB.patch\n  if (patchDiff > 0) {\n    return patchDiff\n  }\n  if (patchDiff < 0) {\n    return patchDiff\n  }\n\n  return 0\n}\n",
    "import { versionCompare } from \"./versionCompare.js\"\n\nexport const versionIsBelow = (versionSupposedBelow, versionSupposedAbove) => {\n  return versionCompare(versionSupposedBelow, versionSupposedAbove) < 0\n}\n",
    "import { versionIsBelow } from \"./versionIsBelow.js\"\n\nexport const findHighestVersion = (...values) => {\n  if (values.length === 0) throw new Error(`missing argument`)\n\n  return values.reduce((highestVersion, value) => {\n    if (versionIsBelow(highestVersion, value)) {\n      return value\n    }\n    return highestVersion\n  })\n}\n",
    "import { findHighestVersion } from \"../semantic-versioning/index.js\"\n\nexport const resolveGroup = ({ name, version }, groupMap) => {\n  return Object.keys(groupMap).find((compileIdCandidate) => {\n    const { runtimeCompatMap } = groupMap[compileIdCandidate]\n    if (name in runtimeCompatMap === false) {\n      return false\n    }\n    const versionForGroup = runtimeCompatMap[name]\n\n    const highestVersion = findHighestVersion(version, versionForGroup)\n    return highestVersion === version\n  })\n}\n",
    "import { detectBrowser } from \"./detectBrowser/detectBrowser.js\"\nimport { resolveGroup } from \"./resolveGroup.js\"\n\nexport const resolveBrowserGroup = (groupMap) => resolveGroup(detectBrowser(), groupMap)\n",
    "export default (obj, key, value) => {\n  // Shortcircuit the slow defineProperty path when possible.\n  // We are trying to avoid issues where setters defined on the\n  // prototype cause side effects under the fast path of simple\n  // assignment. By checking for existence of the property with\n  // the in operator, we can optimize most of this overhead away.\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n",
    "export const createDetailedMessage = (message, details = {}) => {\n  let string = `${message}`\n\n  Object.keys(details).forEach((key) => {\n    const value = details[key]\n    string += `\n--- ${key} ---\n${\n  Array.isArray(value)\n    ? value.join(`\n`)\n    : value\n}`\n  })\n\n  return string\n}\n",
    "export const COMPILE_ID_BEST = \"best\"\n\nexport const COMPILE_ID_OTHERWISE = \"otherwise\"\n\nexport const COMPILE_ID_BUILD_GLOBAL = \"otherwise-build-global\"\n\nexport const COMPILE_ID_BUILD_GLOBAL_FILES = \"otherwise-build-global-files\"\n\nexport const COMPILE_ID_BUILD_COMMONJS = \"otherwise-build-commonjs\"\n\nexport const COMPILE_ID_BUILD_COMMONJS_FILES = \"otherwise-build-commonjs-files\"\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { COMPILE_ID_OTHERWISE } from \"../CONSTANTS.js\"\n\nexport const computeCompileIdFromGroupId = ({ groupId, groupMap }) => {\n  if (typeof groupId === \"undefined\") {\n    if (COMPILE_ID_OTHERWISE in groupMap) {\n      return COMPILE_ID_OTHERWISE\n    }\n\n    const keys = Object.keys(groupMap)\n    if (keys.length === 1) {\n      return keys[0]\n    }\n\n    throw new Error(createUnexpectedGroupIdMessage({ groupMap }))\n  }\n\n  if (groupId in groupMap === false) {\n    throw new Error(createUnexpectedGroupIdMessage({ groupId, groupMap }))\n  }\n\n  return groupId\n}\n\nconst createUnexpectedGroupIdMessage = ({ compileId, groupMap }) =>\n  createDetailedMessage(`unexpected groupId.`, {\n    [\"expected compiled id\"]: Object.keys(groupMap),\n    [\"received compile id\"]: compileId,\n  })\n",
    "import defineProperty from \"../defineProperty/defineProperty.js\"\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n",
    "export default (source, excluded) => {\n  if (source === null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key\n  var i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\n",
    "import objectWithoutPropertiesLoose from \"../objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js\"\n\nexport default (source, excluded) => {\n  if (source === null) return {}\n\n  var target = objectWithoutPropertiesLoose(source, excluded)\n  var key\n  var i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n",
    "export const createCancellationToken = () => {\n  const register = (callback) => {\n    if (typeof callback !== \"function\") {\n      throw new Error(`callback must be a function, got ${callback}`)\n    }\n\n    return {\n      callback,\n      unregister: () => {},\n    }\n  }\n\n  const throwIfRequested = () => undefined\n\n  return {\n    register,\n    cancellationRequested: false,\n    throwIfRequested,\n  }\n}\n",
    "const nativeTypeOf = (obj) => typeof obj\n\nconst customTypeOf = (obj) => {\n  return obj &&\n    typeof Symbol === \"function\" &&\n    obj.constructor === Symbol &&\n    obj !== Symbol.prototype\n    ? \"symbol\"\n    : typeof obj\n}\n\nexport default typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n  ? nativeTypeOf\n  : customTypeOf\n",
    "export const createCancelError = (reason) => {\n  const cancelError = new Error(`canceled because ${reason}`)\n  cancelError.name = \"CANCEL_ERROR\"\n  cancelError.reason = reason\n  return cancelError\n}\n\nexport const isCancelError = (value) => {\n  return value && typeof value === \"object\" && value.name === \"CANCEL_ERROR\"\n}\n\nexport const errorToCancelReason = (error) => {\n  if (!isCancelError(error)) return \"\"\n  return error.reason\n}\n",
    "export const memoize = (compute) => {\n  let memoized = false\n  let memoizedValue\n\n  const fnWithMemoization = (...args) => {\n    if (memoized) {\n      return memoizedValue\n    }\n    // if compute is recursive wait for it to be fully done before storing the lockValue\n    // so set locked later\n    memoizedValue = compute(...args)\n    memoized = true\n    return memoizedValue\n  }\n\n  fnWithMemoization.forget = () => {\n    const value = memoizedValue\n    memoized = false\n    memoizedValue = undefined\n    return value\n  }\n\n  return fnWithMemoization\n}\n",
    "import { createCancellationToken } from \"@jsenv/cancellation/main.browser.js\"\nimport { memoize } from \"../../memoize.js\"\n\nconst fetchNative = async (\n  url,\n  { cancellationToken = createCancellationToken(), ...options } = {},\n) => {\n  const abortController = new AbortController()\n\n  let cancelError\n  cancellationToken.register((reason) => {\n    cancelError = reason\n    abortController.abort(reason)\n  })\n\n  let response\n  try {\n    response = await window.fetch(url, {\n      signal: abortController.signal,\n      ...options,\n    })\n  } catch (e) {\n    if (cancelError && e.name === \"AbortError\") {\n      throw cancelError\n    }\n    throw e\n  }\n\n  return response\n}\n\nconst fetchPolyfill = async (...args) => {\n  const { fetchUsingXHR } = await loadPolyfill()\n  return fetchUsingXHR(...args)\n}\n\nconst loadPolyfill = memoize(() => import(\"../../browser-utils/fetchUsingXHR.js\"))\n\nexport const fetchUrl =\n  typeof window.fetch === \"function\" && typeof window.AbortController === \"function\"\n    ? fetchNative\n    : fetchPolyfill\n",
    "import { createCancellationToken } from \"@jsenv/cancellation/main.browser.js\"\nimport { createDetailedMessage } from \"@jsenv/logger\"\n// ideally we should do some window.fetch detection (ensuring it has cancellation) and accordingly\n// fallback to this polyfill (or even use an existing polyfill would be better)\n// https://github.com/github/fetch/blob/master/fetch.js\n\nexport const fetchUsingXHR = async (\n  url,\n  {\n    cancellationToken = createCancellationToken(),\n    method = \"GET\",\n    credentials = \"same-origin\",\n    headers = {},\n    body = null,\n  } = {},\n) => {\n  const headersPromise = createPromiseAndHooks()\n  const bodyPromise = createPromiseAndHooks()\n\n  const xhr = new XMLHttpRequest()\n\n  const failure = (error) => {\n    // if it was already resolved, we must reject the body promise\n    if (headersPromise.settled) {\n      bodyPromise.reject(error)\n    } else {\n      headersPromise.reject(error)\n    }\n  }\n\n  const cleanup = () => {\n    xhr.ontimeout = null\n    xhr.onerror = null\n    xhr.onload = null\n    xhr.onreadystatechange = null\n  }\n\n  xhr.ontimeout = () => {\n    cleanup()\n    failure(new Error(`xhr request timeout on ${url}.`))\n  }\n\n  xhr.onerror = (error) => {\n    cleanup()\n    // unfortunately with have no clue why it fails\n    // might be cors for instance\n    failure(createRequestError(error, { url }))\n  }\n\n  xhr.onload = () => {\n    cleanup()\n    bodyPromise.resolve()\n  }\n\n  cancellationToken.register((cancelError) => {\n    xhr.abort()\n    failure(cancelError)\n  })\n\n  xhr.onreadystatechange = () => {\n    // https://developer.mozilla.org/fr/docs/Web/API/XMLHttpRequest/readyState\n    const { readyState } = xhr\n\n    if (readyState === 2) {\n      headersPromise.resolve()\n    } else if (readyState === 4) {\n      cleanup()\n      bodyPromise.resolve()\n    }\n  }\n\n  xhr.open(method, url, true)\n  Object.keys(headers).forEach((key) => {\n    xhr.setRequestHeader(key, headers[key])\n  })\n  xhr.withCredentials = computeWithCredentials({ credentials, url })\n  if (\"responseType\" in xhr && hasBlob) {\n    xhr.responseType = \"blob\"\n  }\n  xhr.send(body)\n\n  await headersPromise\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURL\n  const responseUrl = \"responseURL\" in xhr ? xhr.responseURL : headers[\"x-request-url\"]\n  let responseStatus = xhr.status\n  const responseStatusText = xhr.statusText\n  const responseHeaders = getHeadersFromXHR(xhr)\n\n  const readBody = async () => {\n    await bodyPromise\n\n    const { status } = xhr\n    // in Chrome on file:/// URLs, status is 0\n    if (status === 0) {\n      responseStatus = 200\n    }\n\n    const body = \"response\" in xhr ? xhr.response : xhr.responseText\n\n    return {\n      responseBody: body,\n      responseBodyType: detectBodyType(body),\n    }\n  }\n\n  const text = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return blobToText(responseBody)\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as text\")\n    }\n    if (responseBodyType === \"dataView\") {\n      return arrayBufferToText(responseBody.buffer)\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return arrayBufferToText(responseBody)\n    }\n    // if (responseBodyType === \"text\" || responseBodyType === 'searchParams') {\n    //   return body\n    // }\n    return String(responseBody)\n  }\n\n  const json = async () => {\n    const responseText = await text()\n    return JSON.parse(responseText)\n  }\n\n  const blob = async () => {\n    if (!hasBlob) {\n      throw new Error(`blob not supported`)\n    }\n\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return responseBody\n    }\n    if (responseBodyType === \"dataView\") {\n      return new Blob([cloneBuffer(responseBody.buffer)])\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return new Blob([cloneBuffer(responseBody)])\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as blob\")\n    }\n    return new Blob([String(responseBody)])\n  }\n\n  const arrayBuffer = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"arrayBuffer\") {\n      return cloneBuffer(responseBody)\n    }\n    const responseBlob = await blob()\n    return blobToArrayBuffer(responseBlob)\n  }\n\n  const formData = async () => {\n    if (!hasFormData) {\n      throw new Error(`formData not supported`)\n    }\n    const responseText = await text()\n    return textToFormData(responseText)\n  }\n\n  return {\n    url: responseUrl,\n    status: responseStatus,\n    statusText: responseStatusText,\n    headers: responseHeaders,\n    text,\n    json,\n    blob,\n    arrayBuffer,\n    formData,\n  }\n}\n\nconst canUseBlob = () => {\n  if (typeof window.FileReader !== \"function\") return false\n\n  if (typeof window.Blob !== \"function\") return false\n\n  try {\n    // eslint-disable-next-line no-new\n    new Blob()\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nconst hasBlob = canUseBlob()\n\nconst hasFormData = typeof window.FormData === \"function\"\n\nconst hasArrayBuffer = typeof window.ArrayBuffer === \"function\"\n\nconst hasSearchParams = typeof window.URLSearchParams === \"function\"\n\nconst createRequestError = (error, { url }) => {\n  return new Error(\n    createDetailedMessage(`error during xhr request on ${url}.`, {\n      [\"error stack\"]: error.stack,\n    }),\n  )\n}\n\nconst createPromiseAndHooks = () => {\n  let resolve\n  let reject\n  const promise = new Promise((res, rej) => {\n    resolve = (value) => {\n      promise.settled = true\n      res(value)\n    }\n    reject = (value) => {\n      promise.settled = true\n      rej(value)\n    }\n  })\n  promise.resolve = resolve\n  promise.reject = reject\n  return promise\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst computeWithCredentials = ({ credentials, url }) => {\n  if (credentials === \"same-origin\") {\n    return originSameAsGlobalOrigin(url)\n  }\n  return credentials === \"include\"\n}\n\nconst originSameAsGlobalOrigin = (url) => {\n  // if we cannot read globalOrigin from window.location.origin, let's consider it's ok\n  if (typeof window !== \"object\") return true\n  if (typeof window.location !== \"object\") return true\n  const globalOrigin = window.location.origin\n  if (globalOrigin === \"null\") return true\n  return hrefToOrigin(url) === globalOrigin\n}\n\nconst detectBodyType = (body) => {\n  if (!body) {\n    return \"\"\n  }\n  if (typeof body === \"string\") {\n    return \"text\"\n  }\n  if (hasBlob && Blob.prototype.isPrototypeOf(body)) {\n    return \"blob\"\n  }\n  if (hasFormData && FormData.prototype.isPrototypeOf(body)) {\n    return \"formData\"\n  }\n  if (hasArrayBuffer) {\n    if (hasBlob && isDataView(body)) {\n      return `dataView`\n    }\n    if (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body)) {\n      return `arrayBuffer`\n    }\n  }\n  if (hasSearchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n    return \"searchParams\"\n  }\n  return \"\"\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\nconst getHeadersFromXHR = (xhr) => {\n  const headerMap = {}\n\n  const headersString = xhr.getAllResponseHeaders()\n  if (headersString === \"\") return headerMap\n\n  const lines = headersString.trim().split(/[\\r\\n]+/)\n  lines.forEach((line) => {\n    const parts = line.split(\": \")\n    const name = parts.shift()\n    const value = parts.join(\": \")\n    headerMap[name.toLowerCase()] = value\n  })\n\n  return headerMap\n}\n\nconst hrefToOrigin = (href) => {\n  const scheme = hrefToScheme(href)\n\n  if (scheme === \"file\") {\n    return \"file://\"\n  }\n\n  if (scheme === \"http\" || scheme === \"https\") {\n    const secondProtocolSlashIndex = scheme.length + \"://\".length\n    const pathnameSlashIndex = href.indexOf(\"/\", secondProtocolSlashIndex)\n\n    if (pathnameSlashIndex === -1) return href\n    return href.slice(0, pathnameSlashIndex)\n  }\n\n  return href.slice(0, scheme.length + 1)\n}\n\nconst hrefToScheme = (href) => {\n  const colonIndex = href.indexOf(\":\")\n  if (colonIndex === -1) return \"\"\n  return href.slice(0, colonIndex)\n}\n\nconst isDataView = (obj) => {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nconst isArrayBufferView =\n  ArrayBuffer.isView ||\n  (() => {\n    const viewClasses = [\n      \"[object Int8Array]\",\n      \"[object Uint8Array]\",\n      \"[object Uint8ClampedArray]\",\n      \"[object Int16Array]\",\n      \"[object Uint16Array]\",\n      \"[object Int32Array]\",\n      \"[object Uint32Array]\",\n      \"[object Float32Array]\",\n      \"[object Float64Array]\",\n    ]\n\n    return (value) => {\n      return value && viewClasses.includes(Object.prototype.toString.call(value))\n    }\n  })()\n\nconst textToFormData = (text) => {\n  const form = new FormData()\n  text\n    .trim()\n    .split(\"&\")\n    .forEach(function (bytes) {\n      if (bytes) {\n        const split = bytes.split(\"=\")\n        const name = split.shift().replace(/\\+/g, \" \")\n        const value = split.join(\"=\").replace(/\\+/g, \" \")\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nconst blobToArrayBuffer = async (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nconst blobToText = (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nconst arrayBufferToText = (arrayBuffer) => {\n  const view = new Uint8Array(arrayBuffer)\n  const chars = new Array(view.length)\n  let i = 0\n  while (i < view.length) {\n    chars[i] = String.fromCharCode(view[i])\n\n    i++\n  }\n  return chars.join(\"\")\n}\n\nconst fileReaderReady = (reader) => {\n  return new Promise(function (resolve, reject) {\n    reader.onload = function () {\n      resolve(reader.result)\n    }\n    reader.onerror = function () {\n      reject(reader.error)\n    }\n  })\n}\n\nconst cloneBuffer = (buffer) => {\n  if (buffer.slice) {\n    return buffer.slice(0)\n  }\n  const view = new Uint8Array(buffer.byteLength)\n  view.set(new Uint8Array(buffer))\n  return view.buffer\n}\n",
    "import { createCancellationToken } from \"@jsenv/cancellation/main.browser.js\"\nimport { fetchUsingXHR } from \"./fetchUsingXHR.js\"\n\nconst fetchNative = async (\n  url,\n  { cancellationToken = createCancellationToken(), mode = \"cors\", ...options } = {},\n) => {\n  const abortController = new AbortController()\n\n  let cancelError\n  cancellationToken.register((reason) => {\n    cancelError = reason\n    abortController.abort(reason)\n  })\n\n  let response\n  try {\n    response = await window.fetch(url, {\n      signal: abortController.signal,\n      mode,\n      ...options,\n    })\n  } catch (e) {\n    if (cancelError && e.name === \"AbortError\") {\n      throw cancelError\n    }\n    throw e\n  }\n\n  return {\n    url: response.url,\n    status: response.status,\n    statusText: \"\",\n    headers: responseToHeaders(response),\n    text: () => response.text(),\n    json: () => response.json(),\n    blob: () => response.blob(),\n    arrayBuffer: () => response.arrayBuffer(),\n    formData: () => response.formData(),\n  }\n}\n\nconst responseToHeaders = (response) => {\n  const headers = {}\n  response.headers.forEach((value, name) => {\n    headers[name] = value\n  })\n  return headers\n}\n\nexport const fetchUrl =\n  typeof window.fetch === \"function\" && typeof window.AbortController === \"function\"\n    ? fetchNative\n    : fetchUsingXHR\n",
    "import { fetchUrl } from \"./fetch-browser.js\"\n\nexport const fetchJson = async (url, options = {}) => {\n  const response = await fetchUrl(url, options)\n  const object = await response.json()\n  return object\n}\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { isCancelError } from \"@jsenv/cancellation/main.browser.js\"\n\nimport { fetchJson } from \"../browser-utils/fetchJson.js\"\n\nexport const fetchExploringJson = async ({ cancellationToken } = {}) => {\n  try {\n    const exploringInfo = await fetchJson(\"/.jsenv/exploring.json\", {\n      headers: { \"x-jsenv\": \"1\" },\n      cancellationToken,\n    })\n    return exploringInfo\n  } catch (e) {\n    if (isCancelError(e)) {\n      throw e\n    }\n    throw new Error(\n      createDetailedMessage(`Cannot communicate with exploring server due to a network error`, {\n        [\"error stack\"]: e.stack,\n      }),\n    )\n  }\n}\n",
    "export const createPreference = (name) => {\n  return {\n    has: () => localStorage.hasOwnProperty(name),\n    get: () =>\n      localStorage.hasOwnProperty(name) ? JSON.parse(localStorage.getItem(name)) : undefined,\n    set: (value) => localStorage.setItem(name, JSON.stringify(value)),\n  }\n}\n",
    "import { setStyles } from \"./dom.js\"\n\nconst animateFallback = () => {\n  return Promise.resolve()\n}\n\nconst animateNative = (node, keyframes, { cancellationToken, ...options } = {}) => {\n  const animation = node.animate(keyframes, options)\n  if (cancellationToken) {\n    cancellationToken.register(() => {\n      animation.cancel()\n    })\n  }\n  return new Promise((resolve) => {\n    animation.onfinish = resolve\n  })\n}\n\nexport const canUseAnimation = () => typeof HTMLElement.prototype.animate === \"function\"\n\nexport const animateElement = canUseAnimation() ? animateNative : animateFallback\n\nexport const fadeIn = (node, options) =>\n  animateElement(\n    node,\n    [\n      {\n        opacity: 0,\n      },\n      {\n        opacity: 1,\n      },\n    ],\n    options,\n  )\n\nexport const fadeOut = (node, options) =>\n  animateElement(\n    node,\n    [\n      {\n        opacity: 1,\n      },\n      {\n        opacity: 0,\n      },\n    ],\n    options,\n  )\n\nexport const move = (fromNode, toNode, options) => {\n  const fromComputedStyle = window.getComputedStyle(fromNode)\n  const toComputedStyle = window.getComputedStyle(toNode)\n  // get positions of input in toolbar and aElement\n  const fromPosition = fromNode.getBoundingClientRect()\n  const toPosition = toNode.getBoundingClientRect()\n\n  // we'll do the animation in a div preventing overflow and pointer events\n  const div = document.createElement(\"div\")\n  div.style.position = \"absolute\"\n  div.style.left = 0\n  div.style.top = 0\n  div.style.width = `${document.documentElement.scrollWidth}px`\n  div.style.height = `${document.documentElement.scrollHeight}px`\n  div.style.overflow = \"hidden\"\n  div.style.pointerEvents = \"none\"\n\n  const documentScroll = {\n    left: window.pageXOffset || document.documentElement.scrollLeft,\n    top: window.pageYOffset || document.documentElement.scrollTop,\n  }\n\n  // clone node and style it\n  const copy = fromNode.cloneNode(true)\n  copy.style.position = \"absolute\"\n  copy.style.left = `${documentScroll.left + fromPosition.left}px`\n  copy.style.top = `${documentScroll.top + fromPosition.top}px`\n  copy.style.maxWidth = `${fromPosition.right - fromPosition.left}px`\n  copy.style.overflow = toComputedStyle.overflow\n  copy.style.textOverflow = toComputedStyle.textOverflow\n  div.appendChild(copy)\n  document.body.appendChild(div)\n\n  const left = toPosition.left - fromPosition.left - (parseInt(fromComputedStyle.paddingLeft) || 0)\n  const top = toPosition.top - fromPosition.top - (parseInt(fromComputedStyle.paddingTop) || 0)\n  // define final position of new element and the duration\n  const translate = `translate(${left}px, ${top}px)`\n\n  // animate new element\n  return animateElement(\n    copy,\n    [\n      {\n        transform: \"translate(0px, 0px)\",\n        backgroundColor: fromComputedStyle.backgroundColor,\n        color: fromComputedStyle.color,\n        fontSize: fromComputedStyle.fontSize,\n        height: `${fromPosition.bottom - fromPosition.top}px`,\n        width: \"100%\",\n      },\n      {\n        offset: 0.9,\n        backgroundColor: fromComputedStyle.backgroundColor,\n        color: fromComputedStyle.color,\n      },\n      {\n        transform: translate,\n        backgroundColor: toComputedStyle.backgroundColor,\n        color: toComputedStyle.color,\n        fontSize: toComputedStyle.fontSize,\n        height: `${toPosition.bottom - toPosition.top}px`,\n        width: toComputedStyle.width,\n      },\n    ],\n    options,\n  ).then(() => {\n    div.parentNode.removeChild(div)\n  })\n}\n\n// the whole point of this toolbar animation wass to flight a visual imperfection when it's done by css transition.\n// This imperfection is a white line sometimes flickering at the bottom of the page.\n// It got fixed by removing the usage of calc(100vh - 40px)\n// It was hapenning in chrome, safari but not inside Firefox\n// I assume it's because Firefox does not read parent element min-height while\n// chrome use it to compute min-height: 100%\nexport const createToolbarAnimation = () => {\n  const collapsedState = {\n    \"#page\": { paddingBottom: 0 },\n    \"footer\": { height: 0 },\n    \"#toolbar\": { visibility: \"hidden\" },\n  }\n  const expandedState = {\n    \"#page\": { paddingBottom: \"40px\" },\n    \"footer\": { height: \"40px\" },\n    \"#toolbar\": { visibility: \"visible\" },\n  }\n  const expandTransition = transit(collapsedState, expandedState, { duration: 300 })\n\n  const expand = () => {\n    expandTransition.play()\n  }\n\n  const collapse = () => {\n    expandTransition.reverse()\n  }\n\n  return { expand, collapse }\n}\n\nexport const transit = (\n  fromState,\n  toState,\n  { commitStyles = true, fill = \"both\", duration = 300 } = {},\n) => {\n  const steps = []\n  Object.keys(fromState).forEach((selector) => {\n    const fromStyles = {}\n    const toStyles = {}\n    const element = document.querySelector(selector)\n\n    const keyframes = []\n    const fromProperties = fromState[selector]\n    const toProperties = toState[selector]\n    Object.keys(fromProperties).forEach((propertyName) => {\n      const from = fromProperties[propertyName]\n      const to = toProperties[propertyName]\n      fromStyles[propertyName] = from\n      toStyles[propertyName] = to\n    })\n    keyframes.push(fromStyles, toStyles)\n\n    let animation\n    if (canUseAnimation()) {\n      const effect = new KeyframeEffect(element, keyframes, { fill, duration })\n      animation = new Animation(effect)\n    } else {\n      animation = {\n        playbackRate: 1,\n        play: () => {\n          animation.onfinish()\n        },\n        reverse: () => {\n          animation.playbackRate = -1\n          animation.onfinish()\n        },\n        finish: () => {},\n        onfinish: () => {},\n      }\n    }\n\n    steps.push({\n      element,\n      animation,\n      fromStyles,\n      toStyles,\n    })\n  })\n\n  const play = async () => {\n    await Promise.all(\n      steps.map(({ animation, element, toStyles }) => {\n        return new Promise((resolve) => {\n          animation.onfinish = () => {\n            if (commitStyles) {\n              setStyles(element, toStyles)\n            }\n            resolve()\n          }\n          if (animation.playbackRate === -1) {\n            animation.reverse()\n          } else {\n            animation.play()\n          }\n        })\n      }),\n    )\n  }\n\n  const reverse = async () => {\n    await Promise.all(\n      steps.map(({ animation, element, fromStyles }) => {\n        return new Promise((resolve) => {\n          animation.onfinish = () => {\n            if (commitStyles) {\n              setStyles(element, fromStyles)\n            }\n            resolve()\n          }\n          animation.reverse()\n        })\n      }),\n    )\n  }\n\n  const finish = async () => {\n    steps.forEach(({ animation }) => {\n      animation.finish()\n    })\n  }\n\n  return { play, reverse, finish }\n}\n\nexport const startJavaScriptAnimation = ({\n  duration = 300,\n  timingFunction = (t) => t,\n  onProgress = () => {},\n  onCancel = () => {},\n  onComplete = () => {},\n}) => {\n  if (isNaN(duration)) {\n    // console.warn(`duration must be a number, received ${duration}`)\n    return () => {}\n  }\n  duration = parseInt(duration, 10)\n  const startMs = performance.now()\n  let currentRequestAnimationFrameId\n  let done = false\n  let rawProgress = 0\n  let progress = 0\n  const handler = () => {\n    currentRequestAnimationFrameId = null\n    const nowMs = performance.now()\n    rawProgress = Math.min((nowMs - startMs) / duration, 1)\n    progress = timingFunction(rawProgress)\n    done = rawProgress === 1\n    onProgress({\n      done,\n      rawProgress,\n      progress,\n    })\n    if (done) {\n      onComplete()\n    } else {\n      currentRequestAnimationFrameId = window.requestAnimationFrame(handler)\n    }\n  }\n  handler()\n  const stop = () => {\n    if (currentRequestAnimationFrameId) {\n      window.cancelAnimationFrame(currentRequestAnimationFrameId)\n      currentRequestAnimationFrameId = null\n    }\n    if (!done) {\n      done = true\n      onCancel({\n        rawProgress,\n        progress,\n      })\n    }\n  }\n  return stop\n}\n",
    "import { resolveBrowserGroup } from \"../runtime/resolveBrowserGroup.js\"\nimport { computeCompileIdFromGroupId } from \"../runtime/computeCompileIdFromGroupId.js\"\nimport { fetchUrl } from \"../toolbar/util/fetching.js\"\nimport { fetchExploringJson } from \"./fetchExploringJson.js\"\nimport { createPreference } from \"../toolbar/util/preferences.js\"\nimport { startJavaScriptAnimation } from \"../toolbar/util/animation.js\"\n\nconst fetchJSON = async (url, options) => {\n  const response = await fetchUrl(url, options)\n  const json = await response.json()\n  return json\n}\n\nconst groupPreference = createPreference(\"group\")\n\nconst run = async () => {\n  const { projectDirectoryUrl, explorableConfig, outDirectoryRelativeUrl } =\n    await fetchExploringJson()\n\n  const files = await fetchJSON(`/.jsenv/explorables.json`, {\n    method: \"GET\",\n    headers: {\n      \"x-jsenv\": \"1\",\n    },\n  })\n\n  const compileServerOrigin = document.location.origin\n  const outDirectoryUrl = String(new URL(outDirectoryRelativeUrl, compileServerOrigin))\n  const groupMapUrl = String(new URL(\"groupMap.json\", outDirectoryUrl))\n  const groupMap = await fetchJSON(groupMapUrl)\n  const compileId = computeCompileIdFromGroupId({\n    groupId: resolveBrowserGroup(groupMap),\n    groupMap,\n  })\n\n  const renderHtml = () => {\n    const fileListElement = document.querySelector(`[data-page=\"file-list\"]`).cloneNode(true)\n    const directoryName = directoryUrlToDirectoryName(projectDirectoryUrl)\n    const span = fileListElement.querySelector(\"h2 span\")\n    span.title = projectDirectoryUrl\n    span.textContent = directoryName\n\n    const h4 = fileListElement.querySelector(\"h4\")\n\n    const ul = fileListElement.querySelector(\"ul\")\n    ul.innerHTML = files\n      .map(\n        (file) =>\n          `<li>\n          <a\n            class=\"execution-link\"\n            data-relative-url=${file.relativeUrl}\n            href=${relativeUrlToCompiledUrl(file.relativeUrl)}\n          >\n            ${file.relativeUrl}\n          </a>\n        </li>`,\n      )\n      .join(\"\")\n\n    const groupFieldset = fileListElement.querySelector(\"#filter-group-set\")\n    const groupNames = Object.keys(explorableConfig)\n    groupFieldset.innerHTML = groupNames\n      .map(\n        (key) => `<label data-contains-hidden-input class=\"item\">\n  <input type=\"radio\" name=\"filter-group\" value=\"${key}\"/>\n  <span>${key}</span>\n</label>`,\n      )\n      .join(\"\")\n\n    const currentGroup = groupPreference.has() ? groupPreference.get() : groupNames[0]\n    Array.from(groupFieldset.querySelectorAll(\"input\")).forEach((inputRadio) => {\n      inputRadio.checked = inputRadio.value === currentGroup\n      inputRadio.onchange = () => {\n        if (inputRadio.checked) {\n          groupPreference.set(inputRadio.value)\n          enableGroup(inputRadio.value)\n        }\n      }\n    })\n\n    const enableGroup = (groupName) => {\n      const arrayOfElementToShow = []\n      const arrayOfElementToHide = []\n      files.forEach((file) => {\n        const fileLink = fileListElement.querySelector(`a[data-relative-url=\"${file.relativeUrl}\"]`)\n        const fileLi = fileLink.parentNode\n        if (file.meta[groupName]) {\n          arrayOfElementToShow.push(fileLi)\n        } else {\n          arrayOfElementToHide.push(fileLi)\n        }\n      })\n      arrayOfElementToShow.forEach((element) => {\n        element.removeAttribute(\"data-force-hide\")\n      })\n      arrayOfElementToHide.forEach((element) => {\n        element.setAttribute(\"data-force-hide\", \"\")\n      })\n\n      h4.innerHTML =\n        arrayOfElementToShow.length === 0\n          ? `No file found.\n              Config for this section: <pre>${JSON.stringify(\n                explorableConfig[groupName],\n                null,\n                \"  \",\n              )}</pre>`\n          : `${arrayOfElementToShow.length} files found. Click on the one you want to execute`\n    }\n    enableGroup(currentGroup)\n\n    document.querySelector(\"main\").appendChild(fileListElement)\n    makeMenuScrollable()\n  }\n\n  const relativeUrlToCompiledUrl = (relativeUrl) => {\n    return `${compileServerOrigin}/${outDirectoryRelativeUrl}${compileId}/${relativeUrl}`\n  }\n\n  const makeMenuScrollable = () => {\n    const getMenuWrapperSize = () => {\n      return document.querySelector(\".menu-wrapper\").getBoundingClientRect().width\n    }\n    let menuWrapperSize = getMenuWrapperSize()\n\n    const getMenuSize = () => {\n      return document.querySelector(\".menu\").getBoundingClientRect().width\n    }\n    let menuSize = getMenuSize()\n\n    const menuVisibleSize = menuWrapperSize\n    let menuInvisibleSize = menuSize - menuVisibleSize\n\n    const getMenuPosition = () => {\n      return document.querySelector(\".menu-wrapper\").scrollLeft\n    }\n\n    const scrollDuration = 300\n    const leftPaddle = document.querySelector(\".left-paddle\")\n    const rightPaddle = document.querySelector(\".right-paddle\")\n\n    const handleMenuScroll = () => {\n      menuInvisibleSize = menuSize - menuWrapperSize\n      const menuPosition = getMenuPosition()\n      const menuEndOffset = menuInvisibleSize\n\n      // show & hide the paddles, depending on scroll position\n      if (menuPosition <= 0 && menuEndOffset <= 0) {\n        // hide both paddles if the window is large enough to display all tabs\n        leftPaddle.classList.add(\"hidden\")\n        rightPaddle.classList.add(\"hidden\")\n      } else if (menuPosition <= 0) {\n        leftPaddle.classList.add(\"hidden\")\n        rightPaddle.classList.remove(\"hidden\")\n      } else if (menuPosition < Math.floor(menuEndOffset)) {\n        // show both paddles in the middle\n        leftPaddle.classList.remove(\"hidden\")\n        rightPaddle.classList.remove(\"hidden\")\n      } else if (menuPosition >= Math.floor(menuEndOffset)) {\n        leftPaddle.classList.remove(\"hidden\")\n        rightPaddle.classList.add(\"hidden\")\n      }\n    }\n    handleMenuScroll()\n\n    window.onresize = () => {\n      menuWrapperSize = getMenuWrapperSize()\n      menuSize = getMenuSize()\n      handleMenuScroll()\n    }\n\n    // finally, what happens when we are actually scrolling the menu\n    document.querySelector(\".menu-wrapper\").onscroll = () => {\n      handleMenuScroll()\n    }\n\n    // scroll to left\n    rightPaddle.onclick = () => {\n      const scrollStart = document.querySelector(\".menu-wrapper\").scrollLeft\n      const scrollEnd = scrollStart + menuWrapperSize\n      startJavaScriptAnimation({\n        duration: scrollDuration,\n        onProgress: ({ progress }) => {\n          document.querySelector(\".menu-wrapper\").scrollLeft =\n            scrollStart + (scrollEnd - scrollStart) * progress\n        },\n      })\n    }\n\n    // scroll to right\n    leftPaddle.onclick = () => {\n      const scrollStart = document.querySelector(\".menu-wrapper\").scrollLeft\n      const scrollEnd = scrollStart - menuWrapperSize\n      startJavaScriptAnimation({\n        duration: scrollDuration,\n        onProgress: ({ progress }) => {\n          document.querySelector(\".menu-wrapper\").scrollLeft =\n            scrollStart + (scrollEnd - scrollStart) * progress\n        },\n      })\n    }\n  }\n\n  const directoryUrlToDirectoryName = (directoryUrl) => {\n    const slashLastIndex = directoryUrl.lastIndexOf(\n      \"/\",\n      // ignore last slash\n      directoryUrl.length - 2,\n    )\n    if (slashLastIndex === -1) return \"\"\n\n    return directoryUrl.slice(slashLastIndex + 1)\n  }\n\n  renderHtml()\n}\n\nrun()\n"
  ],
  "names": [
    "firstMatch",
    "regexp",
    "string",
    "match",
    "length",
    "undefined",
    "secondMatch",
    "userAgentToVersion",
    "userAgent",
    "detectAndroid",
    "navigatorToBrowser",
    "window",
    "navigator",
    "appVersion",
    "test",
    "name",
    "version",
    "detectInternetExplorer",
    "userAgentToBrowser",
    "detectOpera",
    "detectEdge",
    "detectFirefox",
    "detectChrome",
    "detectSafari",
    "detectElectron",
    "detectIOS",
    "detectorCompose",
    "detectors",
    "i",
    "detector",
    "result",
    "detectBrowser",
    "normalizeName",
    "normalizeVersion",
    "toLowerCase",
    "indexOf",
    "parts",
    "split",
    "slice",
    "join",
    "valueToVersion",
    "value",
    "numberToVersion",
    "stringToVersion",
    "TypeError",
    "createValueErrorMessage",
    "number",
    "major",
    "minor",
    "patch",
    "Number",
    "isNaN",
    "versionCompare",
    "versionA",
    "versionB",
    "semanticVersionA",
    "semanticVersionB",
    "majorDiff",
    "minorDiff",
    "patchDiff",
    "versionIsBelow",
    "versionSupposedBelow",
    "versionSupposedAbove",
    "findHighestVersion",
    "values",
    "Error",
    "reduce",
    "highestVersion",
    "resolveGroup",
    "groupMap",
    "Object",
    "keys",
    "find",
    "compileIdCandidate",
    "runtimeCompatMap",
    "versionForGroup",
    "resolveBrowserGroup",
    "obj",
    "key",
    "defineProperty",
    "enumerable",
    "configurable",
    "writable",
    "createDetailedMessage",
    "message",
    "details",
    "forEach",
    "Array",
    "isArray",
    "COMPILE_ID_OTHERWISE",
    "computeCompileIdFromGroupId",
    "groupId",
    "createUnexpectedGroupIdMessage",
    "compileId",
    "ownKeys",
    "object",
    "enumerableOnly",
    "getOwnPropertySymbols",
    "symbols",
    "filter",
    "sym",
    "getOwnPropertyDescriptor",
    "push",
    "apply",
    "_objectSpread2",
    "target",
    "arguments",
    "source",
    "getOwnPropertyDescriptors",
    "defineProperties",
    "excluded",
    "sourceKeys",
    "objectWithoutPropertiesLoose",
    "sourceSymbolKeys",
    "prototype",
    "propertyIsEnumerable",
    "call",
    "createCancellationToken",
    "register",
    "callback",
    "unregister",
    "throwIfRequested",
    "cancellationRequested",
    "nativeTypeOf",
    "customTypeOf",
    "Symbol",
    "constructor",
    "iterator",
    "isCancelError",
    "memoize",
    "compute",
    "memoized",
    "memoizedValue",
    "fnWithMemoization",
    "forget",
    "_call",
    "body",
    "then",
    "direct",
    "Promise",
    "resolve",
    "e",
    "reject",
    "_await",
    "fetchNative",
    "url",
    "cancellationToken",
    "options",
    "abortController",
    "AbortController",
    "cancelError",
    "reason",
    "abort",
    "response",
    "fetch",
    "signal",
    "_catch",
    "recover",
    "fetchPolyfill",
    "args",
    "loadPolyfill",
    "fetchUsingXHR",
    "_continue",
    "f",
    "fetchUrl",
    "method",
    "credentials",
    "headers",
    "headersPromise",
    "createPromiseAndHooks",
    "bodyPromise",
    "xhr",
    "XMLHttpRequest",
    "failure",
    "error",
    "settled",
    "cleanup",
    "ontimeout",
    "onerror",
    "onload",
    "onreadystatechange",
    "createRequestError",
    "readyState",
    "open",
    "setRequestHeader",
    "withCredentials",
    "computeWithCredentials",
    "hasBlob",
    "responseType",
    "send",
    "responseUrl",
    "responseURL",
    "responseStatus",
    "status",
    "responseStatusText",
    "statusText",
    "responseHeaders",
    "getHeadersFromXHR",
    "readBody",
    "responseText",
    "responseBody",
    "responseBodyType",
    "detectBodyType",
    "text",
    "blobToText",
    "arrayBufferToText",
    "buffer",
    "String",
    "json",
    "JSON",
    "parse",
    "blob",
    "Blob",
    "cloneBuffer",
    "arrayBuffer",
    "blobToArrayBuffer",
    "formData",
    "hasFormData",
    "textToFormData",
    "canUseBlob",
    "FileReader",
    "FormData",
    "hasArrayBuffer",
    "ArrayBuffer",
    "hasSearchParams",
    "URLSearchParams",
    "stack",
    "promise",
    "res",
    "rej",
    "originSameAsGlobalOrigin",
    "location",
    "globalOrigin",
    "origin",
    "hrefToOrigin",
    "isPrototypeOf",
    "isDataView",
    "isArrayBufferView",
    "headerMap",
    "headersString",
    "getAllResponseHeaders",
    "lines",
    "trim",
    "line",
    "shift",
    "href",
    "scheme",
    "hrefToScheme",
    "secondProtocolSlashIndex",
    "pathnameSlashIndex",
    "colonIndex",
    "DataView",
    "isView",
    "viewClasses",
    "includes",
    "toString",
    "form",
    "bytes",
    "replace",
    "append",
    "decodeURIComponent",
    "reader",
    "fileReaderReady",
    "readAsArrayBuffer",
    "readAsText",
    "view",
    "Uint8Array",
    "chars",
    "fromCharCode",
    "byteLength",
    "set",
    "mode",
    "responseToHeaders",
    "fetchJson",
    "fetchExploringJson",
    "createPreference",
    "has",
    "localStorage",
    "hasOwnProperty",
    "get",
    "getItem",
    "setItem",
    "stringify",
    "startJavaScriptAnimation",
    "duration",
    "timingFunction",
    "t",
    "onProgress",
    "onCancel",
    "onComplete",
    "parseInt",
    "startMs",
    "performance",
    "now",
    "currentRequestAnimationFrameId",
    "done",
    "rawProgress",
    "progress",
    "handler",
    "nowMs",
    "Math",
    "min",
    "requestAnimationFrame",
    "stop",
    "cancelAnimationFrame",
    "fetchJSON",
    "_async",
    "groupPreference",
    "run",
    "projectDirectoryUrl",
    "explorableConfig",
    "outDirectoryRelativeUrl",
    "files",
    "compileServerOrigin",
    "document",
    "outDirectoryUrl",
    "URL",
    "groupMapUrl",
    "renderHtml",
    "fileListElement",
    "querySelector",
    "cloneNode",
    "directoryName",
    "directoryUrlToDirectoryName",
    "span",
    "title",
    "textContent",
    "h4",
    "ul",
    "innerHTML",
    "map",
    "file",
    "relativeUrl",
    "relativeUrlToCompiledUrl",
    "groupFieldset",
    "groupNames",
    "currentGroup",
    "from",
    "querySelectorAll",
    "inputRadio",
    "checked",
    "onchange",
    "enableGroup",
    "groupName",
    "arrayOfElementToShow",
    "arrayOfElementToHide",
    "fileLink",
    "fileLi",
    "parentNode",
    "meta",
    "element",
    "removeAttribute",
    "setAttribute",
    "appendChild",
    "makeMenuScrollable",
    "getMenuWrapperSize",
    "getBoundingClientRect",
    "width",
    "menuWrapperSize",
    "getMenuSize",
    "menuSize",
    "menuVisibleSize",
    "menuInvisibleSize",
    "getMenuPosition",
    "scrollLeft",
    "scrollDuration",
    "leftPaddle",
    "rightPaddle",
    "handleMenuScroll",
    "menuPosition",
    "menuEndOffset",
    "classList",
    "add",
    "remove",
    "floor",
    "onresize",
    "onscroll",
    "onclick",
    "scrollStart",
    "scrollEnd",
    "directoryUrl",
    "slashLastIndex",
    "lastIndexOf"
  ],
  "mappings": "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"
}